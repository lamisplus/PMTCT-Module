(this.webpackJsonpLamisPlus=this.webpackJsonpLamisPlus||[]).push([[0],{505:function(e,t,a){},730:function(e,t,a){},731:function(e,t,a){},972:function(e,t,a){},973:function(e,t,a){"use strict";a.r(t);var s=a(2),r=a.n(s),c=a(19),i=a.n(c),n=a(62),o=a(8),l=(a(42),a(730),a(731),a(732),a(1073)),d=a(1074),j=a(1111),b=a(1096),h=a(1075),O=a(4),m=a(59),u=a.n(m),p=a(9),x=a.n(p);const v="/api/v1/",g=new URLSearchParams(window.location.search).get("jwt"),f="/websocket";a(112);var y=a(31),N=a(74),T=a.n(N),S=a(84),C=a.n(S),D=a(75),R=a.n(D),I=a(82),w=a.n(I),A=a(54),P=a.n(A),E=a(53),H=a.n(E),B=a(76),_=a.n(B),k=a(77),Y=a.n(k),M=a(79),F=a.n(M),z=a(80),L=a.n(z),V=a(81),W=a.n(V),U=a(85),G=a.n(U),q=a(78),K=a.n(q),X=a(83),Q=a.n(X),J=a(86),Z=a.n(J),$=(a(41),a(517)),ee=a(1065),te=(a(166),a(12)),ae=a.n(te),se=a(170),re=a.n(se),ce=a(95),ie=a(292),ne=a(296);const oe=e=>{try{const t=Array.isArray(e)?e:[e],a=t.reduce(((e,t)=>{const a=localStorage.getItem(t);try{e[t]=a&&(a.startsWith("[")||a.startsWith("{"))?JSON.parse(a):a}catch(s){e[t]=a}return e}),{});return 1===t.length?a[e]:a}catch(t){return console.error("Error accessing localStorage:",t),Array.isArray(e)?{}:null}},le=async()=>{try{const e=await x.a.get("".concat(v,"account"),{headers:{Authorization:"Bearer ".concat(g)}});return localStorage.setItem("user_account",JSON.stringify(e.data)),localStorage.setItem("currentUser_Roles",JSON.stringify(e.data.roles)),localStorage.setItem("currentUser_Permission",JSON.stringify(e.data.permissions)),{user_account:e.data,currentUser_Roles:e.data.roles,currentUser_Permission:e.data.permissions}}catch(e){return console.error("Error fetching account data:",e),null}},de=()=>{const[e,t]=Object(s.useState)(new Set),[a,r]=Object(s.useState)(!0);Object(s.useEffect)((()=>{(async()=>{try{const e=await(async()=>{try{const e=oe("currentUser_Permission");if(!e){const e=await le();return Array.isArray(null===e||void 0===e?void 0:e.currentUser_Permission)?e.currentUser_Permission:[]}return Array.isArray(e)?e:[]}catch(e){return console.error("Error getting permissions:",e),[]}})();t(new Set(Array.isArray(e)?e:[]))}catch(e){console.error("Error loading permissions:",e),t(new Set)}finally{r(!1)}})()}),[]);const c=Object(s.useMemo)((()=>({hasPermission:t=>e.has(t),hasAnyPermission:function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return a.some((t=>e.has(t)))}})),[e]);return Object(O.a)(Object(O.a)({},c),{},{loading:a})};var je=a(1);var be=e=>{const[t,a]=Object(s.useState)("home"),[r,c]=Object(s.useState)(""),[i,o]=Object(s.useState)([]),l=Object(n.g)(),{hasPermission:d}=de(),j=Object(s.useMemo)((()=>({hasPmtct:d("maternal_cohort_register"),hasANC:d("general_anc_register")})),[d]);return Object(s.useEffect)((()=>{a("home"),x.a.get("".concat(v,"application-codesets/v2/PMTCT_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o(e.data)})).catch((e=>{}))}),[]),Object(je.jsx)("div",{className:"PMTCT-entryPoint",children:Object(je.jsxs)(ne.a,Object(O.a)(Object(O.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(je.jsx)(ne.a.Header,{children:Object(je.jsxs)(ne.a.Title,{id:"contained-modal-title-vcenter",children:["PMTCT Entry Point"," "]})}),Object(je.jsxs)(ne.a.Body,{children:[Object(je.jsx)("h4",{children:" "}),Object(je.jsx)("div",{className:" ",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:i.map(((t,a)=>"ANC"===t.display&&j.hasANC?Object(je.jsx)(y.b,{to:{pathname:e.route,state:Object(O.a)({showANC:!0,postValue:t.display,entrypointValue:t.code},e.info)},children:Object(je.jsx)(ie.a,{variant:"primary",color:"primary",className:" mb-10 px-4",style:{border:"1px solid black",color:"white",borderRadius:"0",width:"120px",height:"35px",backgroundColor:"#007bb6",borderRadius:"3px",border:"none",padding:"0px"},children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:t.display})})}):"L&D"===t.display&&j.hasPmtct?Object(je.jsx)(y.b,{to:{pathname:e.route,state:Object(O.a)({showANC:!1,postValue:t.display,entrypointValue:t.code},e.info)},children:Object(je.jsx)(ie.a,{variant:"primary",color:"primary",className:" mb-10 px-4",style:{border:"1px solid black",color:"white",borderRadius:"0",width:"120px",margin:"10px 20px ",height:"35px",backgroundColor:"rgb(153, 46, 98)",borderRadius:"3px",border:"none"},children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:t.display})})}):"Post-Partum"===t.display&&j.hasPmtct?Object(je.jsxs)("select",{style:{border:"1px solid black",color:"white",borderRadius:"0",width:"120px",height:"35px",padding:"0px 5px",backgroundColor:"#21ba45",borderRadius:"3px",border:"none"},onChange:a=>{c(a.target.value),l.push({pathname:e.route,state:Object(O.a)({showANC:!1,postValue:t.display,subPostValue:a.target.value,entrypointValue:t.code},e.info)})},children:[Object(je.jsx)("option",{defaultValue:"",children:t.display}),Object(je.jsx)("option",{value:"\u2264 72 hrs",children:"\u2264  72 hrs"}),Object(je.jsx)("option",{value:"> 72 hrs - < 6 month",children:"> 72 hrs - < 6 month"}),Object(je.jsx)("option",{value:"> 6 months - 12 months",children:"> 6 months - 12 months"})]}):void 0))})]}),Object(je.jsx)(ne.a.Footer,{children:Object(je.jsx)(ie.a,{variant:"contained",color:"primary",className:" float-end mb-10",style:{backgroundColor:"#014d88",color:"white"},onClick:e.onHide,children:"Close"})})]}))})};ae.a.locale("en"),re()();var he=a(225);const Oe={search:!0,headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400},me=e=>{let{title:t,columns:a,data:s,icons:r,showPPI:c,onPPIChange:i,isLoading:n}=e;return Object(je.jsx)(u.a,{icons:r,title:t,columns:a,isLoading:n,data:s,options:Oe,components:{Toolbar:e=>Object(je.jsxs)("div",{children:[Object(je.jsxs)("div",{className:"form-check custom-checkbox float-left mt-4 ml-3",children:[Object(je.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPPI",id:"showPPI",value:"showPPI",checked:!c,onChange:i,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(je.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(je.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(je.jsx)(m.MTableToolbar,Object(O.a)({},e))]})}})};var ue=r.a.memo(me);ae.a.locale("en"),re()();const pe={Add:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(T.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Check:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(R.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Clear:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Delete:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(_.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),DetailPanel:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Edit:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Y.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Export:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(K.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Filter:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(F.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),FirstPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(L.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),LastPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(W.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),NextPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),PreviousPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(w.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ResetSearch:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Search:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Q.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),SortArrow:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ThirdStateCheck:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(G.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ViewColumn:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Z.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))))};var xe=e=>{const{hasPermission:t}=de(),a=Object(s.useMemo)((()=>({canSeeEnrollButton:t("general_anc_register")})),[t]),[r,c]=Object(s.useState)(!0),i=e=>{e.target.checked?c(!1):c(!0)},n=Object(s.useMemo)((()=>[{title:"Patient Name",field:"fullname",hidden:r},{title:"Hospital Number",field:"hospitalNumber",filtering:!1},{title:"Sex",field:"sex",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"Actions",field:"actions",render:e=>{e.isEnrolled;return Object(je.jsx)("div",{children:a.canSeeEnrollButton&&Object(je.jsx)("div",{children:Object(je.jsx)(y.b,{to:{pathname:"/patient-history",state:{patientObj:e,postValue:"ANC",entrypointValue:"PMTCT_ENTRY_POINT_ANC"}},children:Object(je.jsxs)(ee.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(je.jsx)($.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(je.jsx)(he.a,{})}),Object(je.jsx)($.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(je.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})})}}]),[r,a.canSeeEnrollButton]);return Object(je.jsx)("div",{children:Object(je.jsx)(u.a,{icons:pe,title:"Find Patient ",columns:n,data:async e=>{try{const t=await x.a.get("".concat(v,"pmtct/anc/all-active-anc?pageSize=").concat(e.pageSize,"&pageNo=").concat(e.page,"&searchParam=").concat(e.search),{headers:{Authorization:"Bearer ".concat(g)}});return{data:t.data.records,page:(null===e||void 0===e?void 0:e.page)||0,totalCount:t.data.records.length||0}}catch(t){return{data:[],page:0,totalCount:0}}},options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400},components:{Toolbar:e=>Object(je.jsxs)("div",{children:[Object(je.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(je.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==r,onChange:i,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(je.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(je.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(je.jsx)(m.MTableToolbar,Object(O.a)({},e))]})}})})};ae.a.locale("en"),re()();const ve={Add:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(T.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Check:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(R.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Clear:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Delete:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(_.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),DetailPanel:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Edit:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Y.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Export:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(K.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Filter:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(F.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),FirstPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(L.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),LastPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(W.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),NextPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),PreviousPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(w.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ResetSearch:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Search:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Q.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),SortArrow:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ThirdStateCheck:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(G.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ViewColumn:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Z.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))))};var ge=e=>{const{hasPermission:t}=de(),a=Object(s.useMemo)((()=>({canSeeEnrollButton:t("maternal_cohort_register")})),[t]),[r,c]=Object(s.useState)(!0),i=e=>{e.target.checked?c(!1):c(!0)},n=Object(s.useMemo)((()=>[{title:"Patient Name",field:"fullName",hidden:r},{title:"Hospital Number",field:"hospitalNumber",filtering:!1},{title:"Sex",field:"sex",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"Actions",field:"actions",render:e=>{e.isEnrolled;return Object(je.jsx)("div",{children:a.canSeeEnrollButton&&Object(je.jsx)("div",{children:Object(je.jsx)(y.b,{to:{pathname:"/patient-history",state:{patientObj:e}},children:Object(je.jsxs)(ee.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(je.jsx)($.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(je.jsx)(he.a,{})}),Object(je.jsx)($.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(je.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})})}}]),[r,a.canSeeEnrollButton]);return Object(je.jsx)("div",{children:Object(je.jsx)(u.a,{icons:ve,title:"Find Patient ",columns:n,data:async e=>{try{const t=await x.a.get("".concat(v,"pmtct/anc/all-active-pmtct?pageSize=").concat(e.pageSize,"&pageNo=").concat(e.page,"&searchParam=").concat(e.search),{headers:{Authorization:"Bearer ".concat(g)}});return{data:t.data.records,page:(null===e||void 0===e?void 0:e.page)||0,totalCount:t.data.records.length||0}}catch(t){return{data:[],page:0,totalCount:0}}},options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400},components:{Toolbar:e=>Object(je.jsxs)("div",{children:[Object(je.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(je.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==r,onChange:i,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(je.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(je.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(je.jsx)(m.MTableToolbar,Object(O.a)({},e))]})}})})};var fe=a(1071),ye=a(1072),Ne=a(608),Te=a(446),Se=a(417),Ce=a.n(Se);const De={Add:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(T.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Check:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(R.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Clear:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Delete:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(_.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),DetailPanel:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Edit:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Y.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Export:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(K.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Filter:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(F.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),FirstPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(L.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),LastPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(W.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),NextPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),PreviousPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(w.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ResetSearch:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Search:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Q.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),SortArrow:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ThirdStateCheck:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(G.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ViewColumn:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Z.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))))},Re=(Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}))),e=>{const{hasAnyPermission:t}=de(),[a,r]=Object(s.useState)(!0),{fetchPatients:c}=(i=v,n=g,{fetchPatients:Object(s.useCallback)((async e=>{try{var t;const e=(await x.a.get("".concat(i,"opd-setting"),{headers:{Authorization:"Bearer ".concat(n)}})).data,a=null===e||void 0===e||null===(t=e.find((e=>"PMTCT"===e.moduleServiceName.toUpperCase())))||void 0===t?void 0:t.moduleServiceCode;if(a)return(await x.a.get("".concat(i,"patient/checked-in-by-service/").concat(a),{headers:{Authorization:"Bearer ".concat(n)}})).data}catch(a){return console.error("Failed to fetch patients:",a),[]}}),[i,n])});var i,n;const[o,l]=Object(s.useState)(0),[d,j]=Object(s.useState)(!1),[b,h]=Object(s.useState)({}),O=Object(s.useMemo)((()=>({canSeeEnrollButton:t("maternal_cohort_register","general_anc_register")})),[t]),m=Object(s.useMemo)((()=>[{title:"Patient Name",field:"fullname",hidden:a},{title:"Hospital Number",field:"hospitalNumber"},{title:"Sex",field:"sex"},{title:"Age",field:"age"},{title:"Biometrics",field:"biometricStatus",render:e=>!0===e.biometricStatus?Object(je.jsx)(Te.a,{color:"green",size:"mini",children:"Biometric Captured"}):Object(je.jsx)(Te.a,{color:"red",size:"mini",children:"No Biometric"})},{title:"Actions",field:"actions",render:e=>{e.isEnrolled;return Object(je.jsx)("div",{children:O.canSeeEnrollButton&&e.isOnPmtct||O.canSeeEnrollButton&&e.isOnAnc?Object(je.jsx)("div",{onClick:t=>{h({patientId:e.id,patientObj:e})},children:Object(je.jsx)(y.b,{to:{pathname:"/patient-history",state:{patientObj:e}},children:Object(je.jsxs)(ee.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(je.jsx)($.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(je.jsx)(ce.b,{})}),Object(je.jsx)($.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(je.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Dashboard"})})]})})}):O.canSeeEnrollButton?Object(je.jsx)("div",{onClick:t=>{j(!0),h({patientId:e.id,patientObj:e})},children:Object(je.jsxs)(ee.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(je.jsx)($.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(je.jsx)(ce.b,{})}),Object(je.jsx)($.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(je.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Enroll Patient"})})]})}):""})}}]),[a,O.canSeeEnrollButton]);return Object(je.jsxs)("div",{children:[Object(je.jsx)(Ce.a,{url:f,topics:["/topic/checking-in-out-process"],onMessage:e=>{var t;e&&null!==e&&void 0!==e&&null!==(t=e.toLowerCase())&&void 0!==t&&t.includes("check")&&l((e=>e+1))},debug:!0}),Object(je.jsx)(fe.a,{children:Object(je.jsx)(ye.a,{children:Object(je.jsx)(ue,{title:"PMTCT Checked In Patients",columns:m,data:async e=>{try{const t=[...await c(e)||[]].reverse();return{data:t,page:(null===e||void 0===e?void 0:e.page)||0,totalCount:t.length||0}}catch(t){return{data:[],page:0,totalCount:0}}},icons:De,showPPI:a,onPPIChange:e=>{r(!e.target.checked)}},o)})}),Object(je.jsx)(be,{route:"/enroll-patient",show:d,info:b,onHide:()=>j(!1)})]})});var Ie=Object(s.memo)(Re);const we={borderRadius:"2px",fontSize:14};var Ae=e=>{const[t,a]=Object(s.useState)("checkedIn"),[r,c]=Object(s.useState)(!1),[i,n]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{a("checkedIn")}),[]),Object(je.jsxs)(s.Fragment,{children:[Object(je.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(je.jsx)("ol",{className:"breadcrumb",children:Object(je.jsx)("li",{className:"breadcrumb-item active",children:Object(je.jsx)("h4",{children:"PMTCT"})})})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)(l.a,{children:Object(je.jsx)(d.a,{xl:12,children:Object(je.jsx)(j.a,{style:we,children:Object(je.jsx)(j.a.Body,{children:Object(je.jsx)("div",{className:"custom-tab-1",children:Object(je.jsxs)(b.a,{id:"controlled-tab-example",activeKey:t,onSelect:e=>a(e),className:"mb-3",children:[Object(je.jsx)(h.a,{eventKey:"checkedIn",title:"Checked In Patients",children:Object(je.jsx)(Ie,{})}),Object(je.jsx)(h.a,{eventKey:"anc",title:"ANC Patients",children:Object(je.jsx)(xe,{})}),Object(je.jsx)(h.a,{eventKey:"pmtct",title:"General PMTCT Patients",children:Object(je.jsx)(ge,{})})]})})})})})}),Object(je.jsx)(be,{route:"/register-patient",show:r,onHide:()=>c(!1)})]})},Pe=a(10),Ee=a(1112),He=a(1113),Be=a(1068),_e=a(1069),ke=a(1076),Ye=a(1077),Me=a(211);ae.a.locale("en"),re()();var Fe=Object(Pe.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){var t,a,r,c,i,n,o;const{classes:l}=e,d=e.patientObj?e.patientObj:{},[j,b]=(e.permissions&&e.permissions,Object(s.useState)(d)),[h,O]=Object(s.useState)(null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.biometricStatus),[m,u]=Object(s.useState)(!1),[p,f]=Object(s.useState)([]),[N,T]=Object(s.useState)(!1),[S,C]=Object(s.useState)(!1),[D,R]=Object(s.useState)(),[I,w]=Object(s.useState)(!1);Object(s.useEffect)((()=>{!async function(){x.a.get("".concat(v,"hiv/status/patient-current/").concat(j.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{R(e.data)})).catch((e=>{}))}(),A()}),[e.patientObj]);const A=()=>{x.a.get("".concat(v,"modules/check?moduleName=biometric"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{u(e.data),!0===e.data&&x.a.get("".concat(v,"biometrics/devices"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{f(e.data)})).catch((e=>{console.error(e)}))})).catch((e=>{}))};return Object(je.jsx)("div",{className:l.root,children:Object(je.jsx)(Be.a,{children:Object(je.jsx)(_e.a,{children:Object(je.jsx)(ke.a,{children:Object(je.jsx)(Ye.a,{md:12,children:Object(je.jsxs)(ke.a,{className:"mt-1",children:[Object(je.jsxs)(Ye.a,{md:12,className:l.root2,children:[Object(je.jsx)("b",{style:{fontSize:"25px"},children:null!==j&&void 0!==j&&j.fullname?null===j||void 0===j?void 0:j.fullname:null===j||void 0===j?void 0:j.fullName}),Object(je.jsx)(y.b,{to:"/",children:Object(je.jsx)($.a,{variant:"contained",color:"primary",className:" float-end ms-2 mr-2 mt-2",startIcon:Object(je.jsx)(ce.a,{}),style:{backgroundColor:"rgb(153, 46, 98)",color:"#fff",height:"35px"},children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})})]}),Object(je.jsx)(Ye.a,{md:4,className:l.root2,children:Object(je.jsxs)("span",{children:[" ","Patient ID : ",Object(je.jsx)("b",{children:null===j||void 0===j?void 0:j.hospitalNumber})]})}),Object(je.jsx)(Ye.a,{md:4,className:l.root2,children:Object(je.jsx)("span",{})}),Object(je.jsx)(Ye.a,{md:4,className:l.root2,children:Object(je.jsxs)("span",{children:[" ","Age :"," ",Object(je.jsxs)("b",{children:[null===j||void 0===j?void 0:j.age," ",Number(null===j||void 0===j?void 0:j.age)>1?"years":"year"]})]})}),Object(je.jsx)(Ye.a,{md:4,children:Object(je.jsxs)("span",{children:[" ","Gender :"," ",Object(je.jsx)("b",{children:j.sex&&null!==j.sex?j.sex:"Female"})]})}),Object(je.jsx)(Ye.a,{md:4,className:l.root2,children:Object(je.jsx)("span",{children:" "})}),Object(je.jsx)(Ye.a,{md:4,className:l.root2,children:Object(je.jsxs)("span",{children:[" ","Address :"," ",Object(je.jsxs)("b",{children:[(null===j||void 0===j?void 0:j.address)&&(e=>{const t=null===e||void 0===e?void 0:e.address.find((e=>e.city)),a=t&&null!==(null===t||void 0===t?void 0:t.line[0])?null===t||void 0===t?void 0:t.line[0]:"",s=t&&t.city&&null!==t.city?t.city:"";return t?a+" "+s:""})(null===j||void 0===j?void 0:j.address)," "]})]})}),Object(je.jsxs)(Ye.a,{md:12,children:[!0===m?Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("div",{children:Object(je.jsx)(Me.a,{variant:"caption",children:Object(je.jsxs)(Te.a,{color:!0===(null===(a=e.patientObj)||void 0===a?void 0:a.biometricStatus)?"green":"red",size:"mini",children:["Biometric Status",Object(je.jsx)(Te.a.Detail,{children:!0===(null===(r=e.patientObj)||void 0===r?void 0:r.biometricStatus)?"Captured":"Not Captured"})]})})})}):Object(je.jsx)(je.Fragment,{}),null!==e.patientObj.dynamicHivStatus||null!==e.patientObj.staticHivStatus?Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("div",{children:Object(je.jsx)(Me.a,{variant:"caption",children:Object(je.jsxs)(Te.a,{color:"Positive"!==e.patientObj.dynamicHivStatus&&"Positive"!==e.patientObj.staticHivStatus?"green":"red",size:"mini",children:["HIV Status",Object(je.jsx)(Te.a.Detail,{children:e.patientObj.dynamicHivStatus?null===e||void 0===e||null===(c=e.patientObj)||void 0===c?void 0:c.dynamicHivStatus:null!==e&&void 0!==e&&null!==(i=e.patientObj)&&void 0!==i&&i.staticHivStatus?null===e||void 0===e||null===(n=e.patientObj)||void 0===n?void 0:n.staticHivStatus:null===e||void 0===e||null===(o=e.patientObj)||void 0===o?void 0:o.hivStatus})]})})})}):Object(je.jsx)(je.Fragment,{})]})]})})})})})})})),ze=a(1095);const Le=Object(Ne.a)((e=>({navItemText:{padding:e.spacing(2)}})));var Ve=function(e){var t,a,r;const{hasPermission:c}=de();Le();let i="";const n=e.patientObj?e.patientObj:{},[o,l]=Object(s.useState)(n),[d,j]=Object(s.useState)(),[b,h]=Object(s.useState)(!1),[m,u]=Object(s.useState)(o.dynamicHivStatus?o.dynamicHivStatus:o.staticHivStatus?o.staticHivStatus:null!==o&&void 0!==o&&o.hivStatus?null===o||void 0===o?void 0:o.hivStatus:null!==o&&void 0!==o&&o.isEnrolled?null===o||void 0===o?void 0:o.isEnrolled:""),[p,f]=Object(s.useState)(null!==e&&void 0!==e&&null!==(t=e.patientObj)&&void 0!==t&&t.pmtctRegStatus?null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.pmtctRegStatus:null===e||void 0===e||null===(r=e.patientObj)||void 0===r?void 0:r.isOnPmtct);let y=!1,N=!1;const T=Object(s.useMemo)((()=>({canSeePMTCT:c("maternal_cohort_register"),canSeeDelivery:c("delivery_register")})),[c]);Object(s.useEffect)((()=>{e.deliveryInfo.filter((e=>{"Labour and Delivery"===e.activityName&&h(!0)})),S(),i=e.patientObj&&e.patientObj.sex?e.patientObj.sex:null,j("Female"===i)}),[e.patientObj]),Object(s.useEffect)((()=>{e.deliveryInfo.filter((e=>{"Labour and Delivery"===e.activityName&&h(!0)}))}),[e.deliveryInfo]),Object(s.useEffect)((()=>{C()}),[e.enrollPMTCT]);const S=()=>{x.a.get("".concat(v,"observation/person/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{const t=e.data,a=t.filter((e=>"mental health"===e.type)),s=t.filter((e=>"initial evaluation"===e.type));a.length>1&&(y=!0),s.length>1&&(N=!0)})).catch((e=>{}))},C=()=>{x.a.get("".concat(v,"pmtct/anc/is-on-pmtct?personUuid=").concat(o.person_uuid?o.person_uuid:o.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{f(e.data)})).catch((e=>{console.error(e)}))};return Object(je.jsx)("div",{children:Object(je.jsxs)(ze.a,{size:"large",color:"black",inverted:!0,children:[Object(je.jsx)(ze.a.Item,{onClick:()=>{e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"recent-history"}))},children:" Home"}),"Positive"===m&&Object(je.jsx)(je.Fragment,{children:!0!==p?Object(je.jsx)(je.Fragment,{children:T.canSeePMTCT&&Object(je.jsx)(ze.a.Item,{onClick:()=>{e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"anc-pnc"}))},children:"PMTCT Enrollment"})}):Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(ze.a.Item,{onClick:()=>{e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"consultation"}))},children:"Follow Up Visit"}),T.canSeeDelivery&&!0!==o.deliveryStatus&&!0!==b&&Object(je.jsx)(ze.a.Item,{onClick:()=>{e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"labour-delivery"}))},children:"Labour and Delivery"}),(null===o||void 0===o?void 0:o.ancNo)&&Object(je.jsxs)(ze.a.Item,{onClick:()=>{e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"partners"}))},children:[" ","Partners"]}),Object(je.jsxs)(ze.a.Item,{onClick:()=>{e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"infants"}))},children:[" ","Infant Information"]}),Object(je.jsxs)(ze.a.Item,{onClick:()=>{e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"patient-visit"}))},children:[" ","Checked-In History"]})]})}),Object(je.jsx)(ze.a.Item,{onClick:()=>{e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"patient-history"}))},children:"History"})]})})},We=a(1105),Ue=a(1106),Ge=a(1078),qe=a(1079),Ke=a(1080),Xe=a(48),Qe=a.n(Xe);const Je=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Ze=e=>{let t=e.patientObj?e.patientObj:{};const[a,r]=Object(s.useState)({}),[c,i]=Object(s.useState)(!1);let n=Object(O.a)({},a);const l=Je(),[d,j]=Object(s.useState)(!1),[b,h]=Object(s.useState)([]),[m,u]=Object(s.useState)([]),[p,f]=Object(s.useState)([]),[y,N]=Object(s.useState)([]),[T,S]=Object(s.useState)(!1),[C,D]=Object(s.useState)([]),[R,I]=(Object(s.useRef)(null),Object(s.useState)({ancNo:t.ancNo,dateOfViralLoad:"",dateOfVisit:"",dateOfmeternalOutcome:"",dateOfDelivery:"",dsd:"",dsdModel:"",dsdOption:"",enteryPoint:"619"===e.patientObj.entryPoint?"POINT_ENTRY_PMTCT_ANC":"POINT_ENTRY_PMTCT",fpCounseling:"",fpMethod:"",gaOfViralLoad:"",id:"",maternalOutcome:"",nextAppointmentDate:"",personUuid:t.person_uuid?t.person_uuid:t.personUuid,resultOfViralLoad:"",transferTo:"",visitStatus:"",timeOfViralLoad:""})),[w,A]=Object(s.useState)({});Object(s.useEffect)((()=>{x.a.get("".concat(v,"pmtct/anc/get-delivery-date/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{e.data&&(S(!0),I(Object(O.a)(Object(O.a)({},R),{},{dateOfDelivery:e.data}))),S(!1),I(Object(O.a)(Object(O.a)({},R),{},{dateOfDelivery:e.data}))})).catch((e=>{})),E(),B(),H(),x.a.get("".concat(v,"application-codesets/v2/PMTCT_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{D(e.data)})).catch((e=>{})),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&"home"===e.activeContent.activeTab&&(P(e.activeContent.id),i("view"===e.activeContent.actionType))}),[e.activeContent]),Object(s.useEffect)((()=>{C.map(((t,a)=>{Number(t.id)===Number(e.patientObj.entryPoint)&&A(t)}))}),[]);const P=t=>{x.a.get("".concat(v,"pmtct/anc/view-mother-visit/").concat(e.activeContent.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{I(e.data),k(e.data.dsdModel)})).catch((e=>{}))},E=()=>{x.a.get("".concat(v,"application-codesets/v2/VISIT_STATUS_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{u(e.data)})).catch((e=>{}))},H=()=>{x.a.get("".concat(v,"application-codesets/v2/FAMILY_PLANNING_METHOD"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{N(e.data)})).catch((e=>{}))},B=()=>{x.a.get("".concat(v,"application-codesets/v2/MATERNAL_OUTCOME"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{f(e.data)})).catch((e=>{}))},_=t=>{if(r(Object(O.a)(Object(O.a)({},n),{},{[t.target.name]:""})),"dsdModel"===t.target.name&&k(t.target.value),"dateOfViralLoad"===t.target.name&&""!==t.target.value){async function a(){const a=t.target.value,s=await x.a.get("".concat(v,"pmtct/anc/calculate-ga-from-person?personUuid=").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid,"&visitDate=").concat(a),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});s.data>0?(R.gaOfViralLoad=s.data,I(Object(O.a)(Object(O.a)({},R),{},{[t.target.name]:t.target.value}))):I(Object(O.a)(Object(O.a)({},R),{},{[t.target.name]:t.target.value}))}async function s(){const a=t.target.value,s=await x.a.get("".concat(v,"pmtct/anc/vl-result/?PersonUuid=").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid,"&dateResultReceived=").concat(a),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"application/json"}});s.data.length>0&&s.data[0]&&I(Object(O.a)(Object(O.a)({},R),{},{resultOfViralLoad:s.data[0].currentViralLoad}))}a(),s()}"fpCounseling"===t.target.name&&"No"===t.target.value&&(R.fpMethod="",I(Object(O.a)(Object(O.a)({},R),{},{fpMethod:""})),I(Object(O.a)(Object(O.a)({},R),{},{[t.target.name]:t.target.value}))),"dsd"===t.target.name&&"Yes"!==t.target.value&&(R.dsdModel="",R.dsdOption="",I(Object(O.a)(Object(O.a)({},R),{},{dsdModel:""})),I(Object(O.a)(Object(O.a)({},R),{},{dsdOption:""})),I(Object(O.a)(Object(O.a)({},R),{},{[t.target.name]:t.target.value}))),"visitStatus"===t.target.name&&"VISIT_STATUS_PMTCT_TRANSFER_OUT"!==t.target.value&&(R.transferTo="",I(Object(O.a)(Object(O.a)({},R),{},{transferTo:""})),I(Object(O.a)(Object(O.a)({},R),{},{[t.target.name]:t.target.value}))),I(Object(O.a)(Object(O.a)({},R),{},{[t.target.name]:t.target.value}))};function k(e){const t="Facility"===e?"DSD_MODEL_FACILITY":"DSD_MODEL_COMMUNITY";x.a.get("".concat(v,"application-codesets/v2/").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{h(e.data)})).catch((e=>{}))}const Y=t=>{t.preventDefault(),n.visitStatus=R.visitStatus?"":"This field is required",n.dateOfVisit=R.dateOfVisit?"":"This field is required",n.dsd=R.dsd?"":"This field is required",n.enteryPoint=R.enteryPoint?"":"This field is required",n.fpCounseling=R.fpCounseling?"":"This field is required",n.dateOfmeternalOutcome=R.dateOfmeternalOutcome?"":"This field is required",n.maternalOutcome=R.maternalOutcome?"":"This field is required",r(Object(O.a)({},n)),Object.values(n).every((e=>""==e))&&(j(!0),e.activeContent&&"update"===e.activeContent.actionType?x.a.put("".concat(v,"pmtct/anc/update-mother-visit/").concat(e.activeContent.id),R,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{j(!1),o.b.success("Clinic Visit save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{if(j(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):x.a.post("".concat(v,"pmtct/anc/pmtct-visit"),R,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{j(!1),o.b.success("Clinic Visit save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{if(j(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})))};return Object(je.jsxs)("div",{children:[Object(je.jsx)("div",{className:"row",children:Object(je.jsx)("div",{className:"col-md-8 ",children:Object(je.jsx)("h2",{children:"Mother Follow-up Visit"})})}),Object(je.jsx)(We.a,{children:Object(je.jsx)(We.a.Column,{children:Object(je.jsxs)(Ue.a,{children:[Object(je.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsx)("h4",{style:{color:"#fff"},children:"VITAL SIGNS"})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date of Visit ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfVisit",id:"dateOfVisit",value:R.dateOfVisit,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:_,min:e.patientObj.firstAncDate,max:ae()(new Date).format("YYYY-MM-DD"),disabled:c}),""!==a.dateOfVisit?Object(je.jsx)("span",{className:l.error,children:a.dateOfVisit}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Point of Entry",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(Ke.a,{type:"select",name:"enteryPoint",id:"enteryPoint",value:e.patientObj.entryPoint,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!0,children:C.map(((e,t)=>Object(je.jsx)("option",{value:e.code,children:e.display},t)))}),""!==a.enteryPoint?Object(je.jsx)("span",{className:l.error,children:a.enteryPoint}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["FP Counselling ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(Ke.a,{type:"select",name:"fpCounseling",id:"fpCounseling",value:R.fpCounseling,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:c,children:[Object(je.jsx)("option",{value:"",children:"Select "}),Object(je.jsx)("option",{value:"Yes",children:"YES "}),Object(je.jsx)("option",{value:"No",children:"NO "})]}),""!==a.fpCounseling?Object(je.jsx)("span",{className:l.error,children:a.fpCounseling}):""]})}),"Yes"===R.fpCounseling&&Object(je.jsx)("div",{className:" mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"FP Method "}),Object(je.jsxs)(Ke.a,{type:"select",name:"fpMethod",id:"fpMethod",value:R.fpMethod,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:c,children:[Object(je.jsx)("option",{value:"select",children:"Select "}),y.map((e=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==a.fpMethod?Object(je.jsx)("span",{className:l.error,children:a.fpMethod}):""]})}),"PMTCT_ENTRY_POINT_ANC"!==e.patientObj.entryPoint&&Object(je.jsx)("div",{className:"mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date of Delivery ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfDelivery",id:"dateOfDelivery",onChange:_,value:R.dateOfDelivery,min:e.patientObj.firstAncDate,max:ae()(new Date).format("YYYY-MM-DD"),disabled:T||c}),""!==a.dateOfDelivery?Object(je.jsx)("span",{className:l.error,children:a.dateOfDelivery}):""]})})]}),Object(je.jsx)("br",{}),Object(je.jsx)(Te.a,{as:"a",color:"teal",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsx)("h4",{style:{color:"#fff"},children:" VIRAL LOAD "})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Viral Load Collection Date "}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfViralLoad",id:"dateOfViralLoad",value:R.dateOfViralLoad,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:e.patientObj.firstAncDate,max:ae()(new Date).format("YYYY-MM-DD"),disabled:c}),""!==a.dateOfViralLoad?Object(je.jsx)("span",{className:l.error,children:a.dateOfViralLoad}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"GA at VL Collection "}),Object(je.jsx)(Ke.a,{type:"number",name:"gaOfViralLoad",id:"gaOfViralLoad",value:R.gaOfViralLoad,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:e.patientObj.firstAncDate,disabled:!1===c||c}),""!==a.gaOfViralLoad?Object(je.jsx)("span",{className:l.error,children:a.gaOfViralLoad}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Result "}),Object(je.jsx)(Ke.a,{type:"number",name:"resultOfViralLoad",id:"resultOfViralLoad",value:R.resultOfViralLoad,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:c}),""!==a.resultOfViralLoad?Object(je.jsx)("span",{className:l.error,children:a.resultOfViralLoad}):""]})})]}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)(Te.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsx)("h4",{style:{color:"#fff"},children:" DSD MODEL & OUTCOME"})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["DSD ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(Ke.a,{type:"select",name:"dsd",id:"dsd",value:R.dsd,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:c,children:[Object(je.jsx)("option",{value:"",children:"Select "}),Object(je.jsx)("option",{value:"Yes",children:"YES "}),Object(je.jsx)("option",{value:"No",children:"NO "})]}),""!==a.dsd?Object(je.jsx)("span",{className:l.error,children:a.dsd}):""]})}),"Yes"===R.dsd&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"DSD Model"}),Object(je.jsxs)(Ke.a,{type:"select",name:"dsdModel",id:"dsdModel",value:R.dsdModel,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:c,children:[Object(je.jsx)("option",{value:"",children:"Select "}),Object(je.jsx)("option",{value:"Facility",children:"Facility "}),Object(je.jsx)("option",{value:"Community",children:"Community "})]})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"DSD Model Type"}),Object(je.jsxs)(Ke.a,{type:"select",name:"dsdOption",id:"dsdOption",value:R.dsdOption,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:c,children:[Object(je.jsx)("option",{value:"",children:"Select "}),b.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.code)))]})]})})]}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Maternal Outcome ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(Ke.a,{type:"select",name:"maternalOutcome",id:"maternalOutcome",value:R.maternalOutcome,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:c,children:[Object(je.jsx)("option",{value:"",children:"Select "}),p.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.code)))]})]})}),Object(je.jsx)("div",{className:" mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date of Outcome ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfmeternalOutcome",id:"dateOfmeternalOutcome",value:R.dateOfmeternalOutcome,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:e.patientObj.firstAncDate,max:ae()(new Date).format("YYYY-MM-DD"),disabled:c}),""!==a.dateOfmeternalOutcome?Object(je.jsx)("span",{className:l.error,children:a.dateOfmeternalOutcome}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Client Visit Status ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(Ke.a,{type:"select",name:"visitStatus",id:"visitStatus",value:R.visitStatus,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:c,children:[Object(je.jsx)("option",{value:"",children:"Select "}),m.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.code)))]}),""!==a.visitStatus?Object(je.jsx)("span",{className:l.error,children:a.visitStatus}):""]})}),"VISIT_STATUS_PMTCT_TRANSITIONED_TO_ART_CLINIC"===R.visitStatus&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Name of ART Facility "}),Object(je.jsx)(Ke.a,{type:"text",name:"transferTo",id:"transferTo",value:R.transferTo,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:c}),""!==a.transferTo?Object(je.jsx)("span",{className:l.error,children:a.transferTo}):""]})})]}),""!==R.maternalOutcome&&"MATERNAL_OUTCOME_ACTIVE_IN_PMTCT"!==R.maternalOutcome&&""!==R.maternalOutcome&&"MATERNAL_OUTCOME_ALIVE"!==R.maternalOutcome?Object(je.jsx)("h2",{style:{color:"red"},children:"Kindly fill tracking form"}):"",Object(je.jsx)("br",{}),e.activeContent&&e.activeContent.actionType?Object(je.jsx)(je.Fragment,{children:Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:c,className:l.button,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#014d88"},onClick:Y,disabled:d,children:d?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(je.jsx)(je.Fragment,{children:Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:l.button,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#014d88"},onClick:Y,disabled:d,children:d?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})]})})})]})},$e=a(1097),et=a(1081),tt=a(1082),at=a(1103),st=a(1094);const rt=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}))),ct={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"none",borderRadius:"5px",boxShadow:24,pt:"40px",px:4,pb:3};var it=e=>{var t,a,c;e.patientObj&&e.patientObj;const[i,n]=r.a.useState(!1),l=()=>{n(!0)},d=()=>{n(!1)},[j,b]=Object(s.useState)({}),[h,m]=Object(s.useState)();let u=Object(O.a)({},j);const p=rt(),[f,y]=Object(s.useState)(!1),[N,T]=Object(s.useState)([]),[S,C]=Object(s.useState)({infantArv:!1,motherArt:!1,outCome:!1}),[D,R]=Object(s.useState)(!1),[I,w]=Object(s.useState)(!1),[A,P]=Object(s.useState)(!1),[E,H]=Object(s.useState)([]),[B,_]=Object(s.useState)([]),[k,Y]=Object(s.useState)([]),[M,F]=Object(s.useState)([]),[z,L]=Object(s.useState)([]),[V,W]=Object(s.useState)([]),[U,G]=Object(s.useState)([]),[q,K]=Object(s.useState)({}),[X,Q]=Object(s.useState)([]),[J,Z]=Object(s.useState)([]),[ee,te]=Object(s.useState)([]),[se,re]=Object(s.useState)([]),[ce,ie]=Object(s.useState)(!1),[ne,oe]=Object(s.useState)({infantVisitRequestDto:""}),[le,de]=Object(s.useState)("Kindly fill ART form"),[be,he]=Object(s.useState)([]),[Oe,me]=Object(s.useState)(0),[ue,pe]=Object(s.useState)(!1),[xe,ve]=Object(s.useState)([]),[ge,fe]=Object(s.useState)([]),[ye,Ne]=Object(s.useState)({}),[Se,Ce]=Object(s.useState)({}),[De,Re]=Object(s.useState)({nextPCR:"",childAge:""}),[Ie,we]=Object(s.useState)({personUuid:e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:"",ancNumber:e.patientObj.ancNo,bodyWeight:"",breastFeeding:"",infantHospitalNumber:"",visitDate:"",visitStatus:"",infantOutcomeAt18Months:"",id:"",uuid:"",uniqueUuid:"",ctxStatus:""}),[Ae,Pe]=Object(s.useState)({ageAtCtx:"",ancNumber:"",arvDeliveryPoint:"",infantArvTime:"",infantArvType:"",infantHospitalNumber:"",timingOfAvrWithin72Hours:"",timingOfAvrAfter72Hours:"",otherProphylaxisType:"",id:"",uuid:"",uniqueUuid:"",dateOfCtx:""}),[Ee,He]=Object(s.useState)({ancNumber:e.patientObj.ancNo,motherArtInitiationTime:"",regimenTypeId:"",regimenId:"",id:"",uuid:"",uniqueUuid:""}),[Be,_e]=Object(s.useState)({ageAtTest:"",ancNumber:e.patientObj.ancNo,dateResultReceivedAtFacility:"",dateResultReceivedByCaregiver:"",dateSampleCollected:"",dateSampleSent:"",infantHospitalNumber:"",results:"",testType:"",id:"",uuid:"",uniqueUuid:""}),[ke,Ye]=Object(s.useState)({rapidTestType:"",ageAtTest:"",dateOfTest:"",result:"",ancNumber:e.patientObj.ancNo,uniqueUuid:"",uuid:""}),[Me,Fe]=Object(s.useState)({bodyWeight:""}),[ze,Le]=Object(s.useState)(""),[Ve,Xe]=Object(s.useState)(""),[Je,Ze]=Object(s.useState)([]),it=e=>{let t=e.split("-"),a=Number(t[0]),s=Number(t[1]),r=Number(t[2]),c=ae()().format("YYYY-MM-DD").split("-"),i=Number(c[0]),n=Number(c[1]),o=Number(c[2]);ae()("20240313","YYYYMMDD").fromNow();if(Number(i)===Number(a)){if(n>s){return 4*(n-s)}if(n===s){let e=(o-r)/7;if(1>e)return 0;{let t=e;return Math.floor(t)}}}else if(i>a){let e=52.1429*(i-a);return Math.floor(e)}},nt=e=>{e<7&&x.a.get("".concat(v,"application-codesets/v2/1ST PCR_CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{H(e.data)})).catch((e=>{})),e>11&&x.a.get("".concat(v,"application-codesets/v2/2ND_3RD_PCR_CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{H(e.data)})).catch((e=>{}))};Object(s.useEffect)((()=>{Nt(),dt(),ht(),ft(),gt(),yt(),vt(),xt(),pt(),ut(),mt(),Ot(),St(),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&"child"===e.activeContent.activeTab&&(ot(e.activeContent.id),ie("view"===e.activeContent.actionType))}),[e.patientObj.hospitalNumber,e.activeContent]);const ot=t=>{x.a.get("".concat(v,"pmtct/anc/view-infantvisit/").concat(e.activeContent.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{var a;a=t.data.infantVisitRequestDto.infantHospitalNumber,x.a.get("".concat(v,"pmtct/anc/get-infant-by-mother-person-uuid/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{let t=e.data.filter((e=>e.hospitalNumber.toString()===a.toString())),s=it(t[0].dateOfDelivery);nt(s),jt(t[0].hospitalNumber),bt(t[0].hospitalNumber,t[0].personUuid),K(t[0])})).catch((e=>{})),oe(t.data),we(Object(O.a)({},t.data.infantVisitRequestDto)),Pe(Object(O.a)({},t.data.infantArvDto)),He(Object(O.a)({},t.data.infantMotherArtDto)),_e(Object(O.a)({},t.data.infantPCRTestDto)),Ye(Object(O.a)({},t.data.infantRapidAntiBodyTestDto)),lt(Object(O.a)({},t.data.infantVisitRequestDto)),At(t.data.infantMotherArtDto.regimenTypeId),"INFANT_PCR_RESULT_POSITIVE"!==t.data.infantPCRTestDto.results&&"INFANT_PCR_RESULT_POSITIVE"!==t.data.infantRapidTestDTO.result||pe(!0)})).catch((e=>{}))},lt=e=>{m(e.infantHospitalNumber);x.a.get("".concat(v,"pmtct/anc/get-form-filter/").concat(e.infantHospitalNumber),{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{Ie.infantHospitalNumber=e.infantHospitalNumber,C(t.data)})).catch((e=>{}))},dt=()=>{x.a.get("".concat(v,"pmtct/anc/get-infant-by-mother-person-uuid/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{T(e.data)})).catch((e=>{}))},jt=e=>{x.a.get("".concat(v,"pmtct/anc/get-latest-pcr?infantHospitalNumber=").concat(e),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{Ne(e.data)})).catch((e=>{console.error(e)}))},bt=(e,t)=>{x.a.get("".concat(v,"pmtct/anc/get-latest-rapid-test?infantHospitalNumber=").concat(e,"&motherUuid=").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{Ce(e.data),e.data&&(Ye(Object(O.a)({},e.data)),P(!0))})).catch((e=>{console.error(e)}))},ht=()=>{x.a.get("".concat(v,"application-codesets/v2/TIME_ART_INITIATION_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{Y(e.data)})).catch((e=>{}))},Ot=()=>{x.a.get("".concat(v,"application-codesets/v2/INFANT_TESTING_PCR"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{fe(e.data)})).catch((e=>{}))},mt=()=>{x.a.get("".concat(v,"application-codesets/v2/PLACE_OF_DELIVERY"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{ve(e.data)})).catch((e=>{}))},ut=()=>{x.a.get("".concat(v,"application-codesets/v2/INFANT_OUTCOME_AT_18_MONTHS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{re(e.data)})).catch((e=>{}))},pt=()=>{x.a.get("".concat(v,"application-codesets/v2/INFANT_PCR_RESULT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{te(e.data)})).catch((e=>{}))},xt=()=>{x.a.get("".concat(v,"application-codesets/v2/INFANT_ARV_PROPHYLAXIS_TYPE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{Q(e.data)})).catch((e=>{}))},vt=()=>{x.a.get("".concat(v,"application-codesets/v2/AGE_CTX_INITIATION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{Z(e.data)})).catch((e=>{}))},gt=()=>{x.a.get("".concat(v,"application-codesets/v2/TIMING_MOTHERS_ART_INITIATION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{L(e.data)})).catch((e=>{}))},ft=()=>{x.a.get("".concat(v,"application-codesets/v2/CHILD_FOLLOW_UP_VISIT_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{F(e.data)})).catch((e=>{}))},yt=()=>{x.a.get("".concat(v,"hiv/regimen/arv/adult"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{const t=e.data.filter((e=>1===e.id||2===e.id||14===e.id));G(t)})).catch((e=>{}))},Nt=()=>{x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{_(e.data)})).catch((e=>{}))},Tt=e=>{if(b(Object(O.a)(Object(O.a)({},u),{},{[e.target.name]:""})),"visitDate"===e.target.name&&""!==e.target.value){async function t(){e.target.value;(await x.a.get("".concat(v,"pmtct/anc/is-infant-visit-date-exists?hospitalNumber=").concat(h,"&visitDate=").concat(e.target.value),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}})).data?(j.visitDate="",o.b.error("Visit Date already exist"),R(!0)):R(!1)}async function a(){const t=e.target.value,a=await x.a.get("".concat(v,"pmtct/anc/calculate-ga3?hospitalNumber=").concat(h,"&visitDate=").concat(t),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});a.data>=0&&(Be.ageAtTest=a.data,we(Object(O.a)(Object(O.a)({},Ie),{},{[e.target.name]:e.target.value})))}a(),t(),(e=>{var t;let a=ae()(q.dateOfDelivery),s=ae()(e).diff(a,"months"),r=!(null===q||void 0===q||null===(t=q.infantPCRTestDto)||void 0===t||!t.id);s>=9&&r?(w(!0),Ze(s>=18?["First Rapid Antibody","Second Rapid Antibody"]:["First Rapid Antibody"])):w(!1)})(e.target.value),(e=>{var t;let a,s=ae()(q.dateOfDelivery),r=ae()(e).diff(s,"months"),c=["1ST_PCR","2ND_PCR","IF_PREVIOUS_TEST_POSITIVE","4TH_PCR"];if(null!==q&&void 0!==q&&null!==(t=q.infantPCRTestDto)&&void 0!==t&&t.id){let e=null===ye||void 0===ye?void 0:ye.testType;"INFANT_PCR_RESULT_POSITIVE"===(null===ye||void 0===ye?void 0:ye.results)?ge.map(((e,t)=>{"INFANT_TESTING_PCR_CONFIRMATORY_PCR"===e.code&&(a=e,Le(e.code))})):c.map(((t,s)=>{if(e&&e.includes(t)){let e=s+1;e<c.length&&ge.map(((t,s)=>{t.code.includes(c[e])&&(a=t,Le(t.code))}))}}))}else ge.map(((e,t)=>{e.display.includes("1ST_PCR")&&(a=e,Le(e.code))}));Re({nextPCR:a,childAge:r})})(e.target.value),(e=>{let t=ae()(q.dateOfDelivery);9!==ae()(e).diff(t,"months")||"INFANT_PCR_RESULT_POSITIVE"!==(null===Se||void 0===Se?void 0:Se.result)||null!==ye&&void 0!==ye&&ye.results||de("Kindly undergo PCR for confirmation ")})(e.target.value),we(Object(O.a)(Object(O.a)({},Ie),{},{[e.target.name]:e.target.value}))}else"ctxStatus"===e.target.name?(we(Object(O.a)(Object(O.a)({},Ie),{},{[e.target.name]:e.target.value})),Pe(Object(O.a)(Object(O.a)({},Ae),{},{dateOfCtx:""})),b(Object(O.a)(Object(O.a)({},u),{},{[e.target.name]:"",dateOfCtx:""}))):we(Object(O.a)(Object(O.a)({},Ie),{},{[e.target.name]:e.target.value}))},St=e=>{x.a.get("".concat(v,"application-codesets/v2/TIMING_PROPHYLAXIS_WITHIN_72HRS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{he(e.data)})).catch((e=>{}))},Ct=e=>{if(b(Object(O.a)(Object(O.a)({},u),{},{[e.target.name]:""})),"dateOfCtx"===e.target.name){let t=(e=>{let t=ae()(q.dateOfDelivery);return ae()(e).diff(t,"months")<2?"AGE_CTX_INITIATION_<_2__MONTHS":"AGE_CTX_INITIATION_\u2265_2__MONTHS"})(e.target.value);Pe(Object(O.a)(Object(O.a)({},Ae),{},{[e.target.name]:e.target.value,ageAtCtx:t}))}else if("dateOfArv"===e.target.name){let t=(e=>{const t=ae()(q.dateOfDelivery);return ae()(e).diff(t,"hours")<72?"Within 72 hour":"After 72 hour"})(e.target.value);Pe(Object(O.a)(Object(O.a)({},Ae),{},{[e.target.name]:e.target.value,arvDeliveryPoint:t}))}else"infantArvType"===e.target.name?(Pe(Object(O.a)(Object(O.a)({},Ae),{},{[e.target.name]:e.target.value,dateOfArv:"",arvDeliveryPoint:""})),b(Object(O.a)(Object(O.a)({},j),{},{[e.target.name]:"",dateOfArv:""}))):Pe(Object(O.a)(Object(O.a)({},Ae),{},{[e.target.name]:e.target.value}))},Dt=e=>{b(Object(O.a)(Object(O.a)({},u),{},{[e.target.name]:""})),He(Object(O.a)(Object(O.a)({},Ee),{},{[e.target.name]:e.target.value}))},Rt=e=>{b(Object(O.a)(Object(O.a)({},u),{},{[e.target.name]:""})),Ye(Object(O.a)(Object(O.a)({},ke),{},{[e.target.name]:e.target.value}))},It=e=>{b(Object(O.a)(Object(O.a)({},u),{},{[e.target.name]:""})),"testType"===e.target.name&&e.target.value&&(e=>{let t=ae()(q.dateOfDelivery),a=ae()(Ie.visitDate);if("INFANT_TESTING_PCR_1ST_PCR_4-6_WEEKS_OF_AGE_OR_1ST_CONTACT"===e)a.diff(t,"days")>72&&(Xe("Child\u2019s age exceeds recommended range for 1st PCR. Confirm documentation?"),l());else if("INFANT_TESTING_PCR_2ND_PCR_12_WEEKS_AFTER_CESSATION_OF_BREASTFEEDING_OR_AS_INDICATED"===e)a.diff(t,"weeks")>6?(Xe("Child\u2019s age exceeds recommended range for 2nd PCR. Confirm documentation?"),l()):a.diff(t,"weeks")<4&&(Xe("Child\u2019s age is below recommended range for 2nd PCR. Confirm documentation?"),l());else if("INFANT_TESTING_PCR_CONFIRMATORY_PCR___IF_PREVIOUS_TEST_POSITIVE"===e)a.diff(t,"months")>9&&(Xe("Child\u2019s age exceeds recommended range for 3rd PCR. Confirm documentation?"),l());else if("INFANT_TESTING_PCR_4TH_PCR_(12_WEEKS_AFTER_CESSATION_OF_BREASTFEEDING_OR_AS_INDICATED)"===e)a.diff(t,"weeks")>52?(Xe("Child\u2019s age is below recommended range for 4th PCR. Confirm documentation?"),l()):a.diff(t,"weeks");else if("INFANT_TESTING_PCR_CONFIRMATORY_PCR"===e&&"INFANT_PCR_RESULT_POSITIVE"!==(null===ye||void 0===ye?void 0:ye.results)){var s;let e=ye.results.includes("POSITIVE")?"Positive":null!==ye&&void 0!==ye&&null!==(s=ye.results)&&void 0!==s&&s.includes("NEGATIVE")?"Negative":"Indeterminate";Xe("Last PCR test result is ".concat(e,", reconfirm input")),l()}})(e.target.value),_e(Object(O.a)(Object(O.a)({},Be),{},{[e.target.name]:e.target.value}))},wt=t=>{t.preventDefault(),u.visitDate=Ie.visitDate?"":"This field is required",u.bodyWeight=Ie.bodyWeight?"":"This field is required","YES"===Ie.ctxStatus&&(u.dateOfCtx=Ae.dateOfCtx?"":"This field is required"),"INFANT_ARV_PROPHYLAXIS_TYPE_NONE"!==Ae.infantArvType&&Ae.infantArvType&&(u.dateOfArv=Ae.dateOfArv?"":"This field is required"),b(Object(O.a)({},u)),Object.values(u).every((e=>""===e))&&(y(!0),ne.infantArvDto=Ae,ne.infantArvDto.visitDate=Ie.visitDate,ne.infantMotherArtDto=Ee,ne.infantMotherArtDto.visitDate=Ie.visitDate,ne.infantPCRTestDto=Be,ne.infantPCRTestDto.visitDate=Ie.visitDate,ne.infantPCRTestDto.infantHospitalNumber=Ae.infantHospitalNumber,ne.infantRapidAntiBodyTestDto=ke,ne.infantVisitRequestDto=Ie,e.activeContent&&e.activeContent.actionType?x.a.put("".concat(v,"pmtct/anc/update-infant-visit"),ne,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{y(!1),o.b.success("Clinic Visit save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{if(y(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):x.a.post("".concat(v,"pmtct/anc/infant-visit-consolidated"),ne,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{y(!1),o.b.success("Clinic Visit save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{if(y(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})))},At=e=>{x.a.get("".concat(v,"hiv/regimen/types/").concat(e),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{W(e.data)})).catch((e=>{}))};return Object(je.jsxs)("div",{children:[Object(je.jsx)("h2",{children:"Clinic Follow-up Visit"}),Object(je.jsxs)(We.a,{columns:"equal",children:[Object(je.jsx)(We.a.Column,{children:Object(je.jsxs)(Ue.a,{children:[Object(je.jsx)(Te.a,{as:"a",color:"blue",ribbon:!0,children:"Infant's"}),Object(je.jsx)("br",{}),Object(je.jsx)($e.a,{celled:!0,children:Object(je.jsxs)($e.a.Item,{children:["Given Name",Object(je.jsx)("span",{className:"float-end",children:Object(je.jsx)("b",{children:"Hospital Number"})})]})}),N&&N.map((e=>Object(je.jsx)($e.a,{celled:!0,children:Object(je.jsxs)($e.a.Item,{onClick:()=>function(e){var t;K(e),jt(e.hospitalNumber),bt(e.hospitalNumber,e.personUuid),Pe(Object(O.a)(Object(O.a)({},Ae),{},{ageAtCtx:e.infantArvDto.ageAtCtx,dateOfCtx:e.infantArvDto.dateOfCtx}));let a=it(e.dateOfDelivery);me(a),nt(a),"INFANT_PCR_RESULT_POSITIVE"===(null===e||void 0===e||null===(t=e.infantPCRTestDto)||void 0===t?void 0:t.results)&&(_e(Object(O.a)(Object(O.a)({},Be),{},{testType:"Confirmatory PCR"})),x.a.get("".concat(v,"application-codesets/v2/2ND_3RD_PCR_CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{H(e.data)})).catch((e=>{}))),m(e.hospitalNumber),x.a.get("".concat(v,"pmtct/anc/get-form-filter/").concat(e.hospitalNumber),{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{Ie.infantHospitalNumber=e.hospitalNumber,Ae.infantHospitalNumber=e.hospitalNumber,Be.infantHospitalNumber=e.hospitalNumber,C(t.data)})).catch((e=>{}))}(e),style:{cursor:"pointer"},children:[Object(je.jsx)(Te.a,{as:"a",color:"blue",children:e.firstName}),Object(je.jsx)(Te.a,{as:"a",color:"teal",className:"float-end",tag:!0,children:e.hospitalNumber})]})})))]})}),Object(je.jsx)(We.a.Column,{width:12,children:Object(je.jsxs)(Ue.a,{children:[Object(je.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsxs)("h4",{style:{color:"#fff"},children:["Infant Clinic Visit -"," ",Ie&&Ie.infantHospitalNumber?Ie.infantHospitalNumber:" "]})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date of Visit ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"visitDate",id:"visitDate",value:Ie.visitDate,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Tt,min:q.dateOfDelivery,max:ae()(new Date).format("YYYY-MM-DD"),required:!0,disabled:ce}),""!==j.visitDate?Object(je.jsx)("span",{className:p.error,children:j.visitDate}):"",!0===D?Object(je.jsx)("span",{className:p.error,children:"Visit Date already exist"}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date of Birth ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfBirth",id:"dateOfBirth",value:q.dateOfDelivery,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Tt,disabled:!0,required:!0})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Infant Hospital Number"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(Ke.a,{type:"text",name:"infantHospitalNumber",id:"infantHospitalNumber",value:Ie.infantHospitalNumber,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Tt,disabled:!0}),""!==j.infantHospitalNumber?Object(je.jsx)("span",{className:p.error,children:j.infantHospitalNumber}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Surname",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(Ke.a,{type:"text",name:"surname",id:"surname",value:q.surname,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Tt,disabled:!0})]})}),q.firstName&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Firstname",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(Ke.a,{type:"text",name:"surname",id:"surname",value:q.firstName,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Tt,disabled:!0})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Sex ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"sex",id:"sex",onChange:Tt,value:q.sex,disabled:!0,children:[Object(je.jsx)("option",{value:"",children:"Select "}),B.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==j.sex?Object(je.jsx)("span",{className:p.error,children:j.sex}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Mother ANC number"}),Object(je.jsx)(Ke.a,{type:"text",name:"ancNumber",id:"ancNumber",value:e.patientObj.ancNo,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Tt,disabled:!0}),""!==j.ancNumber?Object(je.jsx)("span",{className:p.error,children:j.ancNumber}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Body Weight ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(et.a,{children:[Object(je.jsx)(Ke.a,{type:"number",name:"bodyWeight",id:"bodyWeight",onChange:Tt,min:"1",max:"150",onKeyUp:e=>{if("bodyWeight"===e.target.name&&(e.target.value<3||e.target.value>150)){const e="Body weight must not be greater than 150 and less than 3";Fe(Object(O.a)(Object(O.a)({},Me),{},{bodyWeight:e}))}else Fe(Object(O.a)(Object(O.a)({},Me),{},{bodyWeight:""}))},value:Ie.bodyWeight,style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:ce}),Object(je.jsx)(tt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"kg"})]}),""!==j.bodyWeight?Object(je.jsx)("span",{className:p.error,children:j.bodyWeight}):"",""!==Me.weight?Object(je.jsx)("span",{className:p.error,children:Me.weight}):"",""!==Ie.bodyWeight&&Ie.bodyWeight<=0?Object(je.jsx)("span",{className:p.error,children:"Invalid Body Weight "}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Breast Feeding ?"}),Object(je.jsxs)(Ke.a,{type:"select",name:"breastFeeding",id:"breastFeeding",value:Ie.breastFeeding,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Tt,disabled:ce,children:[Object(je.jsx)("option",{value:"",children:"Select "}),Object(je.jsx)("option",{value:"YES",children:"YES "}),Object(je.jsx)("option",{value:"NO",children:"NO "})]}),""!==j.breastFeeding?Object(je.jsx)("span",{className:p.error,children:j.breastFeeding}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Visit Status"}),Object(je.jsxs)(Ke.a,{type:"select",name:"visitStatus",id:"visitStatus",value:Ie.visitStatus,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Tt,disabled:ce,children:[Object(je.jsx)("option",{value:"",children:"Select "}),M.map(((e,t)=>Object(je.jsx)("option",{value:e.code,children:e.display},t)))]}),""!==j.visitStatus?Object(je.jsx)("span",{className:p.error,children:j.visitStatus}):""]})}),S&&!0===S.outCome&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Infant outcome at 18 months"}),Object(je.jsxs)(Ke.a,{type:"select",name:"infantOutcomeAt18Months",id:"infantOutcomeAt18Months",value:Ie.infantOutcomeAt18Months,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Tt,disabled:ce,children:[Object(je.jsx)("option",{value:"",children:"Select "}),se.map(((e,t)=>Object(je.jsx)("option",{value:e.code,children:e.display},t)))]}),""!==j.infantOutcomeAt18Months?Object(je.jsx)("span",{className:p.error,children:j.infantOutcomeAt18Months}):""]})})]}),Object(je.jsx)("br",{}),Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Te.a,{as:"a",color:"teal",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsx)("h4",{style:{color:"#fff"},children:" Mother's ART "})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Timing of mother's ART Initiation"," "]}),Object(je.jsxs)(Ke.a,{type:"select",name:"motherArtInitiationTime",id:"motherArtInitiationTime",value:Ee.motherArtInitiationTime,onChange:Dt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:ce,children:[Object(je.jsx)("option",{value:"select",children:"Select "}),z.map(((e,t)=>Object(je.jsx)("option",{value:e.code,children:e.display},t)))]}),""!==j.motherArtInitiationTime?Object(je.jsx)("span",{className:p.error,children:j.motherArtInitiationTime}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Original Regimen Line "}),Object(je.jsxs)(Ke.a,{type:"select",name:"regimenTypeId",id:"regimenTypeId",value:Ee.regimenTypeId,onChange:e=>{let t=e.target.value;He(Object(O.a)(Object(O.a)({},Ee),{},{regimenTypeId:t})),At(t)},required:!0,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:ce,children:[Object(je.jsx)("option",{value:"",children:" Select"}),U.map((e=>Object(je.jsx)("option",{value:e.id,children:e.description},e.id)))]}),""!==j.regimenTypeId?Object(je.jsx)("span",{className:p.error,children:j.regimenTypeId}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Original Regimen "}),Object(je.jsxs)(Ke.a,{type:"select",name:"regimenId",id:"regimenId",value:Ee.regimenId,onChange:Dt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:ce,children:[Object(je.jsx)("option",{value:"",children:" Select"}),V.map((e=>Object(je.jsx)("option",{value:e.id,children:e.description},e.id)))]}),""!==j.regimenId?Object(je.jsx)("span",{className:p.error,children:j.regimenId}):""]})})]})]}),Object(je.jsx)("br",{}),Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsx)("h4",{style:{color:"#fff"},children:" Infant ARV & CTX"})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"CTX "}),Object(je.jsxs)(Ke.a,{type:"select",name:"ctxStatus",id:"ctxStatus",value:null===q||void 0===q?void 0:q.ctxStatus,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Tt,disabled:!0,children:[Object(je.jsx)("option",{value:"",children:"Select "}),Object(je.jsx)("option",{value:"YES",children:"YES "}),Object(je.jsx)("option",{value:"NO",children:"NO "})]})]})}),"YES"===(null===q||void 0===q?void 0:q.ctxStatus)&&Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date of CTX initiation"}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfCtx",id:"dateOfCtx",value:null===q||void 0===q||null===(t=q.infantArvDto)||void 0===t?void 0:t.dateOfCtx,onChange:Ct,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:q.dateOfDelivery,max:ae()(new Date).format("YYYY-MM-DD"),disabled:!0}),""!==j.dateOfCtx?Object(je.jsx)("span",{className:p.error,children:j.dateOfCtx}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Age at CTX Initiation "}),Object(je.jsxs)(Ke.a,{type:"select",name:"ageAtCtx",id:"ageAtCtx",value:null===q||void 0===q||null===(a=q.infantArvDto)||void 0===a?void 0:a.ageAtCtx,onChange:Ct,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!0,children:[Object(je.jsx)("option",{value:"select",children:"Select "}),J.map(((e,t)=>Object(je.jsx)("option",{value:e.code,children:e.display},t)))]}),""!==j.ageAtCtx?Object(je.jsx)("span",{className:p.error,children:j.ageAtCtx}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Infant ARV Prophylaxis Type "}),Object(je.jsxs)(Ke.a,{type:"select",name:"infantArvType",id:"infantArvType",value:Ae.infantArvType,onChange:Ct,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:ce,children:[Object(je.jsx)("option",{value:"",children:"Select "}),X.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==j.infantArvType?Object(je.jsx)("span",{className:p.error,children:j.infantArvType}):""]})}),"INFANT_ARV_PROPHYLAXIS_TYPE_OTHER_(SPECIFY)"===Ae.infantArvType&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Other Infant ARV Prophylaxis Type"}),Object(je.jsx)(Ke.a,{type:"text",name:"otherProphylaxisType",id:"otherProphylaxisType",value:Ae.otherProphylaxisType,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Ct})]})}),Ae.infantArvType&&"INFANT_ARV_PROPHYLAXIS_TYPE_NONE"!==Ae.infantArvType&&Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date of ARV Prophylaxis"}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfArv",id:"dateOfArv",value:Ae.dateOfArv,onChange:Ct,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:q.dateOfDelivery,max:ae()(new Date).format("YYYY-MM-DD"),disabled:ce}),""!==j.dateOfArv?Object(je.jsx)("span",{className:p.error,children:j.dateOfArv}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:" Timing of ARV Prophylaxis "}),Object(je.jsxs)(Ke.a,{type:"select",name:"arvDeliveryPoint",id:"arvDeliveryPoint",value:Ae.arvDeliveryPoint,onChange:Ct,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:ce,children:[Object(je.jsx)("option",{value:"",children:"Select "}),Object(je.jsx)("option",{value:"Within 72 hour",children:"Within 72 hour "}),Object(je.jsx)("option",{value:"After 72 hour",children:"After 72 hour "})]}),""!==j.arvDeliveryPoint?Object(je.jsx)("span",{className:p.error,children:j.arvDeliveryPoint}):""]})}),Ae.arvDeliveryPoint&&Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:[" ","Within 72 hour"===Ae.arvDeliveryPoint?"Timing Of ARV Prophylaxis Withn 72 hrs":"Timing Of ARV Prophylaxis After 72 hrs"]}),Object(je.jsxs)(Ke.a,{type:"select",name:"Within 72 hour"===Ae.arvDeliveryPoint?"timingOfAvrWithin72Hours":"timingOfAvrAfter72Hours",id:"Within 72 hour"===Ae.arvDeliveryPoint?"timingOfAvrWithin72Hours":"timingOfAvrAfter72Hours",value:"Within 72 hour"===Ae.arvDeliveryPoint?Ae.timingOfAvrWithin72Hours:Ae.timingOfAvrAfter72Hours,onChange:Ct,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:ce,children:[Object(je.jsx)("option",{value:"",children:"Select "}),be.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==j.arvDeliveryPoint?Object(je.jsx)("span",{className:p.error,children:j.arvDeliveryPoint}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:" Place of Delivery "}),Object(je.jsxs)(Ke.a,{type:"select",name:"infantArvTime",id:"infantArvTime",value:Ae.infantArvTime,onChange:Ct,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:ce,children:[Object(je.jsx)("option",{value:"",children:"Select "}),xe.length>0&&xe.map(((e,t)=>Object(je.jsx)("option",{value:e.code,children:e.display})))]}),""!==j.infantArvTime?Object(je.jsx)("span",{className:p.error,children:j.infantArvTime}):""]})})]})]}),Object(je.jsx)("br",{}),Object(je.jsx)(Te.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsxs)("h4",{style:{color:"#fff"},children:[" ","Infant PCR/HIV test"]})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:" PCR testing Type"}),Object(je.jsxs)(Ke.a,{type:"select",name:"testType",id:"testType",value:Be.testType,onChange:It,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:ce,children:[Object(je.jsx)("option",{value:"",children:"Select "}),ge.length>0&&ge.map(((e,t)=>Object(je.jsx)("option",{value:e.code,children:e.display})))]}),""!==j.testType?Object(je.jsx)("span",{className:p.error,children:j.testType}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Age at Test(months)"}),Object(je.jsxs)(Ke.a,{type:"select",name:"ageAtTest",id:"ageAtTest",value:Be.ageAtTest,onChange:It,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:ce,children:[Object(je.jsx)("option",{value:"select",children:"Select "}),E.length>0&&E.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==j.ageAtTest?Object(je.jsx)("span",{className:p.error,children:j.ageAtTest}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date sample collected"}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateSampleCollected",id:"dateSampleCollected",value:Be.dateSampleCollected,onChange:It,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:q.dateOfDelivery,max:ae()(new Date).format("YYYY-MM-DD"),disabled:ce}),""!==j.dateSampleCollected?Object(je.jsx)("span",{className:p.error,children:j.dateSampleCollected}):""]})}),Oe<7&&"INFANT_PCR_RESULT_POSITIVE"!==(null===q||void 0===q||null===(c=q.infantPCRTestDto)||void 0===c?void 0:c.results)&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date Sample Sent"}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateSampleSent",id:"dateSampleSent",value:Be.dateSampleSent,onChange:It,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:Be.dateSampleCollected,max:ae()(new Date).format("YYYY-MM-DD"),disabled:ce}),""!==j.dateSampleSent?Object(je.jsx)("span",{className:p.error,children:j.dateSampleSent}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date Result Received at Facility"}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateResultReceivedAtFacility",id:"dateResultReceivedAtFacility",value:Be.dateResultReceivedAtFacility,onChange:It,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:Be.dateSampleCollected,max:ae()(new Date).format("YYYY-MM-DD"),disabled:ce}),""!==j.dateResultReceivedAtFacility?Object(je.jsx)("span",{className:p.error,children:j.dateResultReceivedAtFacility}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date Caregiver Given Result"}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateResultReceivedByCaregiver",id:"dateResultReceivedByCaregiver",value:Be.dateResultReceivedByCaregiver,onChange:It,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:Be.dateSampleCollected,max:ae()(new Date).format("YYYY-MM-DD"),disabled:ce}),""!==j.dateResultReceivedByCaregiver?Object(je.jsx)("span",{className:p.error,children:j.dateResultReceivedByCaregiver}):""]})})]}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Result"}),Object(je.jsxs)(Ke.a,{type:"select",name:"results",id:"results",value:Be.results,onChange:It,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:ce,children:[Object(je.jsx)("option",{value:"select",children:"Select "}),ee.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==j.results?Object(je.jsx)("span",{className:p.error,children:j.results}):""]})}),""!==Be.results&&"INFANT_PCR_RESULT_POSITIVE"===Be.results?Object(je.jsx)("h2",{style:{color:"red"},children:"Kindly fill ART form"}):""]}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),I&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Te.a,{as:"a",color:"teal",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsx)("h4",{style:{color:"#fff"},children:" Rapid Antibody Test"})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Infant Test (Rapid Test)"}),Object(je.jsxs)(Ke.a,{type:"select",name:"rapidTestType",id:"rapidTestType",value:ke.rapidTestType,onChange:Rt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:ce||A,children:[Object(je.jsx)("option",{value:"",children:"Select "}),Je&&Je.map(((e,t)=>Object(je.jsx)("option",{value:e,children:e},t)))]}),""!==j.testType?Object(je.jsx)("span",{className:p.error,children:j.testType}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Age at Test(months)"}),Object(je.jsxs)(Ke.a,{type:"select",name:"ageAtTest",id:"ageAtTest",value:ke.ageAtTest,onChange:Rt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:ce||A,children:[Object(je.jsx)("option",{value:"select",children:"Select "}),E.length>0&&E.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==j.ageAtTest?Object(je.jsx)("span",{className:p.error,children:j.ageAtTest}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date OF Test"}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfTest",id:"dateOfTest",value:ke.dateOfTest,onChange:Rt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:q.dateOfDelivery,max:ae()(new Date).format("YYYY-MM-DD"),disabled:ce||A}),""!==j.dateSampleCollected?Object(je.jsx)("span",{className:p.error,children:j.dateSampleCollected}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Result *"}),Object(je.jsxs)(Ke.a,{type:"select",name:"result",id:"result",value:ke.result,onChange:Rt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:ce||A,children:[Object(je.jsx)("option",{value:"select",children:"Select "}),ee.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==j.result?Object(je.jsx)("span",{className:p.error,children:j.result}):""]})}),""!==ke.result&&"INFANT_PCR_RESULT_POSITIVE"===ke.result?Object(je.jsx)("h2",{style:{color:"red"},children:le}):""]})]}),Object(je.jsx)("br",{}),Ie&&Ie.infantHospitalNumber?Object(je.jsx)(je.Fragment,{children:e.activeContent&&e.activeContent.actionType?Object(je.jsx)(je.Fragment,{children:Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:ce,className:p.button,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#014d88"},onClick:wt,disabled:f,children:f?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(je.jsx)(je.Fragment,{children:Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:p.button,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#014d88"},onClick:wt,disabled:f,children:f?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})}):""]})})]}),Object(je.jsx)(st.a,{open:i,onClose:d,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:Object(je.jsxs)(at.a,{sx:Object(O.a)(Object(O.a)({},ct),{},{width:"30%"}),children:[Object(je.jsx)("p",{style:{fontSize:"17px"},children:Ve}),Object(je.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(je.jsx)("button",{onClick:d,style:{fontSize:"12px",fontWeight:"500",background:"#014d88",color:"white",textTransform:"capitalize",color:"white",padding:"8px 17px",margin:"8px 0px",border:"none",borderRadius:"2px"},children:"Confirm "}),Object(je.jsx)("button",{onClick:()=>{_e(Object(O.a)(Object(O.a)({},Be),{},{testType:""})),n(!1)},style:{fontSize:"12px",fontWeight:"500",color:"white",textTransform:"capitalize",color:" #014d88",padding:"8px 17px",margin:"8px 0px",border:"1px solid #014d88",borderRadius:"3px"},children:"Cancel "})]})]})})]})};const nt={borderRadius:"2px",fontSize:14};var ot=e=>{const{hasPermission:t}=de(),[a,r]=Object(s.useState)("home"),c=e.patientObj,[i,n]=Object(s.useState)(0),o=Object(s.useMemo)((()=>({canSeeChildFollowUp:t("child_follow_up_register")})),[t]);return Object(s.useEffect)((()=>{r(e.activeContent.activeTab),e.patientObj.ancNo?x.a.get("".concat(v,"pmtct/anc/view-delivery2/").concat(e.patientObj.ancNo),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{n(e.data&&e.data.numberOfInfantsAlive?e.data.numberOfInfantsAlive:0)})).catch((e=>{})):x.a.get("".concat(v,"pmtct/anc/view-delivery-with-uuid/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{n(e.data&&e.data.numberOfInfantsAlive?e.data.numberOfInfantsAlive:0)})).catch((e=>{}))}),[e.patientObj.id,e.activeContent.activeTab]),Object(je.jsx)(s.Fragment,{children:Object(je.jsx)(l.a,{children:Object(je.jsx)(d.a,{xl:12,children:Object(je.jsx)(j.a,{style:nt,children:Object(je.jsx)(j.a.Body,{children:Object(je.jsx)("div",{className:"custom-tab-1",children:Object(je.jsxs)(b.a,{id:"controlled-tab-example",activeKey:a,onSelect:e=>r(e),className:"mb-3",children:[Object(je.jsx)(h.a,{eventKey:"home",title:"MOTHER FOLLOW UP VISIT ",children:Object(je.jsx)(Ze,{patientObj:c,setActiveContent:e.setActiveContent,activeContent:e.activeContent})}),0!==i&&i>0&&o.canSeeChildFollowUp&&Object(je.jsx)(h.a,{eventKey:"child",title:"CHILD FOLLOW UP VISIT",children:Object(je.jsx)(it,{patientObj:c,setActiveContent:e.setActiveContent,activeContent:e.activeContent})})]})})})})})})})},lt=(a(314),a(1088));const dt=e=>{if(null!==e&&""!=e){const t=new Date,a=(e.split("-"),new Date(e));let s=t.getMonth(),r=t.getFullYear(),c=t.getDate(),i=a.getMonth(),n=a.getFullYear(),o=a.getDate(),l=r-n;if(!(l>0)){let e=s-i,t=c-o,a=e>0?e:0;return a?a+"month(s)":(t>0?t:0)+"day(s)"}{let e=s-i;if(e>0)return l+" year(s)";if(e<0){return l-1+" year(s)"}if(0===e){let e=c-o;if(e>0)return l+" year(s)";if(e<0){return l-1+" year(s)"}}}}},jt=(e,t)=>{if(""===e)return o.b.error("Date of enrolllment is empty"),0;if(""===t)return o.b.error("Last menstrual Period is empty"),0;if(e<t)return o.b.error("Last menstrual Period is earlier than enrollment date"),0;{let a=ae()(e),s=ae()(t);return a.diff(s,"week")>=1?a.diff(s,"week"):0}},bt=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var ht=e=>{var t,a,r,c,i,l,d;const j=e.patientObj;Object(n.g)();const b=Object(n.h)(),h=b&&b.state?b.state:null,[m,u]=Object(s.useState)([]),p=bt(),[f,y]=Object(s.useState)(!1),[N,T]=Object(s.useState)([]),[S,C]=Object(s.useState)(""),[D,R]=Object(s.useState)([]),[I,w]=Object(s.useState)(!1),[A,P]=Object(s.useState)([]),[E,H]=Object(s.useState)([]),[B,_]=Object(s.useState)(!1),[k,Y]=Object(s.useState)({}),[M,F]=Object(s.useState)({}),[z,L]=Object(s.useState)([]),[V,W]=Object(s.useState)([]),[U,G]=Object(s.useState)([]),[q,K]=Object(s.useState)([]),[X,Q]=Object(s.useState)([]),[J,Z]=Object(s.useState)({hepatitisB:j.hepatitisB?j.hepatitisB:"",urinalysis:j.urinalysis?j.urinalysis:"",ancNo:j.ancNo?j.ancNo:"",pmtctEnrollmentDate:"",dateOfDelivery:"",entryPoint:null===M||void 0===M?void 0:M.id,ga:"",gravida:e.patientObj.gravida,artStartDate:"",artStartTime:j.artStartTime?j.artStartTime:"",id:"",timeOfHivDiagnosis:"",tbStatus:"",hivStatus:j.hivStatus?j.hivStatus:j.staticHivStatus?j.staticHivStatus:"",lmp:null!==e&&void 0!==e&&null!==(t=e.patientObj)&&void 0!==t&&t.lmp?null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.lmp:"",gaweeks:"",pmtctType:M.display}),[ee,te]=Object(s.useState)({ancNumber:e.patientObj.ancNo,motherArtInitiationTime:"",motherArtRegimen:"",regimenTypeId:null!==e&&void 0!==e&&null!==(r=e.patientObj)&&void 0!==r&&r.regimenTypeId?null===e||void 0===e||null===(c=e.patientObj)||void 0===c?void 0:c.regimenTypeId:"",regimenId:null!==e&&void 0!==e&&null!==(i=e.patientObj)&&void 0!==i&&i.regimenId?null===e||void 0===e||null===(l=e.patientObj)||void 0===l?void 0:l.regimenId:""}),se=e=>{x.a.get("".concat(v,"hiv/regimen/types/").concat(e),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{u(e.data)})).catch((e=>{}))};Object(s.useEffect)((()=>{var t,a,s,r,c,i,n;(x.a.get("".concat(v,"application-codesets/v2/TIMING_MOTHERS_ART_INITIATION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{Q(e.data)})).catch((e=>{})),x.a.get("".concat(v,"application-codesets/v2/PMTCT_URINALYSIS_RESULT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{G(e.data)})).catch((e=>{})),x.a.get("".concat(v,"hiv/regimen/arv/adult"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{const t=e.data.filter((e=>1===e.id||2===e.id||14===e.id));W(t)})).catch((e=>{})),x.a.get("".concat(v,"application-codesets/v2/TIME_HIV_DIAGNOSIS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{K(e.data)})).catch((e=>{})),x.a.get("".concat(v,"application-codesets/v2/PMTCT_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{L(e.data)})).catch((e=>{})),ie(),ne(),oe(),null!==e&&void 0!==e&&e.patientObj.id)&&(ce(),de(null===e||void 0===e||null===(c=e.patientObj)||void 0===c||null===(i=c.identifier)||void 0===i||null===(n=i.identifier[0])||void 0===n?void 0:n.value,null===e||void 0===e?void 0:e.patientObj.uuid));e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(re(e.activeContent.id),y("view"===e.activeContent.actionType)),null!==e&&void 0!==e&&null!==(t=e.patientObj)&&void 0!==t&&t.person_uuid||null!==h&&void 0!==h&&null!==(a=h.patientObj)&&void 0!==a&&a.person_uuid?Z(Object(O.a)(Object(O.a)({},J),{},{personUuid:h.patientObj.person_uuid})):(null!==e&&void 0!==e&&null!==(s=e.patientObj)&&void 0!==s&&s.uuid||null!==h&&void 0!==h&&null!==(r=h.patientObj)&&void 0!==r&&r.uuid)&&Z(Object(O.a)(Object(O.a)({},J),{},{personUuid:h.patientObj.uuid}))}),[]),Object(s.useEffect)((()=>{h.entrypointValue?z.map(((e,t)=>{e.code===h.entrypointValue&&F(e)})):e.entrypointValue&&e.allEntryPoint.map(((t,a)=>{t.code===e.entrypointValue&&F(t)}))}),[z]),Object(s.useEffect)((()=>{e.getPMTCTInfo&&e.getPMTCTInfo(J)}),[J]);const re=t=>{x.a.get("".concat(v,"pmtct/anc/view-pmtct-enrollment/").concat(e.activeContent.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{Z(Object(O.a)(Object(O.a)({},J),e.data)),te(Object(O.a)(Object(O.a)({},ee),{},{regimenTypeId:e.data.regimenTypeId,regimenId:e.data.regimenId,motherArtInitiationTime:e.data.motherArtInitiationTime})),se(e.data.regimenTypeId)})).catch((e=>{}))},ce=t=>{var a,s,r,c,i;x.a.get("".concat(v,"pmtct/anc/art/?PersonUuid=").concat(null!==e&&void 0!==e&&e.patientObj.person_Uuud?null===e||void 0===e?void 0:e.patientObj.person_Uuud:null!==e&&void 0!==e&&null!==(a=e.patientObj)&&void 0!==a&&a.personUuud?null===e||void 0===e||null===(s=e.patientObj)||void 0===s?void 0:s.personUuud:null!==e&&void 0!==e&&null!==(r=e.patientObj)&&void 0!==r&&r.person_uuid?null===e||void 0===e||null===(c=e.patientObj)||void 0===c?void 0:c.person_uuid:null===e||void 0===e||null===(i=e.patientObj)||void 0===i?void 0:i.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{var t,a;null!==e.data[0]&&null!==e&&void 0!==e&&null!==(t=e.data[0])&&void 0!==t&&t.artStartDate&&Z(Object(O.a)(Object(O.a)({},J),{},{artStartDate:null===e||void 0===e||null===(a=e.data[0])||void 0===a?void 0:a.artStartDate}))})).catch((e=>{}))},ie=()=>{x.a.get("".concat(v,"application-codesets/v2/POINT_ENTRY_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{T(e.data)})).catch((e=>{}))},ne=()=>{x.a.get("".concat(v,"application-codesets/v2/TIMING_MOTHERS_ART_INITIATION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{H(e.data)})).catch((e=>{}))},oe=()=>{x.a.get("".concat(v,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{P(e.data)})).catch((e=>{}))},le=e=>{if(Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:""})),Z(Object(O.a)(Object(O.a)({},J),{},{[e.target.name]:e.target.value})),"artStartTime"===e.target.name&&""!==e.target.value)Z(Object(O.a)(Object(O.a)({},J),{},{[e.target.name]:e.target.value})),te(Object(O.a)(Object(O.a)({},ee),{},{motherArtInitiationTime:e.target.value}));else if("lmp"===e.target.name&&""!==e.target.value){let t=jt(J.pmtctEnrollmentDate,e.target.value);t>0?(J.gaweeks=t,Z(Object(O.a)(Object(O.a)({},J),{},{[e.target.name]:e.target.value,dateOfDelivery:""}))):(o.b.error("Please select a validate date"),Z(Object(O.a)(Object(O.a)({},J),{},{[e.target.name]:"",dateOfDelivery:""})))}else if("pmtctEnrollmentDate"===e.target.name&&""!==e.target.value&&""!==J.lmp){let t=jt(e.target.value,J.lmp);t>0?(J.gaweeks=t,Z(Object(O.a)(Object(O.a)({},J),{},{[e.target.name]:e.target.value}))):o.b.error("Please select a validate date")}else if("dateOfDelivery"===e.target.name&&""!==e.target.value){let t=(e=>{let t=J.lmp,a=ae()(J.lmp);if(t)return ae()(e).diff(a,"weeks");return 0})(e.target.value);t>0?(J.gaweeks=t,Z(Object(O.a)(Object(O.a)({},J),{},{[e.target.name]:e.target.value}))):(J.gaweeks=t,o.b.error("Please select a validate date"),Z(Object(O.a)(Object(O.a)({},J),{},{[e.target.name]:e.target.value,gaweeks:""})))}else Z(Object(O.a)(Object(O.a)({},J),{},{[e.target.name]:e.target.value}))},de=(e,t)=>{x.a.get("".concat(v,"pmtct/anc/hiv-status?hospitalNumber=").concat(e,"&personUuid=").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{e.data&&(Z(Object(O.a)(Object(O.a)({},J),{},{hivStatus:e.data})),w(!0))})).catch((e=>{}))},be=t=>{if(t.preventDefault(),J.motherArtInitiationTime=ee.motherArtInitiationTime,J.regimenTypeId=ee.regimenTypeId,J.regimenId=ee.regimenId,J.ga=J.gaweeks,(()=>{let e=Object(O.a)({},k);return e.pmtctEnrollmentDate=J.pmtctEnrollmentDate?"":"This field is required",e.timeOfHivDiagnosis=J.timeOfHivDiagnosis?"":"This field is required",e.gaweeks=J.gaweeks?"":"This field is required",e.pmtctEnrollmentDate=J.pmtctEnrollmentDate?"":"This field is required",e.artStartDate=J.artStartDate?"":"This field is required",e.artStartTime=J.artStartTime?"":"This field is required",e.tbStatus=J.tbStatus?"":"This field is required",Y(Object(O.a)({},e)),Object.values(e).every((e=>""==e))})())if(_(!0),e.activeContent&&e.activeContent.actionType)x.a.put("".concat(v,"pmtct/anc/update-pmtct-enrollment/").concat(e.activeContent.id),J,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{_(!1),o.b.success("Record updated successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{_(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})}));else{let t=Object(O.a)(Object(O.a)({},J),{},{entryPoint:h.entrypointValue?h.entrypointValue:e.entrypointValue,personUuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.person_uuid?e.patientObj.person_uuid:null===h||void 0===h?void 0:h.patientObj.uuid});x.a.post("".concat(v,"pmtct/anc/pmtct-enrollment"),t,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{_(!1),e.setEnrollPMTCT(!0),e.patientObj.pmtctRegStatus=!0,o.b.success("Enrollment save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.handleRoute?e.handleRoute(t.data):e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{_(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})}))}};return Object(je.jsx)("div",{children:Object(je.jsx)(fe.a,{className:p.root,children:Object(je.jsx)(ye.a,{children:Object(je.jsxs)("form",{children:[Object(je.jsxs)("div",{className:"row ",children:[Object(je.jsx)("div",{className:"card-header mb-3 ",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem",marginTop:"-20px"},children:Object(je.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"PMTCT Enrollment"})}),Object(je.jsxs)("h3",{className:"mb-3",children:[Object(je.jsx)("span",{children:"Point of Entry: "}),M.display]}),j.ancNo&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"ANC ID"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"ancNo",id:"ancNo",onChange:le,value:j.ancNo,disabled:!0})}),""!==k.ancNo?Object(je.jsx)("span",{className:p.error,children:k.ancNo}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date of Enrollment ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"pmtctEnrollmentDate",id:"pmtctEnrollmentDate",onChange:le,value:J.pmtctEnrollmentDate,min:j.ancNo?e.patientObj.firstAncDate:null!==e&&void 0!==e&&e.newRegDate?null===e||void 0===e?void 0:e.newRegDate:"",max:ae()(new Date).format("YYYY-MM-DD"),disabled:f})}),""!==k.pmtctEnrollmentDate?Object(je.jsx)("span",{className:p.error,children:k.pmtctEnrollmentDate}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date Of Last Menstrual Period",Object(je.jsx)("span",{style:{color:"red"},children:"*"})," "]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"lmp",id:"lmp",onChange:le,value:J.lmp,max:J.pmtctEnrollmentDate?J.pmtctEnrollmentDate:ae()(new Date).format("YYYY-MM-DD"),disabled:null===e||void 0===e?void 0:e.ancEntryType})}),""!==k.lmp?Object(je.jsx)("span",{className:p.error,children:k.lmp}):"",0===J.gaweeks?Object(je.jsx)("span",{className:p.error,children:"Invalid date "}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Gestational Age (Weeks)"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"number",name:"gaweeks",id:"gaweeks",onChange:le,value:J.gaweeks,disabled:!0})}),""!==k.gaweeks?Object(je.jsx)("span",{className:p.error,children:k.gaweeks}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Gravida ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"number",name:"gravida",id:"gravida",min:"1",onChange:le,value:J.gravida,disabled:f})}),""!==k.gravida?Object(je.jsx)("span",{className:p.error,children:k.gravida}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Art Start Date ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"artStartDate",id:"artStartDate",onChange:le,value:J.artStartDate,max:ae()(new Date).format("YYYY-MM-DD"),disabled:f})}),""!==k.artStartDate?Object(je.jsx)("span",{className:p.error,children:k.artStartDate}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Timing of ART Initiation"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"artStartTime",id:"artStartTime",onChange:le,value:J.artStartTime,disabled:f,children:[Object(je.jsx)("option",{value:"",children:"Select"}),E.map(((e,t)=>Object(je.jsx)("option",{value:e.code,children:e.display},t)))]})}),""!==k.artStartTime?Object(je.jsx)("span",{className:p.error,children:k.artStartTime}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Time Of HIV Diagnosis"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"timeOfHivDiagnosis",id:"timeOfHivDiagnosis",onChange:le,value:J.timeOfHivDiagnosis,disabled:f,children:[Object(je.jsx)("option",{value:"",children:"Select"}),q.map(((e,t)=>Object(je.jsx)("option",{value:e.code,children:e.display},t)))]})}),""!==k.timeHivDiagnosis?Object(je.jsx)("span",{className:p.error,children:k.timeHivDiagnosis}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Original Regimen Line "}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"regimenTypeId",id:"regimenTypeId",value:ee.regimenTypeId,onChange:e=>{let t=e.target.value;te(Object(O.a)(Object(O.a)({},ee),{},{regimenTypeId:t})),se(t)},required:!0,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:f,children:[Object(je.jsx)("option",{value:"",children:" Select"}),V.map((e=>Object(je.jsx)("option",{value:e.id,children:e.description},e.id)))]})}),""!==k.regimenTypeId?Object(je.jsx)("span",{className:p.error,children:k.regimenTypeId}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Original Regimen "}),Object(je.jsxs)(Ke.a,{type:"select",name:"regimenId",id:"regimenId",value:ee.regimenId,onChange:e=>{Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:""})),te(Object(O.a)(Object(O.a)({},ee),{},{[e.target.name]:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:f,children:[Object(je.jsx)("option",{value:"",children:" Select"}),m.map((e=>Object(je.jsx)("option",{value:e.code,children:e.description},e.id)))]}),""!==k.regimenId?Object(je.jsx)("span",{className:p.error,children:k.regimenId}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["TB Status ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"tbStatus",id:"tbStatus",onChange:le,value:J.tbStatus,disabled:f,children:[Object(je.jsx)("option",{value:"",children:"Select"}),A.map(((e,t)=>Object(je.jsx)("option",{value:e.code,children:e.display},t)))]})}),""!==k.tbStatus?Object(je.jsx)("span",{className:p.error,children:k.tbStatus}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Hepatitis B Status"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"hepatitisB",id:"hepatitisB",onChange:le,value:J.hepatitisB,disabled:f,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"})]})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Urinalysis"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"urinalysis",id:"urinalysis",onChange:le,value:J.urinalysis,disabled:f,children:[Object(je.jsx)("option",{value:"",children:"Select"}),U.length>0&&U.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["HIV Status ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"hivStatus",id:"hivStatus",disabled:!!I||!!j.ancNo,onChange:le,value:J.hivStatus,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"}),Object(je.jsx)("option",{value:"Unknown",children:"Unknown"})]})}),""!==k.hivStatus?Object(je.jsx)("span",{className:p.error,children:k.hivStatus}):"","Positive"==J.hivStatus&&Object(je.jsx)("div",{className:"mt-3 ",children:Object(je.jsx)("h3",{style:{color:"red"},children:"Kindly refer for ART"})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date of Delivery"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfDelivery",id:"dateOfDelivery",onChange:le,value:J.dateOfDelivery,max:ae()(new Date).format("YYYY-MM-DD"),min:null!==e&&void 0!==e&&e.ancEntryType?null===e||void 0===e||null===(d=e.patientObj)||void 0===d?void 0:d.lmp:J.lmp,disabled:f})}),0===J.gaweeks&&""===J.lmp?Object(je.jsx)("span",{className:p.error,children:"Last menstrual period date is empty "}):""]})})]}),Object(je.jsxs)("div",{children:[" ",Object(je.jsx)(je.Fragment,{})]}),B?Object(je.jsx)(lt.a,{}):"",Object(je.jsx)("br",{}),e.hideUpdateButton&&Object(je.jsx)(je.Fragment,{children:e.activeContent&&e.activeContent.actionType?Object(je.jsx)(je.Fragment,{children:Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:f,className:p.button,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#014d88"},onClick:be,disabled:B,children:B?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(je.jsx)(je.Fragment,{children:Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:p.button,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#014d88"},onClick:be,disabled:B,children:B?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})]})})})})},Ot=a(124),mt=a.n(Ot);const ut=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var pt=e=>{e.patientObj;Object(n.g)();const t=ut(),[a,r]=Object(s.useState)(!1),[c,i]=Object(s.useState)({}),[l,d]=Object(s.useState)([]),[j,b]=Object(s.useState)({ancSetting:"",bodyWeight:"",diastolic:"",encounterDate:"",facilityId:1,height:"",personId:"",pulse:"",respiratoryRate:"",systolic:"",temperature:"",visitId:""}),h=e=>{b(Object(O.a)(Object(O.a)({},j),{},{[e.target.name]:e.target.value}))};return Object(s.useEffect)((()=>{x.a.get("".concat(v,"application-codesets/v2/TEST_SETTING_CPMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{d(e.data)})).catch((e=>{}))}),[]),Object(je.jsx)("div",{children:Object(je.jsx)(fe.a,{className:t.root,children:Object(je.jsx)(ye.a,{children:Object(je.jsxs)("form",{children:[Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("h2",{children:"ANC Enrollment"}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"ANC Setting"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"ancSetting",id:"encounterDate",onChange:h,value:j.ancSetting,children:[Object(je.jsx)("option",{value:"",children:"Select"}),l.length>0&&l.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display})))]})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["ANC No ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date of 1st ANC ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate,max:ae()(new Date).format("YYYY-MM-DD")})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Gravida"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"number",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate,min:"0"})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Parity"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"number",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date Of Last Menstrual Period"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"encounterDate",id:"encounterDate",onChange:h,max:ae()(new Date).format("YYYY-MM-DD"),value:j.encounterDate})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Expected Date Of Delivery "}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"encounterDate",id:"encounterDate",onChange:h,max:ae()(new Date).format("YYYY-MM-DD"),value:j.encounterDate})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Gestational Age (Weeks)"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate,disabled:!0})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Time of HIV Diagnosis"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate})})]})}),Object(je.jsx)("h3",{children:"Syphilis Information"}),Object(je.jsx)("hr",{}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Tested for syphilis?"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Test Result"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate,max:ae()(new Date).format("YYYY-MM-DD")})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Treated for Syphilis"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Referred for syphilis treatment"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate})})]})}),Object(je.jsx)("h3",{children:"PMTCT HTS"}),Object(je.jsx)("hr",{}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Previously known HIV positive?"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date tested HIV positive"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate,max:ae()(new Date).format("YYYY-MM-DD")})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Accepted HIV Testing?"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"HIV test result"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"HIV Restesting?"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Received HIV test result?"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate})})]})}),Object(je.jsx)("h3",{children:"Hepatitis Information"}),Object(je.jsx)("hr",{}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Tested for Hepatitis B"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Hepatitis B test result"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Tested for Hepatitis C"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Hepatitis C test result"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate})})]})}),Object(je.jsx)("h3",{children:"Partner Notification"}),Object(je.jsx)("hr",{}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Agreed to partner notification?"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate,children:Object(je.jsx)("option",{value:"",children:"Select"})})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Partner's HIV status"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate,children:Object(je.jsx)("option",{value:"",children:"Select"})})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Partner referred to?"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"select",name:"encounterDate",id:"encounterDate",onChange:h,value:j.encounterDate,children:Object(je.jsx)("option",{value:"",children:"Select"})})})]})})]}),a?Object(je.jsx)(lt.a,{}):"",Object(je.jsx)("br",{}),Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:t.button,startIcon:Object(je.jsx)(Qe.a,{}),onClick:t=>{t.preventDefault(),r(!0),x.a.post("".concat(v,"patient/vital-sign/"),j,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{r(!1),e.patientObj.commenced=!0,o.b.success("Vital signs save successful"),e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{r(!1),o.b.error("Something went wrong")}))},children:a?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(je.jsx)($.a,{variant:"contained",className:t.button,startIcon:Object(je.jsx)(mt.a,{}),children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})};const xt=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var vt=e=>{const t=e.patientObj,a=xt(),[r,c]=Object(s.useState)([]),[i,n]=Object(s.useState)([]),[l,d]=Object(s.useState)([]),[j,b]=Object(s.useState)([]),[h,m]=Object(s.useState)(""),[u,p]=Object(s.useState)(""),[f,y]=Object(s.useState)(!1),[N,T]=Object(s.useState)(!1),[S,C]=Object(s.useState)({}),[D,R]=Object(s.useState)([]),[I,w]=Object(s.useState)([]),[A,P]=Object(s.useState)([]),[E,H]=Object(s.useState)(!1),[B,_]=Object(s.useState)([]),[k,Y]=Object(s.useState)({placeOfDelivery:"",ancNo:t.ancNo,artStartedLdWard:"",bookingStatus:"",childGivenArvWithin72:"",childStatus:"",dateOfDelivery:"",deliveryTime:"",episiotomy:"",feedingDecision:"",gaweeks:"",hbstatus:"",hcstatus:"",hivExposedInfantGivenHbWithin24hrs:"",nonHbvExposedInfantGivenHbWithin24hrs:"",maternalOutcome:"",maternalOutcomeChild:"",modeOfDelivery:"",onArt:"",referalSource:"",romDeliveryInterval:"",vaginalTear:"",numberOfInfantsAlive:"",numberOfInfantsDead:"",personUuid:e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid});Object(s.useEffect)((()=>{L(),U(),q(),K(),G(),F(),W(),V(),z(),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(M(e.activeContent.id),T("view"===e.activeContent.actionType))}),[e.patientObj.id,e.activeContent]);const M=t=>{x.a.get("".concat(v,"pmtct/anc/view-delivery/").concat(e.activeContent.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{X(e.data.dateOfDelivery,"dateOfDelivery"),Y(e.data)})).catch((e=>{}))},F=()=>{x.a.get("".concat(v,"application-codesets/v2/BOOKING STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{w(e.data)})).catch((e=>{}))},z=()=>{x.a.get("".concat(v,"application-codesets/v2/PLACE_OF_DELIVERY"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{n(e.data)})).catch((e=>{}))},L=()=>{x.a.get("".concat(v,"pmtct/anc/get-delivery-date/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{e.data&&(H(!0),k.dateOfDelivery=e.data,X(e.data,"dateOfDelivery"))})).catch((e=>{}))},V=()=>{x.a.get("".concat(v,"application-codesets/v2/TIME_HIV_DIAGNOSIS_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{_(e.data)})).catch((e=>{}))},W=()=>{x.a.get("".concat(v,"application-codesets/v2/ROM_DELIVERY_INTERVAL"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{P(e.data)})).catch((e=>{}))},U=()=>{x.a.get("".concat(v,"application-codesets/v2/MODE_DELIVERY"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{c(e.data)})).catch((e=>{}))},G=()=>{x.a.get("".concat(v,"application-codesets/v2/CHILD_STATUS_DELIVERY"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{R(e.data)})).catch((e=>{}))},q=()=>{x.a.get("".concat(v,"application-codesets/v2/FEEDING DECISION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{d(e.data)})).catch((e=>{}))},K=()=>{x.a.get("".concat(v,"application-codesets/v2/MATERNAL_OUTCOME"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{b(e.data)})).catch((e=>{}))},X=async(t,a)=>{const s=t,r=await x.a.get("".concat(v,"pmtct/anc/calculate-ga-from-person?personUuid=").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid,"&visitDate=").concat(s),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});r.data>0?(k.gaweeks=r.data,k.dateOfDelivery=t,m(r.data)):(o.b.error("Please select a validate date"),k.dateOfDelivery=t)},Q=e=>{C(Object(O.a)(Object(O.a)({},S),{},{[e.target.name]:""})),"dateOfDelivery"===e.target.name&&""!==e.target.value?(X(e.target.value,e.target.name),Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value}))):"childStatus"===e.target.name?(Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value,numberOfInfantsAlive:"",numberOfInfantsDead:""})),C(Object(O.a)(Object(O.a)({},S),{},{numberOfInfantsDead:"",numberOfInfantsAlive:""}))):"gaweeks"===e.target.name?(m(e.target.value),Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value}))):Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value}))},J=t=>{t.preventDefault(),(()=>{let e=Object(O.a)({},S);return e.artStartedLdWard=k.artStartedLdWard?"":"This field is required",e.placeOfDelivery=k.placeOfDelivery?"":"This field is required",e.vaginalTear=k.vaginalTear?"":"This field is required",e.onArt=k.onArt?"":"This field is required",e.modeOfDelivery=k.modeOfDelivery?"":"This field is required",e.maternalOutcome=k.maternalOutcome?"":"This field is required",e.hivExposedInfantGivenHbWithin24hrs=k.hivExposedInfantGivenHbWithin24hrs?"":"This field is required",e.hcstatus=k.hcstatus?"":"This field is required",e.hbstatus=k.hbstatus?"":"This field is required",e.gaweeks=h?"":"This field is required",e.feedingDecision=k.feedingDecision?"":"This field is required",e.episiotomy=k.episiotomy?"":"This field is required",e.deliveryTime=k.deliveryTime?"":"This field is required",e.dateOfDelivery=k.dateOfDelivery?"":"This field is required",e.childStatus=k.childStatus?"":"This field is required",e.childGivenArvWithin72=k.childGivenArvWithin72?"":"This field is required",e.bookingStatus=k.bookingStatus?"":"This field is required",""!==k.childStatus&&"CHILD_STATUS_DELIVERY_STILL_BIRTH"!==k.childStatus&&(e.numberOfInfantsAlive=k.numberOfInfantsAlive?"":"This field is required"),""!==k.childStatus&&"CHILD_STATUS_DELIVERY_STILL_BIRTH"!==k.childStatus&&(e.numberOfInfantsDead=""!==k.numberOfInfantsDead?"":"This field is required"),C(Object(O.a)({},e)),Object.values(e).every((e=>""==e))})()?(y(!0),e.activeContent&&e.activeContent.actionType?x.a.put("".concat(v,"pmtct/anc/update-delivery/").concat(e.activeContent.id),k,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{y(!1),o.b.success("Record updated successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{y(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})})):x.a.post("".concat(v,"pmtct/anc/pmtct-delivery"),k,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{y(!1),e.patientObj.deliveryStatus=!0,o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{y(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})}))):o.b.error("All field are required",{position:o.b.POSITION.BOTTOM_CENTER})};return Object(je.jsx)("div",{children:Object(je.jsx)(fe.a,{className:a.root,children:Object(je.jsx)(ye.a,{children:Object(je.jsxs)("form",{children:[Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("h2",{children:"Labour and Delivery"}),e.patientObj.ancNo&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"ANC ID"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"ancNo",id:"ancNo",onChange:Q,value:k.ancNo,disabled:!0})}),""!==S.ancNo?Object(je.jsx)("span",{className:a.error,children:S.ancNo}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Booking Status ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"bookingStatus",id:"bookingStatus",onChange:Q,value:k.bookingStatus,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select "}),I.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==S.bookingStatus?Object(je.jsx)("span",{className:a.error,children:S.bookingStatus}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date of Delivery ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfDelivery",id:"dateOfDelivery",onChange:Q,value:k.dateOfDelivery,min:e.patientObj.firstAncDate,max:ae()(new Date).format("YYYY-MM-DD"),disabled:E||N})}),""!==S.dateOfDelivery?Object(je.jsx)("span",{className:a.error,children:S.dateOfDelivery}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Gestational Age (weeks)"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"number",name:"gaweeks",id:"gaweeks",onChange:Q,value:h,disabled:!0,min:"0"})}),""!==S.gaweeks?Object(je.jsx)("span",{className:a.error,children:S.gaweeks}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"ROM Delivery Interval"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"romDeliveryInterval",id:"romDeliveryInterval",onChange:Q,value:k.romDeliveryInterval,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select "}),A.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==S.romDeliveryInterval?Object(je.jsx)("span",{className:a.error,children:S.romDeliveryInterval}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Place of delivery ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"placeOfDelivery",id:"placeOfDelivery",onChange:Q,value:k.placeOfDelivery,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select "}),i.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==S.placeOfDelivery?Object(je.jsx)("span",{className:a.error,children:S.placeOfDelivery}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Mode of Delivery ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(Ke.a,{type:"select",name:"modeOfDelivery",id:"modeOfDelivery",value:k.modeOfDelivery,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select "}),r.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==S.modeOfDelivery?Object(je.jsx)("span",{className:a.error,children:S.modeOfDelivery}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Episiotomy ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"episiotomy",id:"episiotomy",onChange:Q,value:k.episiotomy,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==S.episiotomy?Object(je.jsx)("span",{className:a.error,children:S.episiotomy}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Vaginal Tear ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"vaginalTear",id:"vaginalTear",onChange:Q,value:k.vaginalTear,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==S.vaginalTear?Object(je.jsx)("span",{className:a.error,children:S.vaginalTear}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["On ART? ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"onArt",id:"onArt",onChange:Q,value:k.onArt,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==S.onArt?Object(je.jsx)("span",{className:a.error,children:S.onArt}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Time of HIV Diagnosis"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"deliveryTime",id:"deliveryTime",onChange:Q,value:k.deliveryTime,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select"}),B.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==S.deliveryTime?Object(je.jsx)("span",{className:a.error,children:S.deliveryTime}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["ART started in L&D ward"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"artStartedLdWard",id:"artStartedLdWard",onChange:Q,value:k.artStartedLdWard,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==S.artStartedLdWard?Object(je.jsx)("span",{className:a.error,children:S.artStartedLdWard}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Hepatitis B Status ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"hbstatus",id:"hbstatus",onChange:Q,value:k.hbstatus,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==S.hbstatus?Object(je.jsx)("span",{className:a.error,children:S.hbstatus}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Hepatitis C Status ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"hcstatus",id:"hcstatus",onChange:Q,value:k.hcstatus,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==S.hcstatus?Object(je.jsx)("span",{className:a.error,children:S.hcstatus}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Feeding decision ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"feedingDecision",id:"feedingDecision",onChange:Q,value:k.feedingDecision,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select "}),l.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==S.feedingDecision?Object(je.jsx)("span",{className:a.error,children:S.feedingDecision}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Child given ARV within 72 hrs"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"childGivenArvWithin72",id:"childGivenArvWithin72",onChange:Q,value:k.childGivenArvWithin72,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==S.childGivenArvWithin72?Object(je.jsx)("span",{className:a.error,children:S.childGivenArvWithin72}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["HBV exposed infant given Hep B Ig within 24 hrs of birth"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"hivExposedInfantGivenHbWithin24hrs",id:"hivExposedInfantGivenHbWithin24hrs",onChange:Q,value:k.hivExposedInfantGivenHbWithin24hrs,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==S.hivExposedInfantGivenHbWithin24hrs?Object(je.jsx)("span",{className:a.error,children:S.hivExposedInfantGivenHbWithin24hrs}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Non HBV exposed infant given HBV vaccine within 24hrs of birth: ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"nonHbvExposedInfantGivenHbWithin24hrs",id:"hivExposedInfantGivenHbWithin24hrs",onChange:Q,value:k.nonHbvExposedInfantGivenHbWithin24hrs,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==S.hivExposedInfantGivenHbWithin24hrs?Object(je.jsx)("span",{className:a.error,children:S.hivExposedInfantGivenHbWithin24hrs}):""]})}),Object(je.jsx)("h3",{children:"Maternal Outcome"}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Maternal Outcome ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"maternalOutcome",id:"maternalOutcome",onChange:Q,value:k.maternalOutcome,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select "}),j.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==S.maternalOutcome?Object(je.jsx)("span",{className:a.error,children:S.maternalOutcome}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Child status ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"childStatus",id:"childStatus",onChange:Q,value:k.childStatus,disabled:N,children:[Object(je.jsx)("option",{value:"",children:"Select "}),D.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==S.childStatus?Object(je.jsx)("span",{className:a.error,children:S.childStatus}):""]})}),k.childStatus&&"CHILD_STATUS_DELIVERY_STILL_BIRTH"!==k.childStatus&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Number of Child Alive"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"Number",name:"numberOfInfantsAlive",id:"numberOfInfantsAlive",onChange:Q,value:k.numberOfInfantsAlive,disabled:N,min:"0"})}),""!==S.numberOfInfantsAlive?Object(je.jsx)("span",{className:a.error,children:S.numberOfInfantsAlive}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Number of Child Dead"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"Number",name:"numberOfInfantsDead",id:"numberOfInfantsDead",onChange:Q,value:k.numberOfInfantsDead,disabled:N,min:"0"})}),""!==S.numberOfInfantsDead?Object(je.jsx)("span",{className:a.error,children:S.numberOfInfantsDead}):""]})})]})]}),""!==k.maternalOutcome&&"MATERNAL_OUTCOME_ACTIVE_IN_PMTCT"!==k.maternalOutcome&&""!==k.maternalOutcome&&"MATERNAL_OUTCOME_ALIVE"!==k.maternalOutcome?Object(je.jsx)("h2",{style:{color:"red"},children:"Kindly fill tracking form"}):"",f?Object(je.jsx)(lt.a,{}):"",Object(je.jsx)("br",{}),e.activeContent&&e.activeContent.actionType?Object(je.jsx)(je.Fragment,{children:Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:N,className:a.button,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#014d88"},onClick:J,disabled:f,children:f?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(je.jsx)(je.Fragment,{children:Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#014d88"},onClick:J,disabled:f,children:f?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})]})})})})},gt=(a(114),a(209)),ft=a(1066),yt=a(1102),Nt=a(208),Tt=a.n(Nt);const St=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}})));var Ct=e=>{const t=St(),[a,r]=(Object(n.g)(),Object(s.useState)({})),[c,i]=Object(s.useState)(!1),[l,d]=Object(s.useState)(!1),[j,b]=Object(s.useState)([]),[h,m]=Object(s.useState)([]),[u,p]=Object(s.useState)([]),[f,y]=Object(s.useState)([]),[N,T]=Object(s.useState)([]),[S,C]=Object(s.useState)([]),[D,R]=Object(s.useState)([]);let I=Object(O.a)({},a);const[w,A]=Object(s.useState)(""),[P,E]=Object(s.useState)(""),[H,B]=Object(s.useState)(""),[_,k]=Object(s.useState)({active:!0,personId:e.patientObj.personId,clientCode:e.patientObj&&e.patientObj.clientCode?e.patientObj.clientCode:"",breastFeeding:e.patientObj&&e.patientObj.breastFeeding?e.patientObj.breastFeeding:"",dateVisit:e.patientObj&&e.patientObj.dateVisit?e.patientObj.dateVisit:"",firstTimeVisit:e.patientObj&&e.patientObj.firstTimeVisit?e.patientObj.firstTimeVisit:"",indexClient:e.patientObj&&e.patientObj.indexClient?e.patientObj.indexClient:"",numChildren:e.patientObj&&e.patientObj.numChildren?e.patientObj.numChildren:"",numWives:e.patientObj&&e.patientObj.numWives?e.patientObj.numWives:"",pregnant:e.patientObj&&e.patientObj.pregnant?e.patientObj.pregnant:"",previouslyTested:e.patientObj?e.patientObj.previouslyTested:"",referredFrom:e.patientObj?e.patientObj.referredFrom:"",riskAssessment:e.patientObj&&e.patientObj.riskAssessment?e.patientObj.riskAssessment:{},riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:"",targetGroup:e.patientObj&&e.patientObj.targetGroup?e.patientObj.targetGroup:"",testingSetting:e.patientObj?e.patientObj.testingSetting:"",typeCounseling:e.patientObj?e.patientObj.typeCounseling:"",relationshipWithIndexClient:e.patientObj?e.patientObj.relationshipWithIndexClient:"",indexClientCode:e.patientObj?e.patientObj.indexClientCode:""});Object(s.useEffect)((()=>{Y(),L(),V(),W(),z(),F(),M()}),[e.patientObj]);const Y=()=>{x.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{b(e.data)})).catch((e=>{}))},M=()=>{x.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{R(e.data)})).catch((e=>{}))},F=()=>{x.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{C(e.data)})).catch((e=>{}))},z=()=>{x.a.get("".concat(v,"application-codesets/v2/COUNSELING_TYPE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{T(e.data)})).catch((e=>{}))},L=()=>{x.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{m(e.data)})).catch((e=>{}))},V=()=>{x.a.get("".concat(v,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{p(e.data)})).catch((e=>{}))},W=()=>{x.a.get("".concat(v,"application-codesets/v2/GENDER"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{y(e.data)})).catch((e=>{}))},U=e=>{if(r(Object(O.a)(Object(O.a)({},I),{},{[e.target.name]:""})),"indexClientCode"===e.target.name&&""!==e.target.value){async function t(){const t=e.target.value,a=await x.a.get("".concat(v,"hts/client/").concat(t),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});"Record Not Found"!==a.data?(E(""),A(a.data)):(A(""),E(a.data))}t()}k(Object(O.a)(Object(O.a)({},_),{},{[e.target.name]:e.target.value}))},G=(t,a)=>{e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([...e.completed,a])};return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(ft.a,{className:t.root,children:Object(je.jsxs)(ye.a,{children:[Object(je.jsx)("h2",{style:{color:"#000"},children:"CLIENT INTAKE FORM "}),Object(je.jsx)("br",{}),Object(je.jsx)("form",{children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Target Group *"}),Object(je.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:U,value:_.targetGroup,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),j.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==a.targetGroup?Object(je.jsx)("span",{className:t.error,children:a.targetGroup}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Client Code *"}),Object(je.jsx)(Ke.a,{type:"text",name:"clientCode",id:"clientCode",value:_.clientCode,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==a.clientCode?Object(je.jsx)("span",{className:t.error,children:a.clientCode}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Referred From *"}),Object(je.jsxs)("select",{className:"form-control",name:"referredFrom",id:"referredFrom",onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),u.map((e=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==a.referredFrom?Object(je.jsx)("span",{className:t.error,children:a.referredFrom}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Setting*"}),Object(je.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:_.testingSetting,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),h.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==a.testingSetting?Object(je.jsx)("span",{className:t.error,children:a.testingSetting}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Visit Date  "}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateVisit",id:"dateVisit",value:_.dateVisit,onChange:U,min:_.dateOfRegistration,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==a.dateVisit?Object(je.jsx)("span",{className:t.error,children:a.dateVisit}):""]})}),_.age>9&&Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Number of Children ","<5"," years"]}),Object(je.jsx)(Ke.a,{type:"number",name:"numChildren",id:"numChildren",min:0,value:_.numChildren,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),_.age>9&&"376"==_.sexId&&Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Number of wives/co-wives"}),Object(je.jsx)(Ke.a,{type:"number",name:"numWives",id:"numWives",min:0,value:_.numWives,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Index Testing"}),Object(je.jsxs)("select",{className:"form-control",name:"indexClient",id:"indexClient",value:_.indexClient,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"YES"}),Object(je.jsx)("option",{value:"false",children:"NO"})]}),""!==a.indexClient?Object(je.jsx)("span",{className:t.error,children:a.indexClient}):""]})}),"true"===_.indexClient&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Relationship of the index client"}),Object(je.jsxs)("select",{className:"form-control",name:"relationshipWithIndexClient",id:"relationshipWithIndexClient",value:_.relationshipWithIndexClient,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),D.map((e=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Index Client Code/ID"}),Object(je.jsx)(Ke.a,{type:"text",name:"indexClientCode",id:"indexClientCode",value:_.indexClientCode,onBlur:e=>{!async function(){const e=_.clientCode;"Record Not Found"!==(await x.a.get("".concat(v,"hts/client/").concat(e),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}})).data?B("Client code already exist"):B("")}()},onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==H?Object(je.jsx)("span",{className:t.error,children:H}):""]})})]}),"377"===_.sex&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Pregnant"}),Object(je.jsxs)("select",{className:"form-control",name:"pregnant",id:"pregnant",value:_.pregnant,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),S.map((e=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Breast Feeding"}),Object(je.jsxs)("select",{className:"form-control",name:"breastFeeding",id:"breastFeeding",value:_.breastFeeding,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"YES"}),Object(je.jsx)("option",{value:"false",children:"NO"})]})]})})]}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"First time visit"}),Object(je.jsxs)("select",{className:"form-control",name:"firstTimeVisit",id:"firstTimeVisit",value:_.firstTimeVisit,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"YES"}),Object(je.jsx)("option",{value:"false",children:"NO"})]}),""!==a.firstTimeVisit?Object(je.jsx)("span",{className:t.error,children:a.firstTimeVisit}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Previously tested within the last 3 months"}),Object(je.jsxs)("select",{className:"form-control",name:"previouslyTested",id:"previouslyTested",value:_.previouslyTested,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"YES"}),Object(je.jsx)("option",{value:"false",children:"NO"})]}),""!==a.previouslyTested?Object(je.jsx)("span",{className:t.error,children:a.previouslyTested}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Type of Counseling"}),Object(je.jsxs)("select",{className:"form-control",name:"typeCounseling",id:"typeCounseling",value:_.typeCounseling,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),N.map((e=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==a.typeCounseling?Object(je.jsx)("span",{className:t.error,children:a.typeCounseling}):""]})}),Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"row",children:Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsx)(yt.a,{content:"Save & Continue",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:t=>{t.preventDefault();const a={clientCode:_.clientCode,dateVisit:_.dateVisit,extra:{},firstTimeVisit:_.firstTimeVisit,indexClient:_.indexClient,numChildren:_.numChildren,numWives:_.numWives,personId:e.patientObj.personId,hospitalNumber:_.clientCode,previouslyTested:_.previouslyTested,referredFrom:_.referredFrom,targetGroup:_.targetGroup,testingSetting:_.testingSetting,typeCounseling:_.typeCounseling,breastFeeding:_.breastFeeding,pregnant:_.pregnant,relationshipWithIndexClient:_.relationshipWithIndexClient,riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:""};I.clientCode=_.clientCode?"":"This field is required.",I.typeCounseling=_.typeCounseling?"":"This field is required.",I.testingSetting=_.testingSetting?"":"This field is required.",I.targetGroup=_.targetGroup?"":"This field is required.",I.referredFrom=_.referredFrom?"":"This field is required.",I.previouslyTested=_.previouslyTested?"":"This field is required.",I.indexClient=_.indexClient?"":"This field is required.",I.firstTimeVisit=_.firstTimeVisit?"":"This field is required.",I.dateVisit=_.dateVisit?"":"This field is required.",r(Object(O.a)({},I)),Object.values(I).every((e=>""==e))?x.a.post("".concat(v,"hts"),a,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{i(!1),e.setPatientObj(t.data),e.patientAge>15?G("pre-test-counsel","basic"):G("hiv-test","baisc")})).catch((e=>{if(i(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER})}})})})]})})]})})})},Dt=a(1100);const Rt=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var It=e=>{const t=Rt(),a=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",r=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.sex:"",c=e.patientObj&&e.patientObj?e.patientObj.id:"",[i,n]=Object(s.useState)(!1),[l,d]=Object(s.useState)({});Object(O.a)({},l);const[j,b]=Object(s.useState)({sexPartnerHivPositive:"",newDiagnosedHivlastThreeMonths:"",currentlyArvForPmtct:"",knowHivPositiveOnArv:"",knowHivPositiveAfterLostToFollowUp:"",uprotectedAnalSex:""}),[h,m]=Object(s.useState)({htsClientId:c,knowledgeAssessment:{},personId:a,riskAssessment:{},stiScreening:{},tbScreening:{},sexPartnerRiskAssessment:{}}),[u,p]=Object(s.useState)({previousTestedHIVNegative:"",timeLastHIVNegativeTestResult:"",clientPregnant:"",clientInformHivTransRoutes:"",clientInformRiskkHivTrans:"",clientInformPreventingsHivTrans:"",clientInformPossibleTestResult:"",informConsentHivTest:""}),[f,y]=Object(s.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:""}),[N,T]=Object(s.useState)({vaginalDischarge:"",lowerAbdominalPains:"",urethralDischarge:"",complaintsOfScrotal:"",complaintsGenitalSore:""}),[S,C]=Object(s.useState)({currentCough:"",weightLoss:"",lymphadenopathy:"",fever:"",nightSweats:""});Object(s.useEffect)((()=>{e.patientObj&&(p(e.patientObj.knowledgeAssessment&&null!==e.patientObj.knowledgeAssessment?e.patientObj.knowledgeAssessment:{}),y(e.patientObj.riskAssessment&&null!==e.patientObj.riskAssessment?e.patientObj.riskAssessment:{}),b(e.patientObj.sexPartnerRiskAssessment&&null!==e.patientObj.sexPartnerRiskAssessment?e.patientObj.sexPartnerRiskAssessment:{}),T(e.patientObj.stiScreening&&null!==e.patientObj.stiScreening?e.patientObj.stiScreening:{}),C(e.patientObj.tbScreening&&null!==e.patientObj.tbScreening?e.patientObj.tbScreening:{}),e.patientObj.riskStratificationResponseDto&&0!==Object.keys(e.patientObj.riskStratificationResponseDto.riskAssessment).length&&null===e.patientObj.riskAssessment?y(Object(O.a)(Object(O.a)({},f),e.patientObj.riskStratificationResponseDto.riskAssessment)):y(Object(O.a)(Object(O.a)({},f),e.patientObj.riskAssessment)))}),[e.patientObj]);const D=(t,a)=>{e.completed.includes(a)||e.setCompleted([...e.completed,a]),e.handleItemClick(t)},R=e=>{p(Object(O.a)(Object(O.a)({},u),{},{[e.target.name]:e.target.value}))},I=e=>{y(Object(O.a)(Object(O.a)({},f),{},{[e.target.name]:e.target.value}))},w=Object.values(f).filter((e=>"true"===e)),A=e=>{b(Object(O.a)(Object(O.a)({},j),{},{[e.target.name]:e.target.value}))},P=Object.values(j).filter((e=>"true"===e)),E=e=>{T(Object(O.a)(Object(O.a)({},N),{},{[e.target.name]:e.target.value}))},H=Object.values(N).filter((e=>"true"===e)),[B,_]=Object(s.useState)(0),k=e=>{if("true"===e.target.value){const e=B+1;e>=0&&e<=5&&_(e)}if("false"===e.target.value){const e=B-1;_(e<=0?0:e)}C(Object(O.a)(Object(O.a)({},S),{},{[e.target.name]:e.target.value}))};return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(ft.a,{className:t.root,children:Object(je.jsxs)(ye.a,{children:[Object(je.jsx)("h2",{children:"PRE TEST COUNSELING"}),Object(je.jsx)("form",{children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"rgb(0,181,173)",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Knowledge Assessment"}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Previously tested HIV negative *"}),Object(je.jsxs)("select",{className:"form-control",name:"previousTestedHIVNegative",id:"previousTestedHIVNegative",value:u.previousTestedHIVNegative,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.previousTestedHIVNegative?Object(je.jsx)("span",{className:t.error,children:l.previousTestedHIVNegative}):""]})}),"true"===u.previousTestedHIVNegative&&Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Time of last HIV Negative test Result*"}),Object(je.jsxs)("select",{className:"form-control",name:"timeLastHIVNegativeTestResult",id:"timeLastHIVNegativeTestResult",value:u.timeLastHIVNegativeTestResult,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsxs)("option",{value:"<1",children:[" ","< 1"," month"]}),Object(je.jsx)("option",{value:"1-3 Months",children:"1-3 Months"}),Object(je.jsx)("option",{value:"4-6 Months",children:"4-6 Months"}),Object(je.jsxs)("option",{value:">6 Months",children:[" ",">6"," Months"]})]}),""!==l.timeLastHIVNegativeTestResult?Object(je.jsx)("span",{className:t.error,children:l.timeLastHIVNegativeTestResult}):""]})}),"Female"===r&&Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Client pregnant *"}),Object(je.jsxs)("select",{className:"form-control",name:"clientPregnant",id:"clientPregnant",value:u.clientPregnant,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.clientPregnant?Object(je.jsx)("span",{className:t.error,children:l.clientPregnant}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Client informed about HIV transmission routes *"}),Object(je.jsxs)("select",{className:"form-control",name:"clientInformHivTransRoutes",id:"clientInformHivTransRoutes",value:u.clientInformHivTransRoutes,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.clientInformHivTransRoutes?Object(je.jsx)("span",{className:t.error,children:l.clientInformHivTransRoutes}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Client informed about risk factors for HIV transmission *"}),Object(je.jsxs)("select",{className:"form-control",name:"clientInformRiskkHivTrans",id:"clientInformRiskkHivTrans",value:u.clientInformRiskkHivTrans,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.clientInformRiskkHivTrans?Object(je.jsx)("span",{className:t.error,children:l.clientInformRiskkHivTrans}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Client informed on preventing HIV transmission methods *"}),Object(je.jsxs)("select",{className:"form-control",name:"clientInformPreventingsHivTrans",id:"clientInformPreventingsHivTrans",value:u.clientInformPreventingsHivTrans,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.clientInformPreventingsHivTrans?Object(je.jsx)("span",{className:t.error,children:l.clientInformPreventingsHivTrans}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Client informed about possible test results *"}),Object(je.jsxs)("select",{className:"form-control",name:"clientInformPossibleTestResult",id:"clientInformPossibleTestResult",value:u.clientInformPossibleTestResult,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.clientInformPossibleTestResult?Object(je.jsx)("span",{className:t.error,children:l.clientInformPossibleTestResult}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Informed consent for HIV testing given *"}),Object(je.jsxs)("select",{className:"form-control",name:"informConsentHivTest",id:"informConsentHivTest",value:u.informConsentHivTest,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.informConsentHivTest?Object(je.jsx)("span",{className:t.error,children:l.informConsentHivTest}):""]})}),Object(je.jsx)("hr",{}),Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#000",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Clinical TB screening"}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Current cough *"}),Object(je.jsxs)("select",{className:"form-control",name:"currentCough",id:"currentCough",value:S.currentCough,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.currentCough?Object(je.jsx)("span",{className:t.error,children:l.currentCough}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Weight loss *"}),Object(je.jsxs)("select",{className:"form-control",name:"weightLoss",id:"weightLoss",value:S.weightLoss,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.weightLoss?Object(je.jsx)("span",{className:t.error,children:l.weightLoss}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Lymphadenopathy (swelling of the lymph nodes) *"}),Object(je.jsxs)("select",{className:"form-control",name:"lymphadenopathy",id:"lymphadenopathy",value:S.lymphadenopathy,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.lymphadenopathy?Object(je.jsx)("span",{className:t.error,children:l.lymphadenopathy}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Fever *"}),Object(je.jsxs)("select",{className:"form-control",name:"fever",id:"fever",value:S.fever,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.fever?Object(je.jsx)("span",{className:t.error,children:l.fever}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Night sweats*"}),Object(je.jsxs)("select",{className:"form-control",name:"nightSweats",id:"nightSweats",value:S.nightSweats,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.nightSweats?Object(je.jsx)("span",{className:t.error,children:l.nightSweats}):""]})}),Object(je.jsxs)(Dt.a,{warning:!0,children:[Object(je.jsxs)("h4",{children:["TB Screening score (calculate the sum of the TB assessment) If score ",">= 1",", test for Xper MTB RIF or refer to TB service "]}),Object(je.jsxs)("b",{children:["Score : ",B]})]}),Object(je.jsx)("hr",{}),Object(je.jsx)("br",{}),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Ever had sexual intercourse "}),Object(je.jsxs)("select",{className:"form-control",name:"everHadSexualIntercourse",id:"everHadSexualIntercourse",value:f.everHadSexualIntercourse,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.everHadSexualIntercourse?Object(je.jsx)("span",{className:t.error,children:l.everHadSexualIntercourse}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Blood transfusion in last 3 months *"}),Object(je.jsxs)("select",{className:"form-control",name:"bloodtransInlastThreeMonths",id:"bloodtransInlastThreeMonths",value:f.bloodtransInlastThreeMonths,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.bloodtransInlastThreeMonths?Object(je.jsx)("span",{className:t.error,children:l.bloodtransInlastThreeMonths}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Unprotected sex with casual partner in last 3 months *"}),Object(je.jsxs)("select",{className:"form-control",name:"uprotectedSexWithCasualLastThreeMonths",id:"uprotectedSexWithCasualLastThreeMonths",value:f.uprotectedSexWithCasualLastThreeMonths,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.uprotectedSexWithCasualLastThreeMonths?Object(je.jsx)("span",{className:t.error,children:l.uprotectedSexWithCasualLastThreeMonths}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Unprotected sex with regular partner in the last 3months"}),Object(je.jsxs)("select",{className:"form-control",name:"uprotectedSexWithRegularPartnerLastThreeMonths",id:"uprotectedSexWithRegularPartnerLastThreeMonths",value:f.uprotectedSexWithRegularPartnerLastThreeMonths,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.uprotectedSexWithRegularPartnerLastThreeMonths?Object(je.jsx)("span",{className:t.error,children:l.uprotectedSexWithRegularPartnerLastThreeMonths}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Unprotected vaginal sex"}),Object(je.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSex",id:"unprotectedVaginalSex",value:f.unprotectedVaginalSex,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.unprotectedVaginalSex?Object(je.jsx)("span",{className:t.error,children:l.unprotectedVaginalSex}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Unprotected Anal sex"}),Object(je.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:f.uprotectedAnalSex,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.uprotectedAnalSex?Object(je.jsx)("span",{className:t.error,children:l.uprotectedAnalSex}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"STI in last 3 months *"}),Object(je.jsxs)("select",{className:"form-control",name:"stiLastThreeMonths",id:"stiLastThreeMonths",value:f.stiLastThreeMonths,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.stiLastThreeMonths?Object(je.jsx)("span",{className:t.error,children:l.stiLastThreeMonths}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Sex under the influence of drugs or alcohol*"}),Object(je.jsxs)("select",{className:"form-control",name:"sexUnderInfluence",id:"sexUnderInfluence",value:f.sexUnderInfluence,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.sexUnderInfluence?Object(je.jsx)("span",{className:t.error,children:l.sexUnderInfluence}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"More than 1 sex partner during last 3 months*"}),Object(je.jsxs)("select",{className:"form-control",name:"moreThanOneSexPartnerLastThreeMonths",id:"moreThanOneSexPartnerLastThreeMonths",value:f.moreThanOneSexPartnerLastThreeMonths,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.moreThanOneSexPartnerLastThreeMonths?Object(je.jsx)("span",{className:t.error,children:l.moreThanOneSexPartnerLastThreeMonths}):""]})}),Object(je.jsxs)(Dt.a,{warning:!0,children:[Object(je.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(je.jsxs)("b",{children:["Score : ",w.length]})]}),Object(je.jsx)("hr",{}),Object(je.jsx)("br",{})]}),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Have you/your partner experienced lower abdominal pain, smelly discharge, blisters and wounds around you/partner vagina, penis anus or mouth?"}),Object(je.jsxs)("select",{className:"form-control",name:"experiencePain",id:"experiencePain",value:f.experiencePain,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.experiencePain?Object(je.jsx)("span",{className:t.error,children:l.experiencePain}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Have you/partner had sex without a condom with someone of unknown HIV status, or you/partner raped by person with unknown HIV status? *"}),Object(je.jsxs)("select",{className:"form-control",name:"haveSexWithoutCondom",id:"haveSexWithoutCondom",value:f.haveSexWithoutCondom,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveSexWithoutCondom?Object(je.jsx)("span",{className:t.error,children:l.haveSexWithoutCondom}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Have you had a condom burst with your partner during sexual intercourse?  *"}),Object(je.jsxs)("select",{className:"form-control",name:"haveCondomBurst",id:"haveCondomBurst",value:f.haveCondomBurst,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveCondomBurst?Object(je.jsx)("span",{className:t.error,children:l.haveCondomBurst}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Do you/partner share needles/syringes, other sharp objects or used abuse drug substances of any kind?"}),Object(je.jsxs)("select",{className:"form-control",name:"abuseDrug",id:"abuseDrug",value:f.abuseDrug,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.abuseDrug?Object(je.jsx)("span",{className:t.error,children:l.abuseDrug}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Have you/partner had any blood or blood product transfusion?"}),Object(je.jsxs)("select",{className:"form-control",name:"bloodTransfusion",id:"bloodTransfusion",value:f.bloodTransfusion,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.bloodTransfusion?Object(je.jsx)("span",{className:t.error,children:l.bloodTransfusion}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Have you/partner experienced coughing, weight loss, fever, night sweats consistently?"}),Object(je.jsxs)("select",{className:"form-control",name:"consistentWeightFeverNightCough",id:"consistentWeightFeverNightCough",value:f.consistentWeightFeverNightCough,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.consistentWeightFeverNightCough?Object(je.jsx)("span",{className:t.error,children:l.consistentWeightFeverNightCough}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Have you/partner paid or sold vaginal, anal or oral sex? *"}),Object(je.jsxs)("select",{className:"form-control",name:"soldPaidVaginalSex",id:"soldPaidVaginalSex",value:f.soldPaidVaginalSex,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.soldPaidVaginalSex?Object(je.jsx)("span",{className:t.error,children:l.soldPaidVaginalSex}):""]})}),Object(je.jsxs)(Dt.a,{warning:!0,children:[Object(je.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(je.jsxs)("b",{children:["Score :",w.length]})]}),Object(je.jsx)("hr",{}),Object(je.jsx)("br",{})]}),Object(je.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Sex Partner Risk Assessment (Last 3 months)"}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Have you had sex with a partner who is HIV positive? "}),Object(je.jsxs)("select",{className:"form-control",name:"sexPartnerHivPositive",id:"sexPartnerHivPositive",value:j.sexPartnerHivPositive,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.sexPartnerHivPositive?Object(je.jsx)("span",{className:t.error,children:l.sexPartnerHivPositive}):""]})}),"true"===j.sexPartnerHivPositive&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Is sex partner newly diagnosed with HIV and started treatment less than 3-6 months ago?*"}),Object(je.jsxs)("select",{className:"form-control",name:"newDiagnosedHivlastThreeMonths",id:"newDiagnosedHivlastThreeMonths",value:j.newDiagnosedHivlastThreeMonths,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.newDiagnosedHivlastThreeMonths?Object(je.jsx)("span",{className:t.error,children:l.newDiagnosedHivlastThreeMonths}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Is sex partner pregnant and currently receiving ARV for PMTCT?*"}),Object(je.jsxs)("select",{className:"form-control",name:"currentlyArvForPmtct",id:"currentlyArvForPmtct",value:j.currentlyArvForPmtct,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.currentlyArvForPmtct?Object(je.jsx)("span",{className:t.error,children:l.currentlyArvForPmtct}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Known HIV positive partner on ARV with an unsurpressed VL"}),Object(je.jsxs)("select",{className:"form-control",name:"knowHivPositiveOnArv",id:"knowHivPositiveOnArv",value:j.knowHivPositiveOnArv,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.knowHivPositiveOnArv?Object(je.jsx)("span",{className:t.error,children:l.knowHivPositiveOnArv}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Known HIV positive recently returned to treatment after being lost to follow up"}),Object(je.jsxs)("select",{className:"form-control",name:"knowHivPositiveAfterLostToFollowUp",id:"knowHivPositiveAfterLostToFollowUp",value:j.knowHivPositiveAfterLostToFollowUp,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.knowHivPositiveAfterLostToFollowUp?Object(je.jsx)("span",{className:t.error,children:l.knowHivPositiveAfterLostToFollowUp}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Unprotected Anal sex"}),Object(je.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:j.uprotectedAnalSex,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.uprotectedAnalSex?Object(je.jsx)("span",{className:t.error,children:l.uprotectedAnalSex}):""]})})]}),Object(je.jsxs)(Dt.a,{warning:!0,children:[Object(je.jsx)("h4",{children:"Sex Partner Risk Assessment score (sum of all 6 answers)"}),Object(je.jsxs)("b",{children:["Score :",P.length]})]}),Object(je.jsx)("hr",{}),Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#014D88",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Syndromic STI Screening"}),e.patientObj&&"Female"===e.patientObj.personResponseDto.sex&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Complaints of vaginal discharge or burning when urinating?"}),Object(je.jsxs)("select",{className:"form-control",name:"vaginalDischarge",id:"vaginalDischarge",value:N.vaginalDischarge,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.vaginalDischarge?Object(je.jsx)("span",{className:t.error,children:l.vaginalDischarge}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Complaints of lower abdominal pains with or without vaginal discharge?"}),Object(je.jsxs)("select",{className:"form-control",name:"lowerAbdominalPains",id:"lowerAbdominalPains",value:N.lowerAbdominalPains,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.lowerAbdominalPains?Object(je.jsx)("span",{className:t.error,children:l.lowerAbdominalPains}):""]})})]}),e.patientObj.personResponseDto&&"Male"===e.patientObj.personResponseDto.sex&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Complaints of urethral discharge or burning when urinating?"}),Object(je.jsxs)("select",{className:"form-control",name:"urethralDischarge",id:"urethralDischarge",value:N.urethralDischarge,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.urethralDischarge?Object(je.jsx)("span",{className:t.error,children:l.urethralDischarge}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Complaints of scrotal swelling and pain"}),Object(je.jsxs)("select",{className:"form-control",name:"complaintsOfScrotal",id:"complaintsOfScrotal",value:N.complaintsOfScrotal,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.complaintsOfScrotal?Object(je.jsx)("span",{className:t.error,children:l.complaintsOfScrotal}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Complaints of genital sore(s) or swollen inguinal lymph nodes with or without pains?"}),Object(je.jsxs)("select",{className:"form-control",name:"complaintsGenitalSore",id:"complaintsGenitalSore",value:N.complaintsGenitalSore,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==l.complaintsGenitalSore?Object(je.jsx)("span",{className:t.error,children:l.complaintsGenitalSore}):""]})})]}),Object(je.jsxs)(Dt.a,{warning:!0,children:[Object(je.jsxs)("h4",{children:["Calculate the sum of the STI screening. If ",">= ","1, should be referred for STI test "]}),Object(je.jsxs)("b",{children:["Score :",H.length]})]}),i?Object(je.jsx)(lt.a,{}):"",Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"row",children:Object(je.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(je.jsx)(yt.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:()=>D("basic","basic")}),Object(je.jsx)(yt.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:t=>{t.preventDefault(),h.htsClientId=c,h.knowledgeAssessment=u,h.personId=a,h.riskAssessment=f,h.stiScreening=N,h.tbScreening=S,h.sexPartnerRiskAssessment=j,x.a.put("".concat(v,"hts/").concat(c,"/pre-test-counseling"),h,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{n(!1),e.setPatientObj(t.data),D("hiv-test","pre-test-counsel")})).catch((e=>{if(n(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))}})]})})]})})]})})})};const wt=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var At=e=>{const t=wt(),[a,r]=Object(s.useState)(!1),[c,i]=Object(s.useState)({});let n=Object(O.a)({},c);const l=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",d=e.patientObj&&e.patientObj?e.patientObj.id:"",[j,b]=Object(s.useState)(""),[h,m]=Object(s.useState)(!0),u=(e=>{var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),c=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&c--,0===c?i+" month(s)":c})(te(e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?e.patientObj.personResponseDto.dateOfBirth:0).format("DD-MM-YYYY")),[p,f]=Object(s.useState)({confirmatoryTest:{},confirmatoryTest2:{},hivTestResult:"",hivTestResult2:"",htsClientId:"",personId:e.patientObj?e.patientObj.id:"",test1:{},test2:{},tieBreakerTest:{},tieBreakerTest2:{},syphilisTesting:{},hepatitisTesting:{},others:{},cd4:{}}),[y,N]=Object(s.useState)({date:"",result:""}),[T,S]=Object(s.useState)({date2:"",result2:""}),C=e=>{R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value}))},[D,R]=Object(s.useState)({cd4Count:"",cd4SemiQuantitative:"",cd4FlowCyteometry:""}),I=e=>{"No"===e.target.value?(N(Object(O.a)(Object(O.a)({},y),{},{[e.target.name]:e.target.value})),P({date:"",result:""}),Y({date:"",result:""}),m(!1)):(N(Object(O.a)(Object(O.a)({},y),{},{[e.target.name]:e.target.value})),m(!0))},w=e=>{"No"===e.target.value?(S(Object(O.a)(Object(O.a)({},T),{},{[e.target.name]:e.target.value})),H({date2:"",result2:""}),F({date2:"",result2:""}),m(!1)):(S(Object(O.a)(Object(O.a)({},T),{},{[e.target.name]:e.target.value})),m(!0))},[A,P]=Object(s.useState)({date:"",result:""}),[E,H]=Object(s.useState)({date2:"",result2:""}),B=e=>{P(Object(O.a)(Object(O.a)({},A),{},{[e.target.name]:e.target.value})),"Yes"===y.result&&e.target.value,m(!0)},_=e=>{H(Object(O.a)(Object(O.a)({},E),{},{[e.target.name]:e.target.value})),"Yes"===T.result2&&e.target.value,m(!0)},[k,Y]=Object(s.useState)({date:"",result:""}),[M,F]=Object(s.useState)({date2:"",result2:""}),z=e=>{Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value})),"No"===A.result&&"Yes"===e.target.value?m(!0):"No"===A.result&&"No"===e.target.value?m(!1):m(!0)},L=e=>{F(Object(O.a)(Object(O.a)({},M),{},{[e.target.name]:e.target.value})),"No"===E.result2&&"Yes"===e.target.value?m(!0):"No"===E.result2&&"No"===e.target.value?m(!1):m(!0)},[V,W]=Object(s.useState)({syphilisTestResult:""}),[U,G]=Object(s.useState)({hepatitisCTestResult:"",hepatitisBTestResult:"",longitude:"",latitude:"",adhocCode:""}),q=e=>{G(Object(O.a)(Object(O.a)({},U),{},{[e.target.name]:e.target.value}))},[K,X]=Object(s.useState)({longitude:"",latitude:"",adhocCode:""});Object(s.useEffect)((()=>{e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?b(e.patientObj.dateVisit):b(""),R(e.patientObj&&null!==e.patientObj.cd4?e.patientObj.cd4:{}),Y(e.patientObj&&null!==e.patientObj.tieBreakerTest?e.patientObj.tieBreakerTest:{}),W(e.patientObj&&null!==e.patientObj.syphilisTesting?e.patientObj.syphilisTesting:{}),G(e.patientObj&&null!==e.patientObj.hepatitisTesting?e.patientObj.hepatitisTesting:{}),X(e.patientObj&&null!==e.patientObj.others?e.patientObj.others:{}))}),[e.patientObj]);const Q=e=>{X(Object(O.a)(Object(O.a)({},K),{},{[e.target.name]:e.target.value}))},J=(t,a)=>{e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([...e.completed,a])};return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(ft.a,{className:t.root,children:Object(je.jsxs)(ye.a,{children:[Object(je.jsx)("h2",{style:{color:"#000"},children:"REQUEST AND RESULT FORM"}),Object(je.jsx)("form",{children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsx)("h4",{style:{color:"#fff"},children:"HIV TEST RESULT"})}),Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"form-group  col-md-2"}),Object(je.jsx)("h4",{children:"Initial HIV Test 1:"}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:" Date  "}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date",id:"date",value:y.date,onChange:I,min:""!==j&&null!==j?j:"",max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==c.date?Object(je.jsx)("span",{className:t.error,children:c.date}):""]})}),y.date&&Object(je.jsx)("div",{className:"form-group  col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Result "}),Object(je.jsxs)("select",{className:"form-control",name:"result",id:"result",value:y.result,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===y.date,children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Reactive"}),Object(je.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==c.result?Object(je.jsx)("span",{className:t.error,children:c.result}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===y.result&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("h4",{children:"Confirmatory Test:"}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:" Date  "}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date",id:"date",value:A.date,onChange:B,min:y.date,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==c.dateOfEac1?Object(je.jsx)("span",{className:t.error,children:c.dateOfEac1}):""]})}),A.date&&Object(je.jsx)("div",{className:"form-group  col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Result "}),Object(je.jsxs)("select",{className:"form-control",name:"result",id:"result",value:A.result,onChange:B,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===A.date,children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Reactive"}),Object(je.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===A.result&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("h4",{children:"Tie Breaker Test:"}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:" Date  "}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date",id:"date",value:k.date,onChange:z,min:A.date,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),k.date&&Object(je.jsx)("div",{className:"form-group  col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Result "}),Object(je.jsxs)("select",{className:"form-control",name:"result",id:"result",value:k.result,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===k.date,children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Reactive"}),Object(je.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-2"})]}),Object(je.jsx)("div",{className:"row",children:Object(je.jsxs)("div",{className:"form-group  col-md-12",children:["No"===y.result&&Object(je.jsx)(Te.a,{color:"green",children:"Negative"}),"No"===y.result&&"No"===A.result&&Object(je.jsx)(Te.a,{color:"green",children:"Negative"}),"Yes"===y.result&&"Yes"===A.result&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Te.a,{color:"red",children:"Positive"}),Object(je.jsx)("br",{}),Object(je.jsx)("hr",{}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("h4",{children:"Initial HIV Test 2:"}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:" Date "}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date2",id:"date2",value:T.date2,onChange:w,min:A.date,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==c.date2?Object(je.jsx)("span",{className:t.error,children:c.date2}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Result  "}),Object(je.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:T.result2,onChange:w,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===T.date2,children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Reactive"}),Object(je.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==c.result2?Object(je.jsx)("span",{className:t.error,children:c.result2}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===T.result2&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:" Date  "}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date2",id:"date2",value:E.date2,onChange:_,min:T.date2,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(je.jsx)("div",{className:"form-group  col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Result "}),Object(je.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:E.result2,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===E.date2,children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Reactive"}),Object(je.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===E.result2&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:" Date  "}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date2",id:"date2",value:M.date2,onChange:L,min:E.date2,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(je.jsx)("div",{className:"form-group  col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Result "}),Object(je.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:M.result2,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===M.date2,children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Reactive"}),Object(je.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===A.result&&"Yes"===k.result&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Te.a,{color:"red",children:"Positive"}),Object(je.jsx)("br",{}),Object(je.jsx)("hr",{}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("h4",{children:"Initial HIV Test 2:"}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:" Date  "}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date2",id:"date2",value:T.date2,onChange:w,min:k.date,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==c.date2?Object(je.jsx)("span",{className:t.error,children:c.date2}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Result  "}),Object(je.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:T.result2,onChange:w,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===T.date2,children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Reactive"}),Object(je.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==c.result2?Object(je.jsx)("span",{className:t.error,children:c.result2}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===T.result2&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:" Date  "}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date2",id:"date2",value:E.date2,onChange:_,min:T.date2,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(je.jsx)("div",{className:"form-group  col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Result "}),Object(je.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:E.result2,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===E.date2,children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Reactive"}),Object(je.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===E.result2&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:" Date  "}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"date2",id:"date2",value:M.date2,onChange:L,min:E.date2,max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(je.jsx)("div",{className:"form-group  col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Result "}),Object(je.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:M.result2,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===M.date2,children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Reactive"}),Object(je.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===A.result&&"No"===k.result&&("Yes"===y.result||"Yes"===y.result||""===y.result)&&Object(je.jsx)(Te.a,{color:"green",children:"Negative"}),T.result2&&"No"===T.result2&&Object(je.jsx)(Te.a,{color:"green",children:"Negative"}),"No"===T.result2&&"No"===E.result2&&Object(je.jsx)(Te.a,{color:"green",children:"Negative"}),"Yes"===T.result2&&"Yes"===E.result2&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Te.a,{color:"red",children:"Positive"}),Object(je.jsx)("br",{})]}),"No"===E.result2&&"Yes"===M.result2&&Object(je.jsx)(Te.a,{color:"red",children:"Positive"}),"No"===E.result2&&"No"===M.result2&&("Yes"===T.result2||"Yes"===T.result2||""===T.result2)&&Object(je.jsx)(Te.a,{color:"green",children:"Negative"})]})}),h&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsx)("h5",{style:{color:"#fff"},children:"CD4 Count"})}),Object(je.jsx)("br",{})," ",Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"form-group  col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"CD4 Count "}),Object(je.jsxs)("select",{className:"form-control",name:"cd4Count",id:"cd4Count",value:D.cd4Count,onChange:C,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Semi-Quantitative",children:"Semi-Quantitative"}),Object(je.jsx)("option",{value:"Flow Cyteometry",children:"Flow Cyteometry"})]})]})}),"Semi-Quantitative"===D.cd4Count&&Object(je.jsx)("div",{className:"form-group  col-md-5",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"CD4 Count Value"}),Object(je.jsxs)("select",{className:"form-control",name:"cd4SemiQuantitative",id:"cd4SemiQuantitative",value:D.cd4SemiQuantitative,onChange:C,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Semi-Quantitative",children:"<200"}),Object(je.jsx)("option",{value:"Flow Cyteometry",children:">=200"})]})]})}),"Flow Cyteometry"===D.cd4Count&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"CD4 Count Value"}),Object(je.jsx)(Ke.a,{type:"text",name:"cd4FlowCyteometry",id:"cd4FlowCyteometry",value:D.cd4FlowCyteometry,onChange:C,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(je.jsx)("div",{className:"form-group  col-md-7"})]}),Object(je.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(je.jsx)("br",{})," ",Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Syphilis test result *"}),Object(je.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",value:V.syphilisTestResult,onChange:e=>{W(Object(O.a)(Object(O.a)({},V),{},{[e.target.name]:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Reactive"}),Object(je.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(je.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis Testing"})}),Object(je.jsx)("br",{})," ",Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Hepatitis B virus test result *"}),Object(je.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",value:U.hepatitisBTestResult,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Positive"}),Object(je.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Hepatitis C virus test result *"}),Object(je.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",value:U.hepatitisCTestResult,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Positive"}),Object(je.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(je.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsx)("h5",{style:{color:"#fff"},children:"Others"})}),Object(je.jsx)("br",{})," ",Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Longitude"}),Object(je.jsx)(Ke.a,{type:"number",name:"longitude",id:"longitude",value:K.longitude,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Latitude"}),Object(je.jsx)(Ke.a,{type:"number",name:"latitude",id:"latitude",value:K.latitude,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Adhoc Code"}),Object(je.jsx)(Ke.a,{type:"number",name:"adhocCode",id:"adhocCode",value:K.adhocCode,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),a?Object(je.jsx)(lt.a,{}):"",Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"row",children:Object(je.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[u<=15?Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(yt.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:()=>J("basic","basic")})}):Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(yt.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:()=>J("pre-test-counsel","pre-test-counsel")})}),Object(je.jsx)(yt.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:t=>{t.preventDefault(),""!==y.date&&(n.date=y.result?"":"This field is required."),i(Object(O.a)({},n)),Object.values(n).every((e=>""==e))&&("No"===T.result2?p.hivTestResult2="Negative":"Yes"===T.result2&&"Yes"===E.result2||"No"===E.result2&&"Yes"===M.result2?p.hivTestResult2="Positive":"No"===E.result2&&"No"===M.result2?p.hivTestResult2="Negative":p.hivTestResult2="","No"===y.result?p.hivTestResult="Negative":"Yes"===y.result&&"Yes"===A.result||"No"===A.result&&"Yes"===k.result?p.hivTestResult="Positive":"No"===A.result&&"No"===k.result?p.hivTestResult="Negative":p.hivTestResult="",p.htsClientId=d,p.confirmatoryTest=A,p.confirmatoryTest2=E,p.personId=l,p.test1=y,p.test2=T,p.tieBreakerTest=k,p.tieBreakerTest2=M,p.syphilisTesting=V,p.hepatitisTesting=U,p.cd4=D,p.others=K,x.a.put("".concat(v,"hts/").concat(d,"/request-result"),p,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{r(!1),e.setPatientObj(t.data),J("post-test","hiv-test")})).catch((e=>{if(r(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))}})]})})]})})]})})})};const Pt=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var Et=e=>{const t=Pt(),[a,r]=Object(s.useState)(!1),[c,i]=Object(s.useState)({}),[n,l]=Object(s.useState)([]),[d,j]=Object(s.useState)([]),[b,h]=Object(s.useState)(!0),[m,u]=Object(s.useState)([]),[p,f]=Object(s.useState)([]),[y,N]=Object(s.useState)(""),[T,S]=Object(s.useState)({htsClientId:null,indexNotificationServicesElicitation:{},personId:null}),[C,D]=Object(s.useState)({firstName:"",middleName:"",lastName:"",dob:"",phoneNumber:"",altPhoneNumber:"",sex:"",htsClientId:e&&e.patientObj?e.patientObj.id:"",physicalHurt:"",threatenToHurt:"",address:"",hangOutSpots:"",relativeToIndexClient:"",currentlyLiveWithPartner:"",partnerTestedPositive:"",sexuallyUncomfortable:"",notificationMethod:"",datePartnerCameForTesting:""});Object(s.useEffect)((()=>{R(),A(),I(),w(),e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?N(e.patientObj.dateVisit):N(""))}),[e.patientObj]);const R=()=>{x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l(e.data)})).catch((e=>{}))},I=()=>{x.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{u(e.data)})).catch((e=>{}))},w=()=>{x.a.get("".concat(v,"application-codesets/v2/CONSENT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{f(e.data)})).catch((e=>{}))},A=()=>{x.a.get("".concat(v,"application-codesets/v2/NOTIFICATION_CONTACT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{j(e.data)})).catch((e=>{}))},P=t=>{e.handleIClickPage(t)},E=e=>{if("firstName"===e.target.name&&""!==e.target.value){const t=_(e.target.value);D(Object(O.a)(Object(O.a)({},C),{},{[e.target.name]:t}))}if("lastName"===e.target.name&&""!==e.target.value){const t=_(e.target.value);D(Object(O.a)(Object(O.a)({},C),{},{[e.target.name]:t}))}if("middleName"===e.target.name&&""!==e.target.value){const t=_(e.target.value);D(Object(O.a)(Object(O.a)({},C),{},{[e.target.name]:t}))}D(Object(O.a)(Object(O.a)({},C),{},{[e.target.name]:e.target.value}))},H=e=>{"Actual"==e.target.value?(C.isDateOfBirthEstimated=!1,h(!0)):"Estimated"==e.target.value&&(C.isDateOfBirthEstimated=!0,h(!1))},B=(e,t)=>{D(Object(O.a)(Object(O.a)({},C),{},{[t]:e.slice(0,10)}))},_=e=>e.replace(/[^a-z]/gi,"");return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(ft.a,{className:t.root,children:Object(je.jsxs)(ye.a,{children:[Object(je.jsxs)("h2",{style:{color:"#000"},children:["Index Notification Services - Elicitation",Object(je.jsx)(yt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:()=>P("list"),children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:" Back To Client Index List"})})]}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("form",{children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"First Name"}),Object(je.jsx)(Ke.a,{type:"text",name:"firstName",id:"firstName",value:C.firstName,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Middle Name"}),Object(je.jsx)(Ke.a,{type:"text",name:"middleName",id:"middleName",value:C.middleName,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Last Name"}),Object(je.jsx)(Ke.a,{type:"text",name:"lastName",id:"lastName",value:C.lastName,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(je.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date Of Birth"}),Object(je.jsx)("div",{className:"radio",children:Object(je.jsxs)("label",{children:[Object(je.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:e=>H(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(je.jsx)("div",{className:"radio",children:Object(je.jsxs)("label",{children:[Object(je.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:e=>H(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date"}),Object(je.jsx)("input",{className:"form-control",type:"date",onKeyPress:e=>{e.preventDefault()},name:"dob",id:"dob",max:te(new Date).format("YYYY-MM-DD"),value:C.dob,onChange:e=>{if(e.target.value){const t=new Date,a=new Date(e.target.value);let s=t.getFullYear()-a.getFullYear();const r=t.getMonth()-a.getMonth();(r<0||0===r&&t.getDate()<a.getDate())&&s--,C.age=s}else D(Object(O.a)(Object(O.a)({},C),{},{age:""}));D(Object(O.a)(Object(O.a)({},C),{},{[e.target.name]:e.target.value})),D(Object(O.a)(Object(O.a)({},C),{},{dob:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Age"}),Object(je.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:C.age,disabled:b,onChange:e=>{if(!b&&e.target.value){const t=new Date;t.setDate(15),t.setMonth(5);const a=te(t.toISOString()).add(-1*e.target.value,"years");D(Object(O.a)(Object(O.a)({},C),{},{dob:te(a).format("YYYY-MM-DD")})),C.dob=te(a).format("YYYY-MM-DD")}D(Object(O.a)(Object(O.a)({},C),{},{age:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Phone Number"}),Object(je.jsx)(Tt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:C.phoneNumber,onChange:e=>{B(e,"phoneNumber")}}),""!==c.phoneNumber?Object(je.jsx)("span",{className:t.error,children:c.phoneNumber}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Alternative Phone Number"}),Object(je.jsx)(Tt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"altPhoneNumber",id:"altPhoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:C.altPhoneNumber,onChange:e=>{B(e,"altPhoneNumber")}})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Sex *"}),Object(je.jsxs)("select",{className:"form-control",name:"sex",id:"sex",value:C.sex,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),n.map((e=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Address"}),Object(je.jsx)(Ke.a,{type:"text",name:"address",id:"address",value:C.address,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Hang-out spots"}),Object(je.jsx)(Ke.a,{type:"text",name:"hangOutSpots",id:"hangOutSpots",value:C.hangOutSpots,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Relationship to Index Client *"}),Object(je.jsxs)("select",{className:"form-control",name:"relativeToIndexClient",id:"relativeToIndexClient",value:C.relativeToIndexClient,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),m.map((e=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Do you currently live with this partner? *"}),Object(je.jsxs)("select",{className:"form-control",name:"currentlyLiveWithPartner",id:"currentlyLiveWithPartner",value:C.currentlyLiveWithPartner,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"As far as you know, as this partner ever tested positive for HIV *"}),Object(je.jsxs)("select",{className:"form-control",name:"partnerTestedPositive",id:"partnerTestedPositive",value:C.partnerTestedPositive,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),p.map((e=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Has this partner ever hit, kick, slapped or otherwise physical hurt you? *"}),Object(je.jsxs)("select",{className:"form-control",name:"physicalHurt",id:"physicalHurt",value:C.physicalHurt,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),p.map((e=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Has this partner ever threaten to hurt you? *"}),Object(je.jsxs)("select",{className:"form-control",name:"threatenToHurt",id:"threatenToHurt",value:C.threatenToHurt,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),p.map((e=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Has this partner ever threaten force you to do something sexually that made you uncomfortable ?  *"}),Object(je.jsxs)("select",{className:"form-control",name:"sexuallyUncomfortable",id:"sexuallyUncomfortable",value:C.sexuallyUncomfortable,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),p.map((e=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Notification Method selected*"}),Object(je.jsxs)("select",{className:"form-control",name:"notificationMethod",id:"notificationMethod",value:C.notificationMethod,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),d.map((e=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"If contract by which date will partner come for testing?"}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"datePartnerCameForTesting",id:"datePartnerCameForTesting",value:C.datePartnerCameForTesting,onChange:E,min:y,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==c.datePartnerComeForTesting?Object(je.jsx)("span",{className:t.error,children:c.datePartnerComeForTesting}):""]})}),a?Object(je.jsx)(lt.a,{}):"",Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"row",children:Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsx)(yt.a,{content:"Save",icon:"save",labelPosition:"left",style:{backgroundColor:"#014d88",color:"#fff"},onClick:e=>{e.preventDefault(),C.isDateOfBirthEstimated=1==C.isDateOfBirthEstimated?1:0,x.a.post("".concat(v,"index-elicitation"),C,{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{r(!1),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),P("list")})).catch((e=>{if(r(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))}})})})]})})]})})})};const Ht={Add:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(T.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Check:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(R.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Clear:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Delete:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(_.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),DetailPanel:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Edit:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Y.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Export:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(K.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Filter:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(F.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),FirstPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(L.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),LastPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(W.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),NextPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),PreviousPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(w.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ResetSearch:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Search:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Q.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),SortArrow:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ThirdStateCheck:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(G.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ViewColumn:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Z.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))))};Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Bt=e=>{const[t,a]=Object(s.useState)([]);e.patientObj&&e.patientObj.id&&e.patientObj.id;Object(s.useEffect)((()=>{!async function(){x.a.get("".concat(v,"hts/").concat(e.patientObj.id,"/index-elicitation"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{a(e.data)})).catch((e=>{}))}()}),[]);const r=e=>{var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),c=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&c--,0===c?i+" month(s)":c+" year(s)"};return Object(je.jsxs)("div",{children:[Object(je.jsx)(yt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:()=>{return t="add",void e.handleIClickPage(t);var t},children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"New Index Client "})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)(u.a,{icons:Ht,title:"List of index client ",columns:[{title:"Name",field:"name"},{title:"Age",field:"age"},{title:"Phone Number",field:"phone"},{title:"Adress",field:"address"},{title:"Actions",field:"actions",filtering:!1}],data:t.map((e=>({name:e.firstName+" "+e.lastName,age:r(ae()(e.dob).format("DD-MM-YYYY")),phone:e.phoneNumber,address:e.address,actions:Object(je.jsx)(je.Fragment,{})}))),options:{headerStyle:{color:"#000"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})]})};var _t=e=>{const[t,a]=Object(s.useState)("list"),r=e=>{a(e)};return Object(je.jsx)(s.Fragment,{children:Object(je.jsx)(l.a,{children:Object(je.jsxs)(d.a,{md:12,children:["list"===t&&Object(je.jsx)(Bt,{activePage:t,setActivePage:a,handleIClickPage:r,patientObj:e.patientObj}),"add"===t&&Object(je.jsx)(Et,{activePage:t,setActivePage:a,handleIClickPage:r,patientObj:e.patientObj}),Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"row",children:Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsx)(yt.a,{content:"Done",icon:"list",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:()=>{e.setActivePage(Object(O.a)(Object(O.a)({},e.activePage),{},{activePage:"recent-history"}))}})})})]})})})};const kt=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var Yt=e=>{const t=kt(),[a,r]=Object(s.useState)(!1),[c,i]=Object(s.useState)({});return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(ft.a,{className:t.root,children:Object(je.jsxs)(ye.a,{children:[Object(je.jsxs)("h3",{children:["OTHERS - (Resquest ","& "," Result Form)"]}),Object(je.jsx)("hr",{}),Object(je.jsx)("br",{}),Object(je.jsx)("form",{children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Syphilis test result *"}),Object(je.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Reactive"}),Object(je.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(je.jsx)("hr",{}),Object(je.jsx)("br",{}),Object(je.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis B Testing"})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Hepatitis B virus test result *"}),Object(je.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Positive"}),Object(je.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Hepatitis C virus test result *"}),Object(je.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Positive"}),Object(je.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"HIV Request and Result form filled with CT Intake Form *"}),Object(je.jsxs)("select",{className:"form-control",name:"hivRequestResultCT",id:"hivRequestResultCT",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Completed By"}),Object(je.jsx)(Ke.a,{type:"number",name:"completedBy",id:"completedBy",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Longitude"}),Object(je.jsx)(Ke.a,{type:"number",name:"longitude",id:"longitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Latitude"}),Object(je.jsx)(Ke.a,{type:"number",name:"latitude",id:"latitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Adhoc Code"}),Object(je.jsx)(Ke.a,{type:"number",name:"adhocCode",id:"adhocCode",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),a?Object(je.jsx)(lt.a,{}):"",Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"row",children:Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsx)($.a,{type:"button",variant:"contained",color:"primary",className:t.button,startIcon:Object(je.jsx)(Qe.a,{}),onClick:()=>{return t="basic",a="others",e.handleItemClick(t),void(e.completed.includes(a)||e.setCompleted([...e.completed,a]));var t,a},style:{backgroundColor:"#014d88"},children:a?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})]})})]})})})};const Mt=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var Ft=e=>{const t=Mt(),a=Object(n.g)(),r=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",c=e.patientObj&&e.patientObj?e.patientObj.id:"",[i,l]=Object(s.useState)(!1),[d,j]=Object(s.useState)({htsClientId:c,postTestCounselingKnowledgeAssessment:{},personId:r}),[b,h]=Object(s.useState)({hivTestResult:"",hivTestBefore:"",hivRequestResult:"",hivRequestResultCt:"",clientReceivedHivTestResult:"",postTestCounseling:"",riskReduction:"",postTestDisclosure:"",bringPartnerHivtesting:"",childrenHivtesting:"",informationFp:"",partnerFpThanCondom:"",partnerFpUseCondom:"",correctCondomUse:"",condomProvidedToClient:"",unprotectedSexRegularPartnerLastThreeMonth:"",referredToServices:""});Object(s.useEffect)((()=>{e.patientObj&&e.patientObj.postTestCounselingKnowledgeAssessment?h(e.patientObj.postTestCounselingKnowledgeAssessment):""!==b.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Positive"!==e.patientObj.hivTestResult&&"Positive"!==e.patientObj.hivTestResult2?""!==b.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Negative"!==e.patientObj.hivTestResult&&"Negative"!==e.patientObj.hivTestResult2||(b.hivTestResult="False",h(Object(O.a)(Object(O.a)({},b),{},{hivTestResult:"False"}))):(b.hivTestResult="True",h(Object(O.a)(Object(O.a)({},b),{},{hivTestResult:"True"})))}),[e.patientObj,b.hivTestResult]);const m=e=>{h(Object(O.a)(Object(O.a)({},b),{},{[e.target.name]:e.target.value}))},u=(t,a)=>{e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([...e.completed,a])},p=t=>{t.preventDefault(),Object.values(b).every((e=>""===e))?o.b.error("All post test fields are required"):(d.htsClientId=e.patientObj.id,d.postTestCounselingKnowledgeAssessment=b,d.personId=e.patientObj.personResponseDto.id,x.a.put("".concat(v,"hts/").concat(e.patientObj.id,"/post-test-counseling"),d,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{l(!1),e.setPatientObj(t.data),"True"===b.hivTestResult?u("recency-testing","post-test"):"False"===b.hivTestResult&&a.push("/")})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))};return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(ft.a,{className:t.root,children:Object(je.jsxs)(ye.a,{children:[Object(je.jsx)("h2",{children:"POST TEST COUNSELING"}),Object(je.jsx)("form",{children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"HIV test result *"}),Object(je.jsxs)("select",{className:"form-control",name:"hivTestResult",id:"hivTestResult",value:b.hivTestResult,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"True",children:"Positive"}),Object(je.jsx)("option",{value:"False",children:"Negative"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Have you been tested for HIV before within this year? *"}),Object(je.jsxs)("select",{className:"form-control",name:"hivTestBefore",id:"hivTestBefore",value:b.hivTestBefore,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Not previously tested",children:"Not previously tested"}),Object(je.jsx)("option",{value:"Previously tested negative",children:"Previously tested negative"}),Object(je.jsx)("option",{value:"Previously tested positive in HIV care",children:"Previously tested positive in HIV care"}),Object(je.jsx)("option",{value:"Previously tested positive not in HIV care",children:"Previously tested positive not in HIV care"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"HIV Request and Result form signed by tester *"}),Object(je.jsxs)("select",{className:"form-control",name:"hivRequestResult",id:"hivRequestResult",value:b.hivRequestResult,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"HIV Request and Result form filled with CT Intake Form *"}),Object(je.jsxs)("select",{className:"form-control",name:"hivRequestResultCt",id:"hivRequestResultCt",value:b.hivRequestResultCt,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Client received HIV test result *"}),Object(je.jsxs)("select",{className:"form-control",name:"clientReceivedHivTestResult",id:"clientReceivedHivTestResult",value:b.clientReceivedHivTestResult,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Post test counseling done *"}),Object(je.jsxs)("select",{className:"form-control",name:"postTestCounseling",id:"postTestCounseling",value:b.postTestCounseling,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Risk reduction plan developed *"}),Object(je.jsxs)("select",{className:"form-control",name:"riskReduction",id:"riskReduction",value:b.riskReduction,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Post test disclosure plan developed *"}),Object(je.jsxs)("select",{className:"form-control",name:"postTestDisclosure",id:"postTestDisclosure",value:b.postTestDisclosure,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Will bring partner(s) for HIV testing *"}),Object(je.jsxs)("select",{className:"form-control",name:"bringPartnerHivtesting",id:"bringPartnerHivtesting",value:b.bringPartnerHivtesting,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Will bring own children ","<5"," years for HIV testing *"]}),Object(je.jsxs)("select",{className:"form-control",name:"childrenHivtesting",id:"childrenHivtesting",value:b.childrenHivtesting,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Provided with information on FP and dual contraception *"}),Object(je.jsxs)("select",{className:"form-control",name:"informationFp",id:"informationFp",value:b.informationFp,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Client/Partner use FP methods (other than condom)*"}),Object(je.jsxs)("select",{className:"form-control",name:"partnerFpThanCondom",id:"partnerFpThanCondom",value:b.partnerFpThanCondom,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Client/Partner use condoms as (one) FP method "}),Object(je.jsxs)("select",{className:"form-control",name:"partnerFpUseCondom",id:"partnerFpUseCondom",value:b.partnerFpUseCondom,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Correct condom use demonstrated *"}),Object(je.jsxs)("select",{className:"form-control",name:"correctCondomUse",id:"correctCondomUse",value:b.correctCondomUse,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Condoms provided to client *"}),Object(je.jsxs)("select",{className:"form-control",name:"condomProvidedToClient",id:"condomProvidedToClient",value:b.condomProvidedToClient,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Client referred to other services *"}),Object(je.jsxs)("select",{className:"form-control",name:"referredToServices",id:"referredToServices",value:b.referredToServices,onChange:m,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)(Dt.a,{success:!0,children:Object(je.jsxs)("h4",{children:["If client tests HIV negative, and HIV Risk Assessment Score ",">0"," or there is evidence for a STI syndrome, recommend re-testing after 3 months"]})}),i?Object(je.jsx)(lt.a,{}):"",Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"row",children:Object(je.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(je.jsx)(yt.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:()=>u("hiv-test","hiv-test")}),"True"===b.hivTestResult&&Object(je.jsx)(yt.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:p}),"False"===b.hivTestResult&&Object(je.jsx)(yt.a,{content:"Save & Finish",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:p})]})})]})})]})})})};const zt=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var Lt=e=>{const t=zt(),a=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",r=e.patientObj&&e.patientObj?e.patientObj.id:"",[c,i]=Object(s.useState)(!1),[n,l]=Object(s.useState)({}),[d,j]=Object(s.useState)("");let b=Object(O.a)({},n);const h=(t,a)=>{e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([...e.completed,a])},[m,u]=Object(s.useState)({htsClientId:r,recency:{},personId:a}),[p,f]=Object(s.useState)({optOutRTRI:"",optOutRTRITestName:"",optOutRTRITestDate:"",rencencyId:"",controlLine:"",verififcationLine:"",longTermLine:"",rencencyInterpretation:"",hasViralLoad:"",sampleCollectedDate:"",sampleReferanceNumber:"",dateSampleSentToPCRLab:"",sampleTestDate:"",sampleType:"",receivingPcrLab:"",viralLoadResultClassification:"",recencyResult:"",finalRecencyResult:""});Object(s.useEffect)((()=>{e.patientObj&&(f(e.patientObj&&null!==e.patientObj.recency?e.patientObj.recency:{}),e.patientObj.confirmatoryTest&&""!==e.patientObj.confirmatoryTest.date?j(e.patientObj.confirmatoryTest.date):e.patientObj.confirmatoryTest2&&""!==e.patientObj.confirmatoryTest2.date2?j(e.patientObj.confirmatoryTest2.date2):j("")),"true"===p.longTermLine&&"true"===p.verififcationLine&&"true"===p.controlLine?(p.rencencyInterpretation="Long Term",f(Object(O.a)(Object(O.a)({},p),{},{rencencyInterpretation:"Long Term"}))):"false"===p.longTermLine&&"true"===p.verififcationLine&&"true"===p.controlLine?(p.rencencyInterpretation="Recent",f(Object(O.a)(Object(O.a)({},p),{},{rencencyInterpretation:"Recent"}))):"false"===p.longTermLine&&"false"===p.verififcationLine&&"true"===p.controlLine?(p.rencencyInterpretation="Negative",f(Object(O.a)(Object(O.a)({},p),{},{rencencyInterpretation:"Negative"}))):"true"===p.longTermLine&&"true"===p.verififcationLine&&"false"===p.controlLine||"true"===p.longTermLine&&"false"===p.verififcationLine&&"true"===p.controlLine?(p.rencencyInterpretation="Invalid",f(Object(O.a)(Object(O.a)({},p),{},{rencencyInterpretation:"Invalid"}))):f(Object(O.a)(Object(O.a)({},p),{},{rencencyInterpretation:""}))}),[p.longTermLine,p.verififcationLine,p.controlLine,e.patientObj]);const y=e=>{if(l(Object(O.a)(Object(O.a)({},b),{},{[e.target.name]:""})),"viralLoadResultClassification"===e.target.name)">=1000"===e.target.value?(p.finalRecencyResult="RITA Recent",f(Object(O.a)(Object(O.a)({},p),{},{[e.target.name]:e.target.value}))):"<1000"===e.target.value?(p.finalRecencyResult="RITA Long term",f(Object(O.a)(Object(O.a)({},p),{},{[e.target.name]:e.target.value}))):"Failed run"===e.target.value?(p.finalRecencyResult="RITA Inconclusive",f(Object(O.a)(Object(O.a)({},p),{},{[e.target.name]:e.target.value}))):"Invalid viral load result"===e.target.value?(p.finalRecencyResult="RITA Inconclusive",f(Object(O.a)(Object(O.a)({},p),{},{[e.target.name]:e.target.value}))):f(Object(O.a)(Object(O.a)({},p),{},{[e.target.name]:e.target.value}));else if("rencencyId"===e.target.name&&""!==e.target.value){const t=N(e.target.value);f(Object(O.a)(Object(O.a)({},p),{},{[e.target.name]:t}))}else f(Object(O.a)(Object(O.a)({},p),{},{[e.target.name]:e.target.value}))},N=e=>e.slice(0,10);return Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(ft.a,{className:t.root,children:Object(je.jsxs)(ye.a,{children:[Object(je.jsx)("h2",{children:"RECENCY FORM"}),Object(je.jsx)("form",{children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(je.jsx)("h5",{style:{color:"#fff"},children:"RENCENCY"})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Opt Out of RTRI?*"}),Object(je.jsxs)("select",{className:"form-control",name:"optOutRTRI",id:"optOutRTRI",value:p.optOutRTRI,onChange:y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-8"}),"false"===p.optOutRTRI&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Test Name *"}),Object(je.jsxs)("select",{className:"form-control",name:"optOutRTRITestName",id:"optOutRTRITestName",value:p.optOutRTRITestName,onChange:y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"Asante",children:"Asante"}),Object(je.jsx)("option",{value:"Others",children:"Others"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Test Date *"}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"optOutRTRITestDate",id:"optOutRTRITestDate",value:p.optOutRTRITestDate,onChange:y,min:""!==d&&null!==d?d:"",max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Recency ID *"}),Object(je.jsx)(Ke.a,{className:"form-control",name:"rencencyId",id:"rencencyId",type:"text",value:p.rencencyId,onChange:y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Control Line *"}),Object(je.jsxs)("select",{className:"form-control",name:"controlLine",id:"controlLine",value:p.controlLine,onChange:y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Verification Line *"}),Object(je.jsxs)("select",{className:"form-control",name:"verififcationLine",id:"verififcationLine",value:p.verififcationLine,onChange:y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Long Term Line *"}),Object(je.jsxs)("select",{className:"form-control",name:"longTermLine",id:"longTermLine",value:p.longTermLine,onChange:y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Recency Interpretation *"}),Object(je.jsx)(Ke.a,{className:"form-control",name:"rencencyInterpretation",id:"rencencyInterpretation",type:"text",value:p.rencencyInterpretation,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),"Recent"===p.rencencyInterpretation&&Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Has viral load request been made? *"}),Object(je.jsxs)("select",{className:"form-control",name:"hasViralLoad",id:"hasViralLoad",value:p.hasViralLoad,onChange:y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]})]})}),"true"===p.hasViralLoad&&Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("h4",{children:"Viral Load Classification :"}),Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Sample Collected Date"}),Object(je.jsx)(Ke.a,{className:"form-control",name:"sampleCollectedDate",id:"sampleCollectedDate",type:"date",onKeyPress:e=>{e.preventDefault()},value:p.sampleCollectedDate,min:p.optOutRTRITestDate,max:te(new Date).format("YYYY-MM-DD"),onChange:y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Sample Refernce Number"}),Object(je.jsx)(Ke.a,{className:"form-control",name:"sampleReferanceNumber",id:"sampleReferanceNumber",type:"text",value:p.sampleReferanceNumber,onChange:y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==n.sampleReferanceNumber?Object(je.jsx)("span",{className:t.error,children:n.sampleReferanceNumber}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Sample Type"}),Object(je.jsxs)("select",{className:"form-control",name:"sampleType",id:"sampleType",value:p.sampleType,onChange:y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"DBS",children:"DBS"}),Object(je.jsx)("option",{value:"Plasma",children:"Plasma"})]}),""!==n.sampleType?Object(je.jsx)("span",{className:t.error,children:n.sampleType}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date Sample Sent to PCR Lab"}),Object(je.jsx)(Ke.a,{className:"form-control",name:"dateSampleSentToPCRLab",id:"dateSampleSentToPCRLab",type:"date",onKeyPress:e=>{e.preventDefault()},min:p.optOutRTRITestDate,value:p.dateSampleSentToPCRLab,max:te(new Date).format("YYYY-MM-DD"),onChange:y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==n.dateSampleSentToPCRLab?Object(je.jsx)("span",{className:t.error,children:n.dateSampleSentToPCRLab}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Sample Test Date"}),Object(je.jsx)(Ke.a,{className:"form-control",name:"sampleTestDate",id:"sampleTestDate",type:"date",onKeyPress:e=>{e.preventDefault()},min:p.optOutRTRITestDate,max:te(new Date).format("YYYY-MM-DD"),value:p.sampleTestDate,onChange:y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Receiving PCR Lab"}),Object(je.jsx)(Ke.a,{className:"form-control",name:"receivingPcrLab",id:"receivingPcrLab",type:"text",value:p.receivingPcrLab,onChange:y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Viral Load Result Classification and Result (copies/ml)"}),Object(je.jsxs)("select",{className:"form-control",name:"viralLoadResultClassification",id:"viralLoadResultClassification",value:p.viralLoadResultClassification,onChange:y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsxs)("option",{value:">=1000",children:[">= "," 1000"]}),Object(je.jsxs)("option",{value:"<1000",children:["< "," 1000"]}),Object(je.jsx)("option",{value:"Failed run",children:"Failed run"}),Object(je.jsx)("option",{value:"Invalid viral load result",children:"Invalid viral load result"})]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Final Recency Result"}),Object(je.jsx)(Ke.a,{className:"form-control",name:"finalRecencyResult",id:"finalRecencyResult",type:"text",disabled:!0,value:p.finalRecencyResult,onChange:y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]}),c?Object(je.jsx)(lt.a,{}):"",Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"row",children:Object(je.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(je.jsx)(yt.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:()=>h("post-test","post-test")}),Object(je.jsx)(yt.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:t=>{t.preventDefault(),m.htsClientId=r,m.recency=p,m.personId=a,x.a.put("".concat(v,"hts/").concat(r,"/recency"),m,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{i(!1),e.setPatientObj(t.data),h("indexing","recency-testing")})).catch((e=>{if(i(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))}})]})})]})})]})})})};const Vt=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}})));var Wt=e=>{const t=Vt(),[a,c]=(Object(n.g)(),Object(s.useState)([]));let i=[];const[l,d]=Object(s.useState)([]),[j,b]=Object(s.useState)({}),[h,m]=Object(s.useState)(!1);let u=Object(O.a)({},j);const[p,f]=r.a.useState(!1),y=()=>f(!p),[N,T]=Object(s.useState)([]),[S,C]=Object(s.useState)(0),[D,R]=Object(s.useState)({age:e.patientAge,dob:"",visitDate:"",dateOfBirth:"",dateOfRegistration:"",isDateOfBirthEstimated:"",targetGroup:"",testingSetting:"",modality:"",code:"",personId:e.patientObj.personId,riskAssessment:{},entryPoint:""}),[I,w]=Object(s.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:"",lastHivTestForceToHaveSex:"",lastHivTestHadAnal:"",lastHivTestInjectedDrugs:"",whatWasTheResult:"",lastHivTestDone:"",diagnosedWithTb:"",lastHivTestPainfulUrination:"",lastHivTestBloodTransfusion:"",lastHivTestVaginalOral:"",lastHivTestBasedOnRequest:""});Object(s.useEffect)((()=>{P(),A()}),[e.patientObj]);const A=()=>{x.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{c(e.data)})).catch((e=>{}))},P=()=>{x.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{d(e.data)})).catch((e=>{}))},E=e=>{b(Object(O.a)(Object(O.a)({},u),{},{[e.target.name]:""})),"testingSetting"===e.target.name&&""!==e.target.value&&(!function(e){const t=e;x.a.get("".concat(v,"application-codesets/v2/").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{T(e.data)})).catch((e=>{}))}(e.target.value),R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value}))),"modality"===e.target.name&&""!==e.target.value&&("TEST_SETTING_STANDALONE_HTS_PMTCT_(ANC1_ONLY)"===e.target.value?(C(1),R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value}))):"TEST_SETTING_STANDALONE_HTS_EMERGENCY"===e.target.value?R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value})):"TEST_SETTING_STANDALONE_HTS_INDEX"===e.target.value?(C(1),R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value}))):"TEST_SETTING_STANDALONE_HTS_PMTCT_(POST_ANC1:_PREGNANCYL&DBF)"===e.target.value?(C(1),R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value}))):"TEST_SETTING_STANDALONE_HTS_STI"===e.target.value?(C(1),R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value}))):"TEST_SETTING_STANDALONE_HTS_TB"===e.target.value?(C(1),R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value}))):"TEST_SETTING_CT_STI"===e.target.value?(C(1),R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value}))):"TEST_SETTING_CT_PMTCT"===e.target.value?(C(1),R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value}))):"TEST_SETTING_CT_TB"===e.target.value?(C(1),R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value}))):"TEST_SETTING_TB_TB"===e.target.value?(C(1),R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value}))):"TEST_SETTING_STI_STI"===e.target.value?(C(1),R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value}))):"TEST_SETTING_OPD_STI"===e.target.value?R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value})):"TEST_SETTING_OUTREACH_INDEX"===e.target.value?(C(1),R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value}))):(C(0),R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value})))),R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:e.target.value}))};const H=()=>(u.dateVisit=D.visitDate?"":"This field is required.",u.testingSetting=D.testingSetting?"":"This field is required.",u.modality=D.modality?"":"This field is required.",e.patientObj.age>15&&(u.targetGroup=D.targetGroup?"":"This field is required."),b(Object(O.a)({},u)),Object.values(u).every((e=>""==e))),B=(t,a)=>{e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([...e.completed,a])},_=Object.values(I);i=_.filter((e=>"true"===e));const k=e=>{w(Object(O.a)(Object(O.a)({},I),{},{[e.target.name]:e.target.value}))};return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(ft.a,{className:t.root,children:Object(je.jsxs)(ye.a,{children:[Object(je.jsx)("h2",{style:{color:"#000"},children:"RISK STRATIFICATION"}),Object(je.jsx)("br",{}),Object(je.jsx)("form",{children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Modality"}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group  col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Entry Point "}),Object(je.jsxs)("select",{className:"form-control",name:"entryPoint",id:"entryPoint",value:D.entryPoint,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Facility",children:"Facility"}),Object(je.jsx)("option",{value:"Community",children:"Community"})]}),""!==j.entryPoint?Object(je.jsx)("span",{className:t.error,children:j.entryPoint}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"",children:"Visit Date * "}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"visitDate",id:"visitDate",value:D.visitDate,onChange:E,min:"1983-12-31",max:te(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==j.dateVisit?Object(je.jsx)("span",{className:t.error,children:j.dateVisit}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Setting"}),Object(je.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:D.testingSetting,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:"",children:"Select"}),a.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==j.testingSetting?Object(je.jsx)("span",{className:t.error,children:j.testingSetting}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Modality"}),Object(je.jsxs)("select",{className:"form-control",name:"modality",id:"modality",value:D.modality,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:"",children:"Select"}),N.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.code)))]}),""!==j.modality?Object(je.jsx)("span",{className:t.error,children:j.modality}):""]})})]}),Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Target Group *"}),Object(je.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:E,value:D.targetGroup,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),l.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==j.targetGroup?Object(je.jsx)("span",{className:t.error,children:j.targetGroup}):""]})}),Object(je.jsx)("br",{}),e.patientAge>15&&Object(je.jsxs)(je.Fragment,{children:[""!==D.targetGroup&&"TARGET_GROUP_GEN_POP"===D.targetGroup&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Is this HIV test based on a Clinician/Doctor/Health Care Provider\u2019s  request? *"}),Object(je.jsxs)("select",{className:"form-control",name:"lastHivTestBasedOnRequest",id:"lastHivTestBasedOnRequest",value:I.lastHivTestBasedOnRequest,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestBasedOnRequest?Object(je.jsx)("span",{className:t.error,children:j.lastHivTestBasedOnRequest}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"When was your last HIV test done?  *"}),Object(je.jsxs)("select",{className:"form-control",name:"lastHivTestDone",id:"lastHivTestDone",value:I.lastHivTestDone,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestDone?Object(je.jsx)("span",{className:t.error,children:j.lastHivTestDone}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"What was the result? *"}),Object(je.jsxs)("select",{className:"form-control",name:"whatWasTheResult",id:"whatWasTheResult",value:I.whatWasTheResult,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.whatWasTheResult?Object(je.jsx)("span",{className:t.error,children:j.whatWasTheResult}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Since your last HIV test, have you had anal or vaginal or oral sex without a condom with someone who was HIV positive or unaware of their HIV status? *"}),Object(je.jsxs)("select",{className:"form-control",name:"lastHivTestVaginalOral",id:"lastHivTestVaginalOral",value:I.lastHivTestVaginalOral,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestVaginalOral?Object(je.jsx)("span",{className:t.error,children:j.lastHivTestVaginalOral}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Since your last HIV test, have you had a blood or blood product transfusion? *"}),Object(je.jsxs)("select",{className:"form-control",name:"lastHivTestBloodTransfusion",id:"lastHivTestBloodTransfusion",value:I.lastHivTestBloodTransfusion,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestBloodTransfusion?Object(je.jsx)("span",{className:t.error,children:j.lastHivTestBloodTransfusion}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Since your last HIV test, have you experienced painful urination, lower abdominal pain, vaginal or penile discharge, pain during sexual intercourse, thick, cloudy, or foul smelling discharge and/or small bumps or blisters near the mouth, penis, vagina, or anal areas? *"}),Object(je.jsxs)("select",{className:"form-control",name:"lastHivTestPainfulUrination",id:"lastHivTestPainfulUrination",value:I.lastHivTestPainfulUrination,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestPainfulUrination?Object(je.jsx)("span",{className:t.error,children:j.lastHivTestPainfulUrination}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Have you been diagnosed with TB or currently have any of the following symptoms : cough, fever, weight loss, night sweats? *"}),Object(je.jsxs)("select",{className:"form-control",name:"diagnosedWithTb",id:"diagnosedWithTb",value:I.diagnosedWithTb,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.diagnosedWithTb?Object(je.jsx)("span",{className:t.error,children:j.diagnosedWithTb}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Since your last HIV test, have you ever injected drugs, shared needles or other sharp objects with someone known to be HIV positive or who you didn\u2019t know their HIV status? *"}),Object(je.jsxs)("select",{className:"form-control",name:"lastHivTestInjectedDrugs",id:"sexUnderInfluence",value:I.lastHivTestInjectedDrugs,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestInjectedDrugs?Object(je.jsx)("span",{className:t.error,children:j.lastHivTestInjectedDrugs}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Since your last HIV test, have you had anal, oral or vaginal sex in exchange for money or other benefits? *"}),Object(je.jsxs)("select",{className:"form-control",name:"lastHivTestHadAnal",id:"lastHivTestHadAnal",value:I.lastHivTestHadAnal,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestHadAnal?Object(je.jsx)("span",{className:t.error,children:j.lastHivTestHadAnal}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Since your last HIV test, have you been forced to have sex? *"}),Object(je.jsxs)("select",{className:"form-control",name:"lastHivTestForceToHaveSex",id:"moreThanOneSexPartnerLastThreeMonths",value:I.lastHivTestForceToHaveSex,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.lastHivTestForceToHaveSex?Object(je.jsx)("span",{className:t.error,children:j.lastHivTestForceToHaveSex}):""]})}),Object(je.jsx)("br",{})]}),""!==D.targetGroup&&"TARGET_GROUP_GEN_POP"!==D.targetGroup&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Have you/your partner experienced lower abdominal pain, smelly discharge, blisters and wounds around you/partner vagina, penis anus or mouth?"}),Object(je.jsxs)("select",{className:"form-control",name:"experiencePain",id:"experiencePain",value:I.experiencePain,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.experiencePain?Object(je.jsx)("span",{className:t.error,children:j.experiencePain}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Have you/partner had sex without a condom with someone of unknown HIV status, or you/partner raped by person with unknown HIV status? *"}),Object(je.jsxs)("select",{className:"form-control",name:"haveSexWithoutCondom",id:"haveSexWithoutCondom",value:I.haveSexWithoutCondom,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.haveSexWithoutCondom?Object(je.jsx)("span",{className:t.error,children:j.haveSexWithoutCondom}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Have you had a condom burst with your partner during sexual intercourse?  *"}),Object(je.jsxs)("select",{className:"form-control",name:"haveCondomBurst",id:"haveCondomBurst",value:I.haveCondomBurst,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.haveCondomBurst?Object(je.jsx)("span",{className:t.error,children:j.haveCondomBurst}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Do you/partner share needles/syringes, other sharp objects or used abuse drug substances of any kind?"}),Object(je.jsxs)("select",{className:"form-control",name:"abuseDrug",id:"abuseDrug",value:I.abuseDrug,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.abuseDrug?Object(je.jsx)("span",{className:t.error,children:j.abuseDrug}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Have you/partner had any blood or blood product transfusion?"}),Object(je.jsxs)("select",{className:"form-control",name:"bloodTransfusion",id:"bloodTransfusion",value:I.bloodTransfusion,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.bloodTransfusion?Object(je.jsx)("span",{className:t.error,children:j.bloodTransfusion}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Have you/partner experienced coughing, weight loss, fever, night sweats consistently?"}),Object(je.jsxs)("select",{className:"form-control",name:"consistentWeightFeverNightCough",id:"consistentWeightFeverNightCough",value:I.consistentWeightFeverNightCough,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.consistentWeightFeverNightCough?Object(je.jsx)("span",{className:t.error,children:j.consistentWeightFeverNightCough}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Have you/partner paid or sold vaginal, anal or oral sex? *"}),Object(je.jsxs)("select",{className:"form-control",name:"soldPaidVaginalSex",id:"soldPaidVaginalSex",value:I.soldPaidVaginalSex,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:""}),Object(je.jsx)("option",{value:"true",children:"Yes"}),Object(je.jsx)("option",{value:"false",children:"No"})]}),""!==j.soldPaidVaginalSex?Object(je.jsx)("span",{className:t.error,children:j.soldPaidVaginalSex}):""]})}),Object(je.jsx)("br",{})]})]}),Object(je.jsx)("br",{}),Object(je.jsxs)(Dt.a,{warning:!0,children:[Object(je.jsx)("h4",{children:"Personal HIV Risk assessment score "}),Object(je.jsxs)("b",{children:["Score :",S+(e.patientAge>15?i.length:0)]})]}),Object(je.jsx)("hr",{}),Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"row",children:Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsx)(yt.a,{content:"Save",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:t=>{t.preventDefault(),e.patientObj.targetGroup=D.targetGroup,e.patientObj.testingSetting=D.testingSetting,e.patientObj.dateVisit=D.visitDate,e.patientObj.riskAssessment=I,D.riskAssessment=I,(S>0||i.length>0)&&e.patientAge>15&&(H()?x.a.post("".concat(v,"risk-stratification"),D,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{m(!1),D.code=t.data.code,e.setExtra(D),B("basic","risk"),e.setHideOtherMenu(!1)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER})),e.patientAge<15?H()?x.a.post("".concat(v,"risk-stratification"),D,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{m(!1),e.patientObj.riskStratificationResponseDto=t.data,D.code=t.data.code,e.setExtra(D),e.setHideOtherMenu(!1),B("basic","risk")})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...")})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}):(e.setExtra(D),H()?x.a.post("".concat(v,"risk-stratification"),D,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{m(!1),e.patientObj.riskStratificationResponseDto=t.data,D.code=t.data.code,e.setExtra(D)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}))}})})})]})})]})}),Object(je.jsxs)(ne.a,{show:p,toggle:y,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(je.jsx)(ne.a.Header,{children:Object(je.jsx)(ne.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(je.jsx)(ne.a.Body,{children:Object(je.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(je.jsx)(ne.a.Footer,{children:Object(je.jsx)(yt.a,{onClick:y,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})};const Ut=Object(Ne.a)((e=>({error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Gt=e=>{Ut(),Object(n.g)(),Object(n.h)().state;const[t,a]=Object(s.useState)(!1),[r,c]=Object(s.useState)("hiv-test"),[i,l]=Object(s.useState)([]),[d,j]=Object(s.useState)(!0),[b,h]=Object(s.useState)({breastFeeding:"",capturedBy:"",cd4:{},clientCode:"",riskStratificationCode:"",confirmatoryTest:{},dateVisit:"",extra:{},firstTimeVisit:"",hepatitisTesting:{},hivTestResult:"",id:"",indexClient:"",indexClientCode:"",indexElicitation:[{address:"",altPhoneNumber:"",archived:0,currentlyLiveWithPartner:!0,datePartnerCameForTesting:"",dob:"",extra:{},facilityId:0,firstName:"",hangOutSpots:"",htsClient:{archived:0,breastFeeding:0,capturedBy:"",cd4:{},clientCode:"",confirmatoryTest:{},dateVisit:"",extra:{},facilityId:0,firstTimeVisit:!0,hepatitisTesting:{},hivTestResult:"",id:0,indexClient:!0,indexClientCode:"",indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:0,numWives:0,others:{},person:{active:"",address:{},archived:0,contact:{},contactPoint:{},createdDate:"",dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",facilityId:0,firstName:"string",gender:{},hospitalNumber:"",id:"",identifier:{},isDateOfBirthEstimated:!0,lastModifiedDate:"",maritalStatus:{},new:!0,ninNumber:"",organization:{},otherName:"",sex:"",surname:"",uuid:""},personUuid:"",postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:!0,recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:0,tbScreening:{},test1:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",uuid:""},htsClientUuid:"",id:"",isDateOfBirthEstimated:!0,lastName:"",middleName:"",notificationMethod:"",partnerTestedPositive:"",phoneNumber:"",physicalHurt:"",relationshipToIndexClient:"",sex:"",sexuallyUncomfortable:"",threatenToHurt:"",uuid:""}],indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:"",numWives:"",others:{},personId:e.patientObj.personId,personResponseDto:{active:!0,address:{address:[{city:"",line:[""],stateId:"",district:"",countryId:1,postalCode:"",organisationUnitId:0}]},biometricStatus:!0,checkInDate:"",contact:{},contactPoint:{contactPoint:[{type:"phone",value:""}]},dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",encounterDate:"",facilityId:"",firstName:"",gender:{},id:"",identifier:{},isDateOfBirthEstimated:!0,maritalStatus:{},ninNumber:"",organization:{},otherName:"",sex:"",surname:"",visitId:""},postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:"",recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:"",tbScreening:{},test1:{},test2:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",riskStratificationResponseDto:null}),[O,m]=Object(s.useState)({risk:"",index:"",pre:"",post:"",recency:"",elicitation:""}),u=e=>{c(e)};return Object(s.useEffect)((()=>{}),[]),Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(je.jsx)(fe.a,{children:Object(je.jsx)(ye.a,{children:Object(je.jsx)("form",{children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("h3",{children:"PMTCT - HIV COUNSELLING AND TESTING"}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"col-md-3 col-sm-3 col-lg-3",children:Object(je.jsxs)(ze.a,{size:"large",vertical:!0,style:{backgroundColor:"#014D88"},children:[Object(je.jsx)(ze.a.Item,{name:"inbox",active:"hiv-test"===r,onClick:()=>u("hiv-test"),style:{backgroundColor:"hiv-test"===r?"#000":""},children:Object(je.jsxs)("span",{style:{color:"#fff"},children:["Request ","&"," Result Form",i.includes("hiv-test")&&Object(je.jsx)(gt.a,{name:"check",color:"green"})]})}),Object(je.jsx)(ze.a.Item,{name:"spam",active:"recency-testing"===r,onClick:()=>u("recency-testing"),style:{backgroundColor:"recency-testing"===r?"#000":""},children:Object(je.jsxs)("span",{style:{color:"#fff"},children:["HIV Recency Testing",i.includes("recency-testing")&&Object(je.jsx)(gt.a,{name:"check",color:"green"})]})}),Object(je.jsx)(ze.a.Item,{name:"spam",active:"indexing"===r,onClick:()=>u("indexing"),style:{backgroundColor:"indexing"===r?"#000":""},children:Object(je.jsxs)("span",{style:{color:"#fff"},children:["Index Notification Services - Elicitation",i.includes("indexing")&&Object(je.jsx)(gt.a,{name:"check",color:"green"})]})})]})}),Object(je.jsxs)("div",{className:"col-md-9 col-sm-9 col-lg-9 ",style:{backgroundColor:"#fff",margingLeft:"-50px",paddingLeft:"-20px"},children:["risk"===r&&Object(je.jsx)(Wt,{handleItemClick:u,setCompleted:l,completed:i,setPatientObj:h,patientObj:b,setHideOtherMenu:j,patientAge:e.patientObj.age,setExtra:m,extra:O,activePage:e.activePage,setActivePage:e.setActivePage}),"basic"===r&&Object(je.jsx)(Ct,{handleItemClick:u,setCompleted:l,completed:i,setPatientObj:h,patientObj:b,clientCode:e.clientCode,patientAge:e.patientObj.age,setExtra:m,extra:O}),"pre-test-counsel"===r&&Object(je.jsx)(It,{handleItemClick:u,setCompleted:l,completed:i,setPatientObj:h,patientObj:b,clientCode:e.clientCode,patientAge:e.patientObj.age}),"hiv-test"===r&&Object(je.jsx)(At,{handleItemClick:u,setCompleted:l,completed:i,setPatientObj:h,patientObj:b,clientCode:e.clientCode,patientAge:e.patientObj.age}),"post-test"===r&&Object(je.jsx)(Ft,{handleItemClick:u,setCompleted:l,completed:i,setPatientObj:h,patientObj:b,clientCode:e.clientCode,patientAge:e.patientObj.age,patientsHistory:e.patients}),"indexing"===r&&Object(je.jsx)(_t,{handleItemClick:u,setCompleted:l,completed:i,setPatientObj:h,patientObj:b,clientCode:e.clientCode,patientAge:e.patientObj.age}),"recency-testing"===r&&Object(je.jsx)(Lt,{handleItemClick:u,setCompleted:l,completed:i,setPatientObj:h,patientObj:b,clientCode:e.clientCode,patientAge:e.patientObj.age}),"others"===r&&Object(je.jsx)(Yt,{handleItemClick:u,setCompleted:l,completed:i,setPatientObj:h,patientObj:b,clientCode:e.clientCode,patientAge:e.patientObj.age})]})]})})})})]})},qt=a(192),Kt=a(1093);const Xt={Add:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(T.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Check:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(R.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Clear:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Delete:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(_.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),DetailPanel:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Edit:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Y.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Export:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(K.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Filter:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(F.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),FirstPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(L.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),LastPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(W.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),NextPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),PreviousPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(w.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ResetSearch:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Search:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Q.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),SortArrow:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ThirdStateCheck:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(G.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ViewColumn:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Z.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))))};var Qt=e=>{const[t,a]=Object(s.useState)([]),[c,i]=Object(s.useState)(!0),[n,l]=r.a.useState(!1),[d,j]=Object(s.useState)(!1),[b,h]=Object(s.useState)(null),m=()=>l(!n);Object(s.useEffect)((()=>{p()}),[e.patientObj.id]);const p=()=>{i(!0),x.a.get("".concat(v,"pmtct/anc/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{i(!1),a(null!==e.data.partnerInformation?[e.data.partnerInformation]:[])})).catch((e=>{}))},f=(t,a)=>{e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"add-partner",id:t,actionType:a,obj:t}))};return Object(je.jsxs)("div",{children:[t&&t.length<=0&&Object(je.jsx)(yt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:()=>f(),style:{backgroundColor:"#014d88"},startIcon:Object(je.jsx)(qt.a,{size:"10"}),children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"New Partner"})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)(u.a,{icons:Xt,title:"List of Partners ",columns:[{title:"Partner Name",field:"name"},{title:"Partner Age",field:"age"},{title:"Pre-test Counseled",field:"pre"},{title:"Partner Accept HIV Test",field:"hiv"},{title:"Post-Test Counseled",field:"post"},{title:"HBV Status",field:"hbv"},{title:"HCV Status",field:"hcv"},{title:"Syphillis Status",field:"syphillis"},{title:"Referred To",field:"referred",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],isLoading:c,data:t.map((e=>({name:e.fullName,age:e.age,pre:e.preTestCounseled,hiv:e.acceptHivTest,post:e.postTestCounseled,hbv:e.hbStatus,hcv:e.hbStatus,syphillis:e.syphillisStatus,referred:e.referredTo,actions:Object(je.jsx)("div",{children:Object(je.jsx)(ze.a.Menu,{position:"right",children:Object(je.jsx)(ze.a.Item,{children:Object(je.jsx)(yt.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(je.jsx)(Kt.a,{item:!0,text:"Action",children:Object(je.jsxs)(Kt.a.Menu,{style:{marginTop:"10px"},children:[Object(je.jsxs)(Kt.a.Item,{onClick:()=>f(e,"view"),children:[" ",Object(je.jsx)(gt.a,{name:"eye"}),"View  "]}),Object(je.jsxs)(Kt.a.Item,{onClick:()=>f(e,"update"),children:[Object(je.jsx)(gt.a,{name:"edit"}),"Edit"]}),Object(je.jsxs)(Kt.a.Item,{onClick:()=>(e=>{m(),h(e)})(e),children:[" ",Object(je.jsx)(gt.a,{name:"trash"})," Delete"]})]})})})})})})}))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(je.jsxs)(ne.a,{show:n,toggle:m,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(je.jsx)(ne.a.Header,{children:Object(je.jsx)(ne.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(je.jsx)(ne.a.Body,{children:Object(je.jsxs)("h4",{children:["Are you Sure you want to delete - ",Object(je.jsx)("b",{children:b&&b.fullName})]})}),Object(je.jsxs)(ne.a.Footer,{children:[Object(je.jsx)(yt.a,{onClick:()=>(j(!0),void x.a.delete("".concat(v,"pmtct/anc/delete/partnerinfo/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o.b.success("Record Deleted Successfully"),p(),m(),j(!1)})).catch((e=>{if(j(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))),style:{backgroundColor:"red",color:"#fff"},disabled:d,children:!1===d?"Yes":"Deleting..."}),Object(je.jsx)(yt.a,{onClick:m,style:{backgroundColor:"#014d88",color:"#fff"},disabled:d,children:"No"})]})]})]})};const Jt={Add:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(T.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Check:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(R.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Clear:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Delete:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(_.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),DetailPanel:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Edit:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Y.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Export:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(K.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Filter:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(F.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),FirstPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(L.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),LastPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(W.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),NextPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),PreviousPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(w.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ResetSearch:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Search:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Q.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),SortArrow:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ThirdStateCheck:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(G.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ViewColumn:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Z.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))))};var Zt=e=>{const[t,a]=Object(s.useState)([]),[c,i]=Object(s.useState)([]),[n,l]=Object(s.useState)(!0),[d,j]=Object(s.useState)(0),[b,h]=r.a.useState(!1),[m,p]=Object(s.useState)(!1),[f,y]=Object(s.useState)(null),N=()=>h(!b);Object(s.useEffect)((()=>{T(),S()}),[]);const T=()=>{l(!0),x.a.get("".concat(v,"pmtct/anc/get-infant-by-mother-person-uuid/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l(!1),a(e.data)})).catch((e=>{}))},S=()=>{l(!0),e.patientObj.ancNo?x.a.get("".concat(v,"pmtct/anc/view-delivery2/").concat(e.patientObj.ancNo),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l(!1),i(e.data.dateOfDelivery),j(e.data&&e.data.numberOfInfantsAlive?e.data.numberOfInfantsAlive:0)})).catch((e=>{})):x.a.get("".concat(v,"pmtct/anc/view-delivery-with-uuid/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l(!1),i(e.data.dateOfDelivery),j(e.data&&e.data.numberOfInfantsAlive?e.data.numberOfInfantsAlive:0)})).catch((e=>{}))},C=(t,a)=>{e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"add-infant",id:null===t||void 0===t?void 0:t.id,actionType:a,obj:t}))};return Object(je.jsxs)("div",{children:[t.length<d&&d>t.length&&"POINT_ENTRY_PMTCT_POSTNATAL_WARD"!==e.patientObj.entryPoint&&"621"!==e.patientObj.entryPoint&&Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(yt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:()=>C(c,"create"),style:{backgroundColor:"#014d88"},startIcon:Object(je.jsx)(qt.a,{size:"10"}),children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"New Infant"})})}),"POINT_ENTRY_PMTCT_POSTNATAL_WARD"===e.patientObj.entryPoint||"621"===e.patientObj.entryPoint&&Object(je.jsx)(je.Fragment,{children:Object(je.jsx)(yt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:()=>C(c,"create"),style:{backgroundColor:"#014d88"},startIcon:Object(je.jsx)(qt.a,{size:"10"}),children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"New Infant"})})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)(u.a,{icons:Jt,title:"List of Infants ",columns:[{title:"Infant Name",field:"name"},{title:"Hospital No.",field:"hospital"},{title:"Age",field:"age"},{title:"Date of Delivery",field:"date"},{title:"Sex",field:"sex",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],isLoading:n,data:t.map((e=>({name:e.firstName+" "+e.surname,hospital:e.hospitalNumber,age:dt(e.dateOfDelivery),sex:"SEX_FEMALE"===e.sex?"Female":"Male",date:e.dateOfDelivery,actions:Object(je.jsx)("div",{children:Object(je.jsx)(ze.a.Menu,{position:"right",children:Object(je.jsx)(ze.a.Item,{children:Object(je.jsx)(yt.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(je.jsx)(Kt.a,{item:!0,text:"Action",children:Object(je.jsxs)(Kt.a.Menu,{style:{marginTop:"10px"},children:[Object(je.jsxs)(Kt.a.Item,{onClick:()=>C(e,"view"),children:[" ",Object(je.jsx)(gt.a,{name:"eye"}),"View"," "]}),Object(je.jsxs)(Kt.a.Item,{onClick:()=>C(e,"update"),children:[Object(je.jsx)(gt.a,{name:"edit"}),"Edit"]}),Object(je.jsxs)(Kt.a.Item,{onClick:()=>(e=>{N(),y(e)})(e),children:[" ",Object(je.jsx)(gt.a,{name:"trash"})," Delete"]})]})})})})})})}))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(je.jsxs)(ne.a,{show:b,toggle:N,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(je.jsx)(ne.a.Header,{children:Object(je.jsx)(ne.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(je.jsx)(ne.a.Body,{children:Object(je.jsxs)("h4",{children:["Are you Sure you want to delete -"," ",Object(je.jsx)("b",{children:f&&f.firstName+" "+f.surname})]})}),Object(je.jsxs)(ne.a.Footer,{children:[Object(je.jsx)(yt.a,{onClick:()=>{return e=f,p(!0),void x.a.delete("".concat(v,"pmtct/anc/delete/infantinfo/").concat(e.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o.b.success("Record Deleted Successfully"),T(),N(),p(!1)})).catch((e=>{if(p(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}));var e},style:{backgroundColor:"red",color:"#fff"},disabled:m,children:!1===m?"Yes":"Deleting..."}),Object(je.jsx)(yt.a,{onClick:N,style:{backgroundColor:"#014d88",color:"#fff"},disabled:m,children:"No"})]})]})]})};const $t=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var ea=e=>{e.patientObj;const t=$t(),[a,r]=Object(s.useState)(!1),[c,i]=Object(s.useState)(!1),[n,l]=Object(s.useState)({}),[d,j]=Object(s.useState)([]),[b,h]=Object(s.useState)([]),[m,u]=Object(s.useState)(""),[p,f]=Object(s.useState)({age:"",dateOfBirth:"",fullName:"",hbStatus:"",hcStatus:"",postTestCounseled:"",referredTo:"",syphillsStatus:"",referredToOthers:"",hivStatus:"",dateConfirmedHivTest:""});Object(s.useEffect)((()=>{var t,a;if(y(),N(),e.activeContent&&e.activeContent.id&&(f(e.activeContent.obj),i("view"===e.activeContent.actionType)),e.patientObj.hivStatus)u(e.patientObj.hivStatus);else if(null!==e&&void 0!==e&&null!==(t=e.patientObj)&&void 0!==t&&t.staticHivStatus){var s;u(null===e||void 0===e||null===(s=e.patientObj)||void 0===s?void 0:s.staticHivStatus)}else if(null!==e&&void 0!==e&&null!==(a=e.patientObj)&&void 0!==a&&a.dynamicHivStatus){var r;u(null===e||void 0===e||null===(r=e.patientObj)||void 0===r?void 0:r.dynamicHivStatus)}}),[e.patientObj.id,e.activeContent]);const y=()=>{x.a.get("".concat(v,"application-codesets/v2/PARTNER_SYPHILIS_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{j(e.data)})).catch((e=>{}))},N=()=>{x.a.get("".concat(v,"application-codesets/v2/PARTNER_REFERRED_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{h(e.data)})).catch((e=>{}))},T=e=>{l(Object(O.a)(Object(O.a)({},n),{},{[e.target.name]:""})),f(Object(O.a)(Object(O.a)({},p),{},{[e.target.name]:e.target.value})),"referredTo"===e.target.name&&"OTHERS"!==p.referredTo&&(p.referredToOthers="",f(Object(O.a)(Object(O.a)({},p),{},{referredToOthers:""})),f(Object(O.a)(Object(O.a)({},p),{},{[e.target.name]:e.target.value}))),f(Object(O.a)(Object(O.a)({},p),{},{[e.target.name]:e.target.value}))},S=t=>{t.preventDefault(),(()=>{let e=Object(O.a)({},n);return e.age=p.age?"":"This field is required",e.postTestCounseled=p.postTestCounseled?"":"This field is required",e.fullName=p.fullName?"":"This field is required",e.hivStatus=p.hivStatus?"":"This field is required",l(Object(O.a)({},e)),Object.values(e).every((e=>""==e))})()?(r(!0),x.a.put("".concat(v,"pmtct/anc/update-partnerinformation-in-anc/").concat(e.patientObj.id),p,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{r(!1),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"partners"}))})).catch((e=>{r(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})}))):o.b.error("All field are required",{position:o.b.POSITION.BOTTOM_CENTER})},C=()=>{e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"partners",id:"",actionType:""}))};return Object(je.jsxs)("div",{children:[Object(je.jsx)(yt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:()=>C(),style:{backgroundColor:"#014d88"},children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:" Back"})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)(fe.a,{className:t.root,children:Object(je.jsx)(ye.a,{children:Object(je.jsxs)("form",{children:[Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("h2",{children:"New Partner "}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["ANC Number ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"ancNo",id:"ancNo",onChange:T,value:e.patientObj.ancNo,disabled:!0})}),""!==n.ancNo?Object(je.jsx)("span",{className:t.error,children:n.ancNo}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Partner HIV Status (Pregnant Woman)"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"partnerHivSTatus",id:"partnerHivSTatus",value:m,disabled:!0})}),""!==n.ancNo?Object(je.jsx)("span",{className:t.error,children:n.ancNo}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Partner Full Name ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"fullName",id:"fullName",onChange:T,value:p.fullName,disabled:c})}),""!==n.fullName?Object(je.jsx)("span",{className:t.error,children:n.fullName}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Partner age ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"Number",name:"age",id:"age",min:10,onChange:T,value:p.age,disabled:c})}),""!==n.ancNo?Object(je.jsx)("span",{className:t.error,children:n.ancNo}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Pre-test Counseled ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"preTestCounseled",id:"preTestCounseled",onChange:T,value:p.preTestCounseled,disabled:c,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==n.preTestCounseled?Object(je.jsx)("span",{className:t.error,children:n.preTestCounseled}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Partner accepts HIV test"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"acceptHivTest",id:"acceptHivTest",onChange:T,value:p.acceptHivTest,disabled:c,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==n.acceptHivTest?Object(je.jsx)("span",{className:t.error,children:n.acceptHivTest}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Partner HIV Status ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"hivStatus",id:"hivStatus",onChange:T,value:p.hivStatus,disabled:c,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"}),Object(je.jsx)("option",{value:"Unknown",children:"Unknown"})]})}),""!==n.hivStatus?Object(je.jsx)("span",{className:t.error,children:n.hivStatus}):""]})}),(null===p||void 0===p?void 0:p.hivStatus)&&"positive"===(null===p||void 0===p?void 0:p.hivStatus.toLowerCase())&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date Confirmed HIV Test"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateConfirmedHivTest",id:"dateConfirmedHivTest",value:p.dateConfirmedHivTest,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:T,max:ae()(new Date).format("YYYY-MM-DD"),disabled:c})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Post-test counseled/ received test result"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"postTestCounseled",id:"postTestCounseled",onChange:T,value:p.postTestCounseled,disabled:c,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==n.postTestCounseled?Object(je.jsx)("span",{className:t.error,children:n.postTestCounseled}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"HBV status "}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"hbStatus",id:"hbStatus",onChange:T,value:p.hbStatus,disabled:c,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==n.hbStatus?Object(je.jsx)("span",{className:t.error,children:n.hbStatus}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"HCV status "}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"hcStatus",id:"hcStatus",onChange:T,value:p.hcStatus,disabled:c,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==n.hcStatus?Object(je.jsx)("span",{className:t.error,children:n.hcStatus}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Syphillis Status "}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"syphillisStatus",id:"syphillisStatus",onChange:T,value:p.syphillisStatus,disabled:c,children:[Object(je.jsx)("option",{value:"",children:"Select"}),d.map((e=>Object(je.jsx)("option",{value:e.display,children:e.display},e.id)))]})}),""!==n.syphillisStatus?Object(je.jsx)("span",{className:t.error,children:n.syphillisStatus}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Referred To"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"referredTo",id:"referredTo",onChange:T,value:p.referredTo,disabled:c,children:[Object(je.jsx)("option",{value:"",children:"Select"}),b.map((e=>Object(je.jsx)("option",{value:e.display,children:e.display},e.id)))]})}),""!==n.referredTo?Object(je.jsx)("span",{className:t.error,children:n.referredTo}):""]})}),"OTHERS"===p.referredTo&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Referred To Others (Please specify)"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"referredToOthers",id:"referredToOthers",onChange:T,value:p.referredToOthers,disabled:c})})]})})]}),a?Object(je.jsx)(lt.a,{}):"",Object(je.jsx)("br",{}),e.activeContent&&"update"===e.activeContent.actionType?Object(je.jsx)(je.Fragment,{children:Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:a,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#014d88"},onClick:S,children:a?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating"}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(je.jsx)(je.Fragment,{children:Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:c,className:t.button,disabled:a,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#014d88"},onClick:S,children:a?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving"}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})}),Object(je.jsx)($.a,{variant:"contained",className:t.button,startIcon:Object(je.jsx)(mt.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>C(),children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})]})};const ta=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var aa=e=>{const t=e.patientObj,a=ta(),[r,c]=Object(s.useState)(!1),[i,n]=Object(s.useState)({}),[l,d]=Object(s.useState)(!1),[j,b]=Object(s.useState)([]),[h,m]=Object(s.useState)(""),[u,p]=Object(s.useState)(""),[f,y]=Object(s.useState)([]),[N,T]=Object(s.useState)([]),[S,C]=Object(s.useState)([]),[D,R]=Object(s.useState)([]),[I,w]=Object(s.useState)({bodyWeight:""}),[A,P]=Object(s.useState)([]),[E,H]=Object(s.useState)(!1),[B,_]=Object(s.useState)({ancNo:null===t||void 0===t?void 0:t.ancNo,dateOfinfantInfo:"",firstName:"",middleName:"",nin:"",sex:"",surname:"",bodyWeight:"",uuid:t.ancUuid,dateOfDelivery:"",infantArvDto:"",ctxStatus:"",hospitalNumber:"",personUuid:e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid}),[k,Y]=Object(s.useState)({ageAtTest:"",ancNumber:e.patientObj.ancNo,dateResultReceivedAtFacility:"",dateResultReceivedByCaregiver:"",dateSampleCollected:"",dateSampleSent:"",infantHospitalNumber:u,results:"",testType:""}),[M,F]=Object(s.useState)({ageAtCtx:"",ancNumber:e.patientObj.ancNo,arvDeliveryPoint:"",infantArvTime:"",infantArvType:"",infantHospitalNumber:u||"",dateOfCtx:"",dateOfArv:""}),z=e=>{let t=e.split("-"),a=Number(t[0]),s=Number(t[1]),r=Number(t[2]),c=ae()().format("YYYY-MM-DD").split("-"),i=Number(c[0]),n=Number(c[1]),o=Number(c[2]);ae()("20240313","YYYYMMDD").fromNow();if(Number(i)===Number(a)){if(n>s){return 4*(n-s)}if(n===s){let e=(o-r)/7;if(1>e)return 0;{let t=e;return Math.floor(t)}}}else if(i>a){let e=52.1429*(i-a);return Math.floor(e)}},L=e=>{n(Object(O.a)(Object(O.a)({},i),{},{[e.target.name]:""})),Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value}))},V=e=>{if(n(Object(O.a)(Object(O.a)({},i),{},{[e.target.name]:""})),"dateOfCtx"===e.target.name){let t=G(e.target.value);F(Object(O.a)(Object(O.a)({},M),{},{[e.target.name]:e.target.value,ageAtCtx:t}))}else if("dateOfArv"===e.target.name){let t=q(e.target.value);F(Object(O.a)(Object(O.a)({},M),{},{[e.target.name]:e.target.value,infantArvTime:t}))}else"infantArvType"===e.target.name?(F(Object(O.a)(Object(O.a)({},M),{},{[e.target.name]:e.target.value})),n(Object(O.a)(Object(O.a)({},i),{},{[e.target.name]:"",dateOfArv:""}))):F(Object(O.a)(Object(O.a)({},M),{},{[e.target.name]:e.target.value}))};Object(s.useEffect)((()=>{if(x.a.get("".concat(v,"application-codesets/v2/CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{T(e.data)})).catch((e=>{})),x.a.get("".concat(v,"application-codesets/v2/INFANT_PCR_RESULT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{P(e.data)})).catch((e=>{})),W(),X(),x.a.get("".concat(v,"application-codesets/v2/INFANT_ARV_PROPHYLAXIS_TYPE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{R(e.data)})).catch((e=>{})),U(),e.activeContent&&"create"===e.activeContent.actionType){B.dateOfDelivery=e.activeContent.obj;let t=z(B.dateOfDelivery);t<7&&(Y(Object(O.a)(Object(O.a)({},k),{},{testType:"First PCR"})),x.a.get("".concat(v,"application-codesets/v2/1ST PCR_CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{T(e.data)})).catch((e=>{}))),t>11&&(Y(Object(O.a)(Object(O.a)({},k),{},{testType:"Second PCR"})),x.a.get("".concat(v,"application-codesets/v2/2ND_3RD_PCR_CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{T(e.data)})).catch((e=>{})))}e.activeContent&&e.activeContent.id&&(_(Object(O.a)(Object(O.a)({},B),e.activeContent.obj)),F(Object(O.a)(Object(O.a)({},M),e.activeContent.obj.infantArvDto)),Y(Object(O.a)(Object(O.a)({},M),e.activeContent.obj.infantPCRTestDto)),d("view"===e.activeContent.actionType))}),[e.patientObj.id,e.activeContent.id]);const W=()=>{x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{b(e.data)})).catch((e=>{}))},U=()=>{x.a.get("".concat(v,"application-codesets/v2/INFANT_TESTING_PCR"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{let t=[];null===e||void 0===e||e.data.map(((e,a)=>{"INFANT_TESTING_PCR_1ST_PCR_4-6_WEEKS_OF_AGE_OR_1ST_CONTACT"===e.code&&t.push(e)})),C(t)})).catch((e=>{}))},G=e=>{const t=ae()(B.dateOfDelivery?B.dateOfDelivery:h);return ae()(e).diff(t,"months")<2?"AGE_CTX_INITIATION_<_2__MONTHS":"AGE_CTX_INITIATION_\u2265_2__MONTHS"},q=e=>{const t=ae()(B.dateOfDelivery?B.dateOfDelivery:h);return ae()(e).diff(t,"hours")<72?"Within 72 hour":"After 72 hour"},K=e=>{if(n(Object(O.a)(Object(O.a)({},i),{},{[e.target.name]:""})),"hospitalNumber"===e.target.name&&""!==e.target.value){async function t(){const t=e.target.value;!0!==(await x.a.post("".concat(v,"pmtct/anc/exist/infant-hospital-number"),t,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}})).data?(H(!1),i.hospitalNumber=""):(i.hospitalNumber="",o.b.error("Error! Hosiptal Number already exist"),H(!0))}t(),_(Object(O.a)(Object(O.a)({},B),{},{[e.target.name]:e.target.value}))}else if("dateOfDelivery"===e.target.name&&""!==e.target.value){let a=z(e.target.value);a<7&&(Y(Object(O.a)(Object(O.a)({},k),{},{testType:"First PCR"})),x.a.get("".concat(v,"application-codesets/v2/1ST PCR_CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{T(e.data)})).catch((e=>{}))),a>11&&(Y(Object(O.a)(Object(O.a)({},k),{},{testType:"Second PCR"})),x.a.get("".concat(v,"application-codesets/v2/2ND_3RD_PCR_CHILD_TEST_AGE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{T(e.data)})).catch((e=>{}))),_(Object(O.a)(Object(O.a)({},B),{},{[e.target.name]:e.target.value}))}else"ctxStatus"===e.target.name?(_(Object(O.a)(Object(O.a)({},B),{},{[e.target.name]:e.target.value})),F(Object(O.a)(Object(O.a)({},M),{},{dateOfCtx:""})),n(Object(O.a)(Object(O.a)({},i),{},{[e.target.name]:"",dateOfCtx:""}))):_(Object(O.a)(Object(O.a)({},B),{},{[e.target.name]:e.target.value}))},X=()=>{x.a.get("".concat(v,"application-codesets/v2/AGE_CTX_INITIATION"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{y(e.data)})).catch((e=>{}))},Q=t=>{t.preventDefault(),(()=>{let e=Object(O.a)({},i);return e.surname=B.surname?"":"This field is required",e.hospitalNumber=B.hospitalNumber?"":"This field is required",e.sex=B.sex?"":"This field is required","YES"===B.ctxStatus&&(e.dateOfCtx=M.dateOfCtx?"":"This field is required"),"INFANT_ARV_PROPHYLAXIS_TYPE_NONE"!==M.infantArvType&&M.infantArvType&&(e.dateOfArv=M.dateOfArv?"":"This field is required"),n(Object(O.a)({},e)),Object.values(e).every((e=>""==e))})()?(c(!0),B.infantArvDto=M,B.infantPCRTestDto=k,e.activeContent&&"update"===e.activeContent.actionType?x.a.put("".concat(v,"pmtct/anc/update-infant/").concat(e.activeContent.id),B,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{c(!1),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"infants"}))})).catch((e=>{c(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})})):x.a.post("".concat(v,"pmtct/anc/add-infants"),B,{headers:{Authorization:"Bearer ".concat(g)}}).then((t=>{c(!1),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"infants"}))})).catch((e=>{c(!1),o.b.error("Something went wrong",{position:o.b.POSITION.BOTTOM_CENTER})}))):o.b.error("All field are required",{position:o.b.POSITION.BOTTOM_CENTER})},J=()=>{e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"infants",id:"",actionType:""}))};return Object(je.jsxs)("div",{children:[Object(je.jsx)(yt.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:()=>J(),style:{backgroundColor:"#014d88"},children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)(fe.a,{className:a.root,children:Object(je.jsx)(ye.a,{children:Object(je.jsxs)("form",{children:[Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("h2",{children:"New Infant Registration"}),Object(je.jsxs)("div",{className:"row",children:[(null===t||void 0===t?void 0:t.ancNo)&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"ANC Number"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"ancNo",id:"ancNo",onChange:K,value:t.ancNo,disabled:!0})}),""!==i.ancNo?Object(je.jsx)("span",{className:a.error,children:i.ancNo}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Child\u2019s Hospital ID Number",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"hospitalNumber",id:"hospitalNumber",onChange:K,value:B.hospitalNumber,disabled:l})}),""!==i.hospitalNumber?Object(je.jsx)("span",{className:a.error,children:i.hospitalNumber}):"",!0===E?Object(je.jsx)("span",{className:a.error,children:"Hospital number already exist"}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date of Delivery ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfDelivery",id:"dateOfDelivery",onChange:K,min:e.patientObj.firstAncDate,max:ae()(new Date).format("YYYY-MM-DD"),value:B.dateOfDelivery?B.dateOfDelivery:h,disabled:!0})}),""!==i.dateOfDelivery?Object(je.jsx)("span",{className:a.error,children:i.dateOfDelivery}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Infant Given Name"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"firstName",id:"firstName",onChange:K,value:B.firstName,disabled:l})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Infant Surname"}),Object(je.jsx)("span",{style:{color:"red"},children:" *"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"input",name:"surname",id:"surname",onChange:K,value:B.surname,disabled:l})}),""!==i.surname?Object(je.jsx)("span",{className:a.error,children:i.surname}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Birth Weight ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)(et.a,{children:[Object(je.jsx)(Ke.a,{type:"number",name:"bodyWeight",id:"bodyWeight",onChange:K,min:"1",max:"150",onKeyUp:e=>{if("bodyWeight"===e.target.name&&(e.target.value<3||e.target.value>150)){const e="Body weight must not be greater than 150 and less than 3";w(Object(O.a)(Object(O.a)({},I),{},{bodyWeight:e}))}else w(Object(O.a)(Object(O.a)({},I),{},{bodyWeight:""}))},value:B.bodyWeight,style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:l}),Object(je.jsx)(tt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"kg"})]}),""!==i.bodyWeight?Object(je.jsx)("span",{className:a.error,children:i.bodyWeight}):"",""!==I.weight?Object(je.jsx)("span",{className:a.error,children:I.weight}):"",""!==B.bodyWeight&&B.bodyWeight<=0?Object(je.jsxs)("span",{className:a.error,children:["Invalid Body Weight"," "]}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Sex ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"sex",id:"sex",onChange:K,value:B.sex,disabled:l,children:[Object(je.jsx)("option",{value:"",children:"Select "}),j.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]})}),""!==i.sex?Object(je.jsx)("span",{className:a.error,children:i.sex}):""]})})]}),Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},horizontal:!0,children:Object(je.jsx)("h4",{style:{color:"#fff"},children:" Infant ARV & CTX"})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsxs)("div",{className:"row mt-4",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"CTX "}),Object(je.jsxs)(Ke.a,{type:"select",name:"ctxStatus",id:"ctxStatus",value:B.ctxStatus,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:K,disabled:l,children:[Object(je.jsx)("option",{value:"",children:"Select "}),Object(je.jsx)("option",{value:"YES",children:"YES "}),Object(je.jsx)("option",{value:"NO",children:"NO "})]}),""!==i.ctxStatus?Object(je.jsx)("span",{className:a.error,children:i.ctxStatus}):""]})}),"YES"===B.ctxStatus&&Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date of CTX initiation"}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfCtx",id:"dateOfCtx",value:M.dateOfCtx,onChange:V,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:B.dateOfDelivery,max:ae()(new Date).format("YYYY-MM-DD"),disabled:l}),""!==i.dateOfCtx?Object(je.jsx)("span",{className:a.error,children:i.dateOfCtx}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-4 ",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Age at CTX Initiation(months)"," "]}),Object(je.jsxs)(Ke.a,{type:"select",name:"ageAtCtx",id:"ageAtCtx",value:M.ageAtCtx,onChange:V,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(je.jsx)("option",{value:"select",children:"Select "}),f.map(((e,t)=>Object(je.jsx)("option",{value:e.code,children:e.display},t)))]}),""!==i.ageAtCtx?Object(je.jsx)("span",{className:a.error,children:i.ageAtCtx}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Infant ARV Prophylaxis Type"," "]}),Object(je.jsxs)(Ke.a,{type:"select",name:"infantArvType",id:"infantArvType",value:M.infantArvType,onChange:V,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(je.jsx)("option",{value:"",children:"Select "}),D.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==i.infantArvType?Object(je.jsx)("span",{className:a.error,children:i.infantArvType}):""]})}),M.infantArvType&&"INFANT_ARV_PROPHYLAXIS_TYPE_NONE"!==M.infantArvType&&Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date of ARV Prophylaxis"}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfArv",id:"dateOfArv",value:M.dateOfArv,onChange:V,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:B.dateOfDelivery,max:ae()(new Date).format("YYYY-MM-DD"),disabled:l}),""!==i.dateOfArv?Object(je.jsx)("span",{className:a.error,children:i.dateOfArv}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:" Timing of ARV Prophylaxis "}),Object(je.jsxs)(Ke.a,{type:"select",name:"infantArvTime",id:"infantArvTime",value:M.infantArvTime,onChange:V,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(je.jsx)("option",{value:"select",children:"Select "}),Object(je.jsx)("option",{value:"Within 72 hour",children:"Within 72 hour "}),Object(je.jsx)("option",{value:"After 72 hour",children:"After 72 hour "})]}),""!==i.infantArvTime?Object(je.jsx)("span",{className:a.error,children:i.infantArvTime}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:" Place of Delivery "}),Object(je.jsxs)(Ke.a,{type:"select",name:"arvDeliveryPoint",id:"arvDeliveryPoint",value:M.arvDeliveryPoint,onChange:V,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(je.jsx)("option",{value:"select",children:"Select "}),Object(je.jsx)("option",{value:"Facility Delivery",children:"Facility Delivery"}),Object(je.jsxs)("option",{value:"Delivered outside facility",children:["Delivered outside facility"," "]})]}),""!==i.arvDeliveryPoint?Object(je.jsx)("span",{className:a.error,children:i.arvDeliveryPoint}):""]})})]})]}),Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Te.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},horizontal:!0,children:Object(je.jsx)("h4",{style:{color:"#fff"},children:" Infant PCR/HIV Test "})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsxs)("div",{className:"row mt-3",children:[Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Age at Test(months)"}),Object(je.jsxs)(Ke.a,{type:"select",name:"ageAtTest",id:"ageAtTest",value:k.ageAtTest,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(je.jsx)("option",{value:"select",children:"Select "}),N.length>0&&N.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==i.ageAtTest?Object(je.jsx)("span",{className:a.error,children:i.ageAtTest}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:" Sample Type"}),Object(je.jsxs)(Ke.a,{type:"select",name:"testType",id:"testType",value:k.testType,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(je.jsx)("option",{value:"",children:"Select "}),S.length>0&&S.map(((e,t)=>Object(je.jsx)("option",{value:e.code,children:e.display})))]}),""!==i.testType?Object(je.jsx)("span",{className:a.error,children:i.testType}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date sample collected"}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateSampleCollected",id:"dateSampleCollected",value:k.dateSampleCollected,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:B.dateOfDelivery,max:ae()(new Date).format("YYYY-MM-DD"),disabled:l}),""!==i.dateSampleCollected?Object(je.jsx)("span",{className:a.error,children:i.dateSampleCollected}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date Sample Sent"}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateSampleSent",id:"dateSampleSent",value:k.dateSampleSent,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:k.dateSampleCollected,max:k.dateResultReceivedAtFacility,disabled:l}),""!==i.dateSampleSent?Object(je.jsx)("span",{className:a.error,children:i.dateSampleSent}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date Result Received"}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateResultReceivedAtFacility",id:"dateResultReceivedAtFacility",value:k.dateResultReceivedAtFacility,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:k.dateSampleCollected,max:ae()(new Date).format("YYYY-MM-DD"),disabled:l}),""!==i.dateResultReceivedAtFacility?Object(je.jsx)("span",{className:a.error,children:i.dateResultReceivedAtFacility}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date Result Received By Caregiver"}),Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateResultReceivedByCaregiver",id:"dateResultReceivedByCaregiver",value:k.dateResultReceivedByCaregiver,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:k.dateResultReceivedAtFacility,max:ae()(new Date).format("YYYY-MM-DD"),disabled:l}),""!==i.dateResultReceivedByCaregiver?Object(je.jsx)("span",{className:a.error,children:i.dateResultReceivedByCaregiver}):""]})}),Object(je.jsx)("div",{className:" mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Result *"}),Object(je.jsxs)(Ke.a,{type:"select",name:"results",id:"results",value:k.results,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(je.jsx)("option",{value:"select",children:"Select "}),A.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==i.results?Object(je.jsx)("span",{className:a.error,children:i.results}):""]})})]})]}),""!==k.results&&"INFANT_PCR_RESULT_POSITIVE"===k.results?Object(je.jsx)("h2",{style:{color:"red"},children:"Kindly fill ART form"}):""]}),r?Object(je.jsx)(lt.a,{}):"",Object(je.jsx)("br",{}),e.activeContent&&"update"===e.activeContent.actionType?Object(je.jsx)(je.Fragment,{children:Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:a.button,disabled:r,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#014d88"},onClick:Q,children:r?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating"}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(je.jsx)(je.Fragment,{children:Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:l||E,className:a.button,disabled:r,startIcon:Object(je.jsx)(Qe.a,{}),style:{backgroundColor:"#014d88"},onClick:Q,children:r?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving"}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})}),Object(je.jsx)($.a,{variant:"contained",className:a.button,startIcon:Object(je.jsx)(mt.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>J(),children:Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})]})};const sa={Add:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(T.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Check:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(R.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Clear:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Delete:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(_.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),DetailPanel:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Edit:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Y.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Export:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(K.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Filter:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(F.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),FirstPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(L.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),LastPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(W.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),NextPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),PreviousPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(w.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ResetSearch:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Search:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Q.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),SortArrow:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ThirdStateCheck:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(G.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ViewColumn:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Z.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))))};var ra=e=>{const[t,a]=Object(s.useState)([]),[c,i]=Object(s.useState)(!0);let l=Object(n.g)();const[d,j]=r.a.useState(!1),[b,h]=Object(s.useState)(!1),[m,p]=Object(s.useState)(null),f=()=>j(!d);let y=["pmtct_infant_information"];Object(s.useEffect)((()=>{N()}),[e.patientObj.id]);const N=()=>{i(!0),x.a.get("".concat(v,"pmtct/anc/getAllActivities/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{i(!1),a(e.data)})).catch((e=>{}))},T=(t,a)=>{"anc-enrollment"===t.path?l.push({pathname:"/update-patient",state:{id:t.recordId,patientObj:e.patientObj,actionType:a}}):"anc-delivery"===t.path?e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"labour-delivery",id:t.recordId,actionType:a})):"pmtct-enrollment"===t.path?e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"anc-pnc",id:t.recordId,activeTab:"history",actionType:a})):"anc-mother-visit"===t.path?e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"consultation",id:t.recordId,activeTab:"home",actionType:a})):"pmtct_infant_visit"===t.path?e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"consultation",id:t.recordId,activeTab:"child",actionType:a})):"pmtct_infant_information"===t.path&&e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"add-infant",id:t.recordId,activeTab:"home",actionType:a}))};return Object(je.jsxs)("div",{children:[Object(je.jsx)("br",{}),Object(je.jsx)(u.a,{icons:sa,title:"Patient History ",columns:[{title:"Description",field:"name"},{title:"Encounter Date",field:"date"},{title:"Actions",field:"actions",filtering:!1}],isLoading:c,data:t&&t.map((e=>({name:e.activityName,date:e.activityDate,actions:y.includes(e.path)?"":Object(je.jsx)("div",{children:Object(je.jsx)(ze.a.Menu,{position:"right",children:Object(je.jsx)(ze.a.Item,{children:Object(je.jsx)(yt.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(je.jsx)(Kt.a,{item:!0,text:"Action",children:Object(je.jsxs)(Kt.a.Menu,{style:{marginTop:"10px"},children:[e.viewable&&Object(je.jsxs)(Kt.a.Item,{onClick:()=>T(e,"view"),children:[" ",Object(je.jsx)(gt.a,{name:"eye"}),"View"," "]}),e.viewable&&Object(je.jsxs)(Kt.a.Item,{onClick:()=>T(e,"update"),children:[Object(je.jsx)(gt.a,{name:"edit"}),"Edit"]}),Object(je.jsxs)(Kt.a.Item,{onClick:()=>(e=>{f(),p(e)})(e),children:[" ",Object(je.jsx)(gt.a,{name:"trash"})," Delete"]})]})})})})})})}))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(je.jsxs)(ne.a,{show:d,toggle:f,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(je.jsx)(ne.a.Header,{children:Object(je.jsx)(ne.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(je.jsx)(ne.a.Body,{children:Object(je.jsxs)("h4",{children:["Are you Sure you want to delete"," ",Object(je.jsx)("b",{children:m&&m.activityName})]})}),Object(je.jsxs)(ne.a.Footer,{children:[Object(je.jsx)(yt.a,{onClick:()=>{var e;"anc-enrollment"===(e=m).path?(h(!0),x.a.delete("".concat(v,"pmtct/anc/delete/anc/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o.b.success("Record Deleted Successfully"),N(),f(),h(!1)})).catch((e=>{if(h(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"pmtct-enrollment"===e.path?(h(!0),x.a.delete("".concat(v,"pmtct/anc/delete/pmtct/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o.b.success("Record Deleted Successfully"),N(),f(),h(!1)})).catch((e=>{if(h(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"anc-delivery"===e.path?(h(!1),x.a.delete("".concat(v,"pmtct/anc/delete/delivery/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o.b.success("Record Deleted Successfully"),N(),f(),h(!1)})).catch((e=>{if(h(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"anc-mother-visit"===e.path?(h(!0),x.a.delete("".concat(v,"pmtct/anc/delete/delivery/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o.b.success("Record Deleted Successfully"),N(),f(),h(!1)})).catch((e=>{if(h(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"pmtct_infant_visit"===e.path?(h(!0),x.a.delete("".concat(v,"pmtct/anc/delete/infantvisit/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o.b.success("Record Deleted Successfully"),N(),f(),h(!1)})).catch((e=>{if(h(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"pmtct_infant_information"===e.path&&(h(!0),x.a.delete("".concat(v,"pmtct/anc/delete/infantinfo/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o.b.success("Record Deleted Successfully"),N(),f(),h(!1)})).catch((e=>{if(h(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:b,children:!1===b?"Yes":"Deleting..."}),Object(je.jsx)(yt.a,{onClick:f,style:{backgroundColor:"#014d88",color:"#fff"},disabled:b,children:"No"})]})]})]})},ca=a(1092),ia=a(524),na=a.n(ia),oa=a(1098);var la=e=>{let t=Object(n.g)();const[a,c]=Object(s.useState)([]),[i,l]=Object(s.useState)([]),[d,b]=r.a.useState(!1),[h,m]=Object(s.useState)(!1),[u,p]=Object(s.useState)(null),f=()=>b(!d);let y=["pmtct_infant_information"];const[N,T]=Object(s.useState)({motherVisit:0,childVisit:1,childAlive:0,childDead:0}),[S,C]=Object(s.useState)(0);Object(s.useEffect)((()=>{null!==e&&void 0!==e&&e.allEntryPoint,D(),R(),I()}),[e.patientObj.id]);const D=()=>{e.patientObj.ancNo?x.a.get("".concat(v,"pmtct/anc/get-infant-by-ancno?ancNo=").concat(e.patientObj.ancNo),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l(e.data)})).catch((e=>{})):x.a.get("".concat(v,"pmtct/anc/get-infant-by-mother-person-uuid/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid?e.patientObj.personUuid:e.patientObj.uuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l(e.data)})).catch((e=>{}))},R=()=>{x.a.get("".concat(v,"pmtct/anc/getAllActivities/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{c(e.data)})).catch((e=>{}))},I=()=>{e.patientObj.ancNo?x.a.get("".concat(v,"pmtct/anc/get-summary-chart?ancNo=").concat(e.patientObj.ancNo),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{T(e.data)})).catch((e=>{})):x.a.get("".concat(v,"pmtct/anc/get-pmtct-summary-chart/").concat(e.patientObj.person_uuid?e.patientObj.person_uuid:e.patientObj.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{T(e.data)})).catch((e=>{}))},w=(a,s)=>{"anc-enrollment"===a.path?t.push({pathname:"/update-patient",state:{id:a.recordId,patientObj:e.patientObj,actionType:s,postValue:"ANC",entrypointValue:e.entrypointValue}}):"anc-delivery"===a.path?e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"labour-delivery",id:a.recordId,actionType:s})):"pmtct-enrollment"===a.path?e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"anc-pnc",id:a.recordId,activeTab:"history",actionType:s})):"anc-mother-visit"===a.path?e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"consultation",id:a.recordId,activeTab:"home",actionType:s})):"pmtct_infant_visit"===a.path?e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"consultation",id:a.recordId,activeTab:"child",actionType:s})):"pmtct_infant_information"===a.path&&e.setActiveContent(Object(O.a)(Object(O.a)({},e.activeContent),{},{route:"add-infant",id:a.recordId,activeTab:"home",actionType:s}))};return Object(je.jsx)(s.Fragment,{children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"col-xl-4 col-xxl-4 col-lg-4",children:Object(je.jsxs)("div",{className:"card",children:[Object(je.jsx)("div",{className:"card-header  border-0 pb-0",children:Object(je.jsx)("h4",{className:"card-title",children:" Recent Activities"})}),Object(je.jsx)("div",{className:"card-body",children:Object(je.jsx)(na.a,{style:{height:"370px"},id:"DZ_W_Todo1",className:"widget-media dz-scroll ps ps--active-y",children:Object(je.jsx)(oa.a,{className:"accordion accordion-header-bg accordion-header-shadow accordion-rounded ",defaultActiveKey:"0",children:Object(je.jsx)(je.Fragment,{children:a&&a.map(((e,t)=>{return Object(je.jsxs)("div",{className:"accordion-item",children:[Object(je.jsxs)(oa.a.Toggle,{as:j.a.Text,eventKey:"".concat(t),className:"accordion-header ".concat(1===S?"":"collapsed"," accordion-header-info"),onClick:()=>C(1===S?-1:t),children:[Object(je.jsx)("span",{className:"accordion-header-icon"}),Object(je.jsxs)("span",{className:"accordion-header-text",children:["Visit Date :"," ",Object(je.jsx)("span",{className:"",children:e.activityName})," "]}),Object(je.jsx)("span",{className:"accordion-header-indicator"})]}),Object(je.jsx)(oa.a.Collapse,{eventKey:"".concat(t),className:"accordion__body",children:Object(je.jsx)("div",{className:"accordion-body-text",children:Object(je.jsx)("ul",{className:"timeline",children:Object(je.jsx)("li",{children:Object(je.jsxs)("div",{className:"timeline-panel",children:[Object(je.jsx)("div",{className:t%2==0?"media me-2 media-info":"media me-2 media-success",children:(a=e.path,"pmtct-enrollment"===a?"PE":"anc-enrollment"===a?"AE":"anc-delivery"===a?"AD":"anc-mother-visit"===a?"MV":"pmtct_infant_visit"===a?"IV":"pmtct_infant_information"===a?"II":"RA")}),Object(je.jsxs)("div",{className:"media-body",children:[Object(je.jsx)("h5",{className:"mb-1",children:e.activityName}),Object(je.jsx)("small",{className:"d-block",children:e.activityDate})]}),y.includes(e.path)?"":Object(je.jsxs)(ca.a,{className:"dropdown",children:[Object(je.jsx)(ca.a.Toggle,{variant:" light",className:"i-false p-0 btn-info sharp",children:Object(je.jsx)("svg",{width:"18px",height:"18px",viewBox:"0 0 24 24",version:"1.1",children:Object(je.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(je.jsx)("rect",{x:"0",y:"0",width:"24",height:"24"}),Object(je.jsx)("circle",{fill:"#000000",cx:"5",cy:"12",r:"2"}),Object(je.jsx)("circle",{fill:"#000000",cx:"12",cy:"12",r:"2"}),Object(je.jsx)("circle",{fill:"#000000",cx:"19",cy:"12",r:"2"})]})})}),Object(je.jsxs)(ca.a.Menu,{className:"dropdown-menu",children:[Object(je.jsx)(ca.a.Item,{className:"dropdown-item",onClick:()=>w(e,"view"),children:"View"}),Object(je.jsx)(ca.a.Item,{className:"dropdown-item",onClick:()=>w(e,"update"),children:"Update"}),Object(je.jsx)(ca.a.Item,{className:"dropdown-item",onClick:()=>{return t=e,f(),void p(t);var t},children:"Delete"})]})]})]})})})})})]},t);var a}))})})})})]})}),"Positive"===e.patientObj.dynamicHivStatus||"Positive"===e.patientObj.hivStatus?Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("div",{className:"col-xl-8 col-xxl-8 col-lg-8",children:Object(je.jsxs)("div",{className:"card",children:[Object(je.jsx)("div",{className:"card-header border-0 pb-0",children:Object(je.jsx)("h4",{className:"card-title",children:"Patient Chart"})}),Object(je.jsx)("br",{}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsxs)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:[Object(je.jsx)("div",{className:"col-xl-12 col-xxl-12 col-sm-12",children:Object(je.jsxs)("div",{className:"card overflow-hidden",children:[Object(je.jsx)("div",{className:"social-graph-wrapper widget-facebook",children:Object(je.jsx)("span",{className:"s-icon",children:Object(je.jsx)("span",{style:{fontSize:"16px"},children:"Total Clinic Visit"})})}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"col-6 border-right",children:Object(je.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(je.jsx)("h4",{className:"m-1",children:Object(je.jsx)("span",{className:"counter",children:Object(je.jsx)("b",{children:N.motherVisit})})}),Object(je.jsx)("p",{className:"m-0",children:Object(je.jsx)("b",{children:"Mother Visit"})})]})}),i.length>0&&Object(je.jsx)("div",{className:"col-6",children:Object(je.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(je.jsx)("h4",{className:"m-1",children:Object(je.jsx)("span",{className:"counter",children:Object(je.jsx)("b",{children:N.childVisit})})}),Object(je.jsx)("p",{className:"m-0",children:Object(je.jsx)("b",{children:"Infant's Visit"})})]})})]})]})}),Object(je.jsx)("div",{className:"col-xl-12 col-xxl-12 col-sm-12",children:Object(je.jsxs)("div",{className:"card overflow-hidden",children:[Object(je.jsx)("div",{className:"social-graph-wrapper widget-linkedin",children:Object(je.jsx)("span",{className:"s-icon",children:Object(je.jsxs)("span",{style:{fontSize:"16px"},children:["No. of Infants"," ",i.length>0?" : "+i.length:""]})})}),Object(je.jsx)("div",{className:"row",children:i.length>0?Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"col-6 border-right",children:Object(je.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(je.jsx)("h4",{className:"m-1",children:Object(je.jsx)("span",{className:"counter",children:N.childAlive})}),Object(je.jsx)("p",{className:"m-0",children:Object(je.jsx)("b",{children:"Alive "})})]})}),Object(je.jsx)("div",{className:"col-6",children:Object(je.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(je.jsx)("h4",{className:"m-1",children:Object(je.jsx)("span",{className:"counter",children:N.childDead})}),Object(je.jsx)("p",{className:"m-0",children:Object(je.jsx)("b",{children:"Dead "})})]})})]}):Object(je.jsx)("p",{children:"No Record"})})]})})]}),Object(je.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(je.jsxs)("div",{className:"card-body",children:[Object(je.jsx)("h3",{children:"Current Infant's Details"}),i.length>0?Object(je.jsx)(na.a,{style:{height:"370px"},id:"DZ_W_TimeLine1",className:"widget-timeline dz-scroll style-1 height370 ps ps--active-y",children:Object(je.jsx)("ul",{className:"timeline",children:i.length>0?i.map((e=>Object(je.jsxs)("li",{children:[Object(je.jsx)("div",{className:"timeline-badge info"}),Object(je.jsxs)("span",{className:"timeline-panel text-muted",children:[Object(je.jsxs)("h6",{className:"mb-0",children:["Infant Given Name",Object(je.jsx)("br",{}),e.firstName]}),Object(je.jsxs)("strong",{className:"text-teal",children:["Infant DOB",Object(je.jsx)("br",{}),e.dateOfDelivery]}),Object(je.jsx)("br",{}),Object(je.jsxs)("strong",{className:"text-warning",children:["Gender",Object(je.jsx)("br",{}),"SEX_FEMALE"===e.sex?"Female":"Male"]})]})]},0))):""})}):Object(je.jsx)("p",{children:"No Record"})]})})]})]})})}):"",Object(je.jsx)(je.Fragment,{children:Object(je.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(je.jsx)("div",{className:"card-body",children:"Unknown"===e.patientObj.hivStatus||"Unknown"===e.patientObj.staticHivStatus?Object(je.jsx)("b",{children:"Patient has no HTS record. Please refer for testing..."}):""})})}),Object(je.jsxs)(ne.a,{show:d,toggle:f,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(je.jsx)(ne.a.Header,{children:Object(je.jsx)(ne.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(je.jsx)(ne.a.Body,{children:Object(je.jsxs)("h4",{children:["Are you Sure you want to delete"," ",Object(je.jsx)("b",{children:u&&u.activityName})]})}),Object(je.jsxs)(ne.a.Footer,{children:[Object(je.jsx)(yt.a,{onClick:()=>{var e;"anc-enrollment"===(e=u).path?(m(!0),x.a.delete("".concat(v,"pmtct/anc/delete/anc/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o.b.success("Record Deleted Successfully"),R(),f(),m(!1)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"pmtct-enrollment"===e.path?(m(!0),x.a.delete("".concat(v,"pmtct/anc/delete/pmtct/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o.b.success("Record Deleted Successfully"),R(),f(),m(!1)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"anc-delivery"===e.path?(m(!1),x.a.delete("".concat(v,"pmtct/anc/delete/delivery/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o.b.success("Record Deleted Successfully"),R(),f(),m(!1)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"anc-mother-visit"===e.path?(m(!0),x.a.delete("".concat(v,"pmtct/anc/delete/mothervisit/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o.b.success("Record Deleted Successfully"),R(),f(),m(!1)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"pmtct_infant_visit"===e.path?(m(!0),x.a.delete("".concat(v,"pmtct/anc/delete/infantvisit/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o.b.success("Record Deleted Successfully"),R(),f(),m(!1)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"pmtct_infant_information"===e.path&&(m(!0),x.a.delete("".concat(v,"pmtct/anc/delete/infantinfo/").concat(e.recordId),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{o.b.success("Record Deleted Successfully"),R(),f(),m(!1)})).catch((e=>{if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:h,children:!1===h?"Yes":"Deleting..."}),Object(je.jsx)(yt.a,{onClick:f,style:{backgroundColor:"#014d88",color:"#fff"},disabled:h,children:"No"})]})]})]})})},da=a(1108),ja=a(1109),ba=a(1101),ha=a(1089),Oa=a(1090);a(918);const ma={Add:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(T.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Check:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(R.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Clear:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Delete:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(_.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),DetailPanel:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Edit:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Y.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Export:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(K.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Filter:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(F.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),FirstPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(L.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),LastPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(W.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),NextPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(P.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),PreviousPage:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(w.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ResetSearch:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),Search:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Q.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),SortArrow:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ThirdStateCheck:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(G.a,Object(O.a)(Object(O.a)({},e),{},{ref:t})))),ViewColumn:Object(s.forwardRef)(((e,t)=>Object(je.jsx)(Z.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))))};var ua=e=>{const{patientObj:t}=e,{hasAnyPermission:a}=de(),[r,c]=Object(s.useState)(!1),[i,n]=Object(s.useState)(!1),[l,d]=Object(s.useState)(!1),[j,b]=Object(s.useState)(new Date),[h,O]=Object(s.useState)(new Date),[m,u]=Object(s.useState)({selected:[]}),[p,f]=Object(s.useState)([]),[y,N]=Object(s.useState)([]),[T,S]=Object(s.useState)([]),[C,D]=Object(s.useState)(!1),R=Object(s.useMemo)((()=>({view_patient:a("view_patient","all_permissions")})),[a]),I=Object(s.useCallback)((async()=>{D(!0);try{const e=await x.a.get("".concat(v,"patient/post-service"),{headers:{Authorization:"Bearer ".concat(g)}});S(e.data),f(e.data.map((e=>({label:e.moduleServiceName,value:e.moduleServiceCode}))))}catch(e){o.b.error("Failed to fetch services")}finally{D(!1)}}),[]),w=Object(s.useCallback)((async()=>{try{const e=await x.a.get("".concat(v,"patient/visit/visit-by-patient/").concat(t.id),{headers:{Authorization:"Bearer ".concat(g)}});let a=[];e.data.length>0&&e.data.map((e=>{e.service.toUpperCase().includes("PMTCT")&&a.push(e)})),N(a);const s=e.data.some((e=>!e.checkOutTime||"PENDING"===e.status));c(s)}catch(e){o.b.error("Failed to fetch patient visits")}}),[t.id]);Object(s.useEffect)((()=>{I(),w()}),[I,w]);const A=Object(s.useMemo)((()=>[{title:"Check In Date",field:"checkInDate",render:e=>ae()(e.checkInDate).format("YYYY-MM-DD HH:mm")},{title:"Check Out Date",field:"checkOutDate",render:e=>e.checkOutDate?ae()(e.checkOutDate).format("YYYY-MM-DD HH:mm"):"N/A"},{title:"Service",field:"service"},{title:"Status",field:"status"}]),[]);return Object(je.jsxs)("div",{children:[Object(je.jsx)("div",{className:"d-flex justify-content-end mb-3",children:R.view_patient&&r&&Object(je.jsx)($.a,{variant:"contained",style:{backgroundColor:"green",color:"white",marginLeft:"10px"},onClick:()=>d(!0),children:"Check Out"})}),Object(je.jsx)(ue,{title:"Patient Visits",columns:A,data:y,icons:ma,isLoading:C,onPPIChange:e=>setShowPPI(!e.target.checked)}),Object(je.jsxs)(ba.a,{isOpen:l,toggle:()=>d(!1),size:"lg",children:[Object(je.jsx)(ha.a,{toggle:()=>d(!1),children:Object(je.jsx)("h5",{style:{fontWeight:"bold",color:"#014d88"},children:"Check Out"})}),Object(je.jsx)(Oa.a,{children:Object(je.jsx)(da.a,{style:{padding:"20px"},children:Object(je.jsxs)(ja.a,{container:!0,spacing:3,children:[Object(je.jsx)(ja.a,{item:!0,xs:12,children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(Te.a,{style:{color:"#014d88",fontWeight:"bold"},children:"Check-out Date *"}),Object(je.jsx)("input",{type:"datetime-local",className:"form-control",value:ae()(h).format("YYYY-MM-DDTHH:mm"),onChange:e=>O(new Date(e.target.value)),max:ae()().format("YYYY-MM-DDTHH:mm")})]})}),Object(je.jsxs)(ja.a,{item:!0,xs:12,children:[Object(je.jsx)($.a,{variant:"contained",color:"primary",onClick:async()=>{const e=y.find((e=>"PENDING"===e.status&&"PMTCT_code"===e.service));if(e)if("PMTCT_code"===e.service)try{await x.a.put("".concat(v,"patient/visit/checkout/").concat(e.id),{checkOutDate:ae()(h).format("YYYY-MM-DD HH:mm")},{headers:{Authorization:"Bearer ".concat(g)}}),o.b.success("Check-out successful"),c(!1),d(!1),w()}catch(t){o.b.error("Check-out failed")}else o.b.error("Can only checkout HIV services");else o.b.error("No pending HIV visit found")},children:"Confirm Check Out"}),Object(je.jsx)($.a,{variant:"contained",style:{backgroundColor:"#992E62",marginLeft:"10px",color:"white"},onClick:()=>d(!1),children:"Cancel"})]})]})})})]})]})};var pa=Object(Pe.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){let t=Object(n.g)();const[a,r]=Object(s.useState)(!1),[c,i]=Object(s.useState)({}),[o,l]=Object(s.useState)([]),[d,j]=Object(s.useState)([]),[b,h]=Object(s.useState)(!1),[O,m]=Object(s.useState)({route:"recent-history",id:"",activeTab:"home",actionType:"create",obj:{}}),{classes:u}=e,p=t.location&&t.location.state?t.location.state.patientObj:{};return Object(s.useEffect)((()=>{x.a.get("".concat(v,"pmtct/anc/getAllActivities/").concat(p.person_uuid?p.person_uuid:p.personUuid),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{l(e.data)})).catch((e=>{console.error(e)})),x.a.get("".concat(v,"patient/").concat(null===p||void 0===p?void 0:p.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{i(e.data)})).catch((e=>{})),x.a.get("".concat(v,"application-codesets/v2/PMTCT_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{j(e.data)})).catch((e=>{}))}),[]),Object(je.jsxs)("div",{className:u.root,children:[Object(je.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(je.jsx)("ol",{className:"breadcrumb",children:Object(je.jsx)("li",{className:"breadcrumb-item active",children:Object(je.jsxs)("h4",{children:[" ",Object(je.jsx)(y.b,{to:"/",children:"PMTCT /"})," Patient Dashboard"]})})})}),Object(je.jsx)(Ee.a,{children:Object(je.jsxs)(He.a,{children:[Object(je.jsx)(Fe,{patientObj:p,setArt:r,setActiveContent:m}),Object(je.jsx)(Ve,{patientObj:p,art:a,setActiveContent:m,deliveryInfo:o,enrollPMTCT:b}),Object(je.jsx)("br",{}),"recent-history"===O.route&&Object(je.jsx)(la,{allEntryPoint:d,patientObj:p,setActiveContent:m,activeContent:O,entrypointValue:p.ancNo?"PMTCT_ENTRY_POINT_ANC":p.entryPoint}),"consultation"===O.route&&Object(je.jsx)(ot,{patientObj:p,setActiveContent:m,activeContent:O}),"anc-pnc"===O.route&&Object(je.jsx)(ht,{newRegDate:"",setEnrollPMTCT:h,allEntryPoint:d,entrypointValue:p.entryPoint,ancEntryType:!!p.ancNo,patientObj:p,setActiveContent:m,activeContent:O,hideUpdateButton:!0}),"anc-enrollment"===O.route&&Object(je.jsx)(pt,{patientObj:p,setActiveContent:m,activeContent:O}),"labour-delivery"===O.route&&Object(je.jsx)(vt,{patientObj:p,setActiveContent:m,activeContent:O}),"pmtct-hts"===O.route&&Object(je.jsx)(Gt,{patientObj:p,patientAge:p.age,setActiveContent:m,activeContent:O}),"partners"===O.route&&Object(je.jsx)(Qt,{patientObj:p,patientAge:p.age,setActiveContent:m,activeContent:O}),"infants"===O.route&&Object(je.jsx)(Zt,{patientObj:p,patientAge:p.age,setActiveContent:m,activeContent:O}),"add-partner"===O.route&&Object(je.jsx)(ea,{patientObj:p,patientAge:p.age,setActiveContent:m,activeContent:O}),"add-infant"===O.route&&Object(je.jsx)(aa,{patientObj:p,patientAge:p.age,setActiveContent:m,activeContent:O}),"patient-history"===O.route&&Object(je.jsx)(ra,{patientObj:p,setActiveContent:m,activeContent:O}),"patient-visit"===O.route&&Object(je.jsx)(ua,{patientObj:p,setActiveContent:m,activeContent:O})]})})]})})),xa=a(1091),va=a(525),ga=a(149),fa=a(122),ya=a(1067),Na=a(691),Ta=a.n(Na);a(505),a(925);ga.b.add(fa.a,fa.b,fa.c,fa.d);const Sa=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Ca=e=>{const{state:t}=Object(n.h)(),[a,c]=Object(s.useState)({active:!0,address:"",contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,hospitalNumber:"",firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:1,stateId:"",district:"",sexId:377,ninNumber:""}),[i,l]=Object(s.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),[d,j]=Object(s.useState)([]),[b,h]=Object(s.useState)(!1),[m,u]=Object(s.useState)(!1),[p,f]=Object(s.useState)(!0),[N,T]=Object(s.useState)(!1),[S,C]=Object(s.useState)([]),[D,R]=Object(s.useState)([]),[I,w]=Object(s.useState)([]),[A,P]=Object(s.useState)([]),[E,H]=Object(s.useState)([]),[B,_]=Object(s.useState)([]),[k,Y]=Object(s.useState)([]),[M,F]=Object(s.useState)([]),[z,L]=Object(s.useState)({}),[V,W]=Object(s.useState)([]),[U,G]=Object(s.useState)({route:"recent-history",id:"",activeTab:"home",actionType:"",obj:{}}),q=e.location&&e.location.state?e.location.state.user:null,K=Sa(),X=Object(n.g)(),Q=Object(n.h)(),[J,Z]=Object(s.useState)(!1),[ee,ae]=Object(s.useState)({ancSetting:"",communitySetting:"",ancNo:"",gaweeks:"",gravida:"",expectedDeliveryDate:"",firstAncDate:"",lmp:"",parity:"",hivDiognosicTime:"",referredSyphilisTreatment:"",testResultSyphilis:"",testedSyphilis:"",treatedSyphilis:"",personDto:{},pmtctHtsInfo:{},syphilisInfo:{},partnerNotification:{},staticHivStatus:"",testedHepatitisB:"",treatedHepatitisB:"",referredHepatitisB:"",testedHepatitisC:"",treatedHepatitisC:"",referredHepatitisC:"",dateOfHepatitisB:"",hepatitisB:"",dateOfHepatitisC:"",hepatitisC:""}),[se,re]=Object(s.useState)({pmtctEnrollmentDate:"",entryPoint:"",artStartDate:"",artStartTime:"",id:"",tbStatus:"",personDto:{}}),[ie,oe]=Object(s.useState)([]),[le,de]=Object(s.useState)([]),[be,he]=Object(s.useState)([]),[Oe,me]=Object(s.useState)(!1),[ue,pe]=Object(s.useState)(!1),[xe,ve]=r.a.useState(!1),[ge,fe]=Object(s.useState)({}),[ye,Ne]=Object(s.useState)([]),[Te,Se]=Object(s.useState)([]),Ce=()=>ve(!xe),De=Q.state;let Re=null;Re=De?De.patientId:null;let Ie=Object(O.a)({},z);Object(s.useEffect)((()=>{Ye(),Me(),we(),Ae(),Pe(),Ee(),He(),Be(),Xe(),Je(),_e(),ke(),a.dateOfRegistration<a.dob&&alert("Date of registration can not be earlier than date of birth")}),[a.dateOfRegistration]);const we=Object(s.useCallback)((async()=>{try{const e=await x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}});C(e.data)}catch(e){}}),[]),Ae=Object(s.useCallback)((async()=>{try{const e=await x.a.get("".concat(v,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}});R(e.data)}catch(e){}}),[]),Pe=Object(s.useCallback)((async()=>{try{const e=await x.a.get("".concat(v,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(g)}});w(e.data)}catch(e){}}),[]),Ee=Object(s.useCallback)((async()=>{try{const e=await x.a.get("".concat(v,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(g)}});P(e.data)}catch(e){}}),[]),He=Object(s.useCallback)((async()=>{try{const e=await x.a.get("".concat(v,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(g)}});H(e.data)}catch(e){}}),[]),Be=Object(s.useCallback)((async()=>{const e=await x.a.get("".concat(v,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(g)}});W(e.data)}),[]),_e=()=>{x.a.get("".concat(v,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{_(e.data)})).catch((e=>{}))},ke=()=>{x.a.get("".concat(v,"organisation-units/parent-organisation-units/1"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{Y(e.data)})).catch((e=>{}))},Ye=e=>{x.a.get("".concat(v,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{Ne(e.data)})).catch((e=>{}))},Me=e=>{x.a.get("".concat(v,"application-codesets/v2/TEST_SETTING_CPMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{Se(e.data)})).catch((e=>{console.error(e)}))},Fe=e=>{"Actual"==e.target.value?f(!0):"Estimated"==e.target.value&&f(!1)},ze=e=>{if(L(Object(O.a)(Object(O.a)({},Ie),{},{[e.target.name]:""})),"sexId"===e.target.name&&"377"===e.target.value)Z(!0);else if("firstName"===e.target.name&&""!==e.target.value){const t=Ue(e.target.value);c(Object(O.a)(Object(O.a)({},a),{},{[e.target.name]:t}))}else if("lastName"===e.target.name&&""!==e.target.value){const s=Ue(e.target.value);c(Object(O.a)(Object(O.a)({},a),{},{[e.target.name]:s}))}else if("middleName"===e.target.name&&""!==e.target.value){const r=Ue(e.target.value);c(Object(O.a)(Object(O.a)({},a),{},{[e.target.name]:r}))}else if("ninNumber"===e.target.name&&""!==e.target.value){const i=tt(e.target.value);c(Object(O.a)(Object(O.a)({},a),{},{[e.target.name]:i}))}else if("ancNo"===e.target.name&&""!==e.target.value){async function n(){const t=e.target.value,a=await x.a.post("".concat(v,"pmtct/anc/exist/anc-number?ancNo=").concat(t),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});!0===a.data?(o.b.error("ANC number already exist"),me(a.data)):me(!1)}n()}else if("hospitalNumber"===e.target.name&&""!==e.target.value){async function l(){const t=e.target.value;!0!==(await x.a.post("".concat(v,"patient/exist/hospital-number"),t,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}})).data?(pe(!1),z.hospitalNumber=""):(z.hospitalNumber="",o.b.error("Error! Hosiptal Number already exist"),pe(!0))}c(Object(O.a)(Object(O.a)({},a),{},{hospitalNumber:e.target.value})),l()}else c(Object(O.a)(Object(O.a)({},a),{},{[e.target.name]:e.target.value}))},Le=e=>{const t=E.find((t=>t.id===e));return t?t.display:""},Ve=e=>{l(Object(O.a)(Object(O.a)({},i),{},{[e.target.name]:e.target.value}))},We=e=>{if(L(Object(O.a)(Object(O.a)({},z),{},{[e.target.name]:""})),"ancNo"===e.target.name&&""!==e.target.value){async function t(){const t=e.target.value,a={ancNo:t},s=await x.a.post("".concat(v,"pmtct/anc/exist/anc-number?ancNo=").concat(t),a,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});!0===s.data?(o.b.error("ANC number already exist",{position:o.b.POSITION.BOTTOM_CENTER}),me(s.data)):me(!1)}t()}"ancSetting"===e.target.name?ae(Object(O.a)(Object(O.a)({},ee),{},{[e.target.name]:e.target.value,communitySetting:""})):"testedHepatitisB"===e.target.name?ae(Object(O.a)(Object(O.a)({},ee),{},{[e.target.name]:e.target.value,dateOfHepatitisB:"",hepatitisB:""})):"hepatitisB"===e.target.name?ae(Object(O.a)(Object(O.a)({},ee),{},{[e.target.name]:e.target.value,treatedHepatitisB:"",referredHepatitisB:""})):"testedHepatitisC"===e.target.name?ae(Object(O.a)(Object(O.a)({},ee),{},{[e.target.name]:e.target.value,dateOfHepatitisC:"",hepatitisC:""})):"hepatitisC"===e.target.name?ae(Object(O.a)(Object(O.a)({},ee),{},{[e.target.name]:e.target.value,treatedHepatitisC:"",referredHepatitisC:""})):ae(Object(O.a)(Object(O.a)({},ee),{},{[e.target.name]:e.target.value}))},Ue=e=>e.replace(/[^a-z]/gi,""),Xe=()=>{x.a.get("".concat(v,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{oe(e.data)})).catch((e=>{}))},Je=()=>{x.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{he(e.data)})).catch((e=>{}))},Ze=e=>{if(L(Object(O.a)(Object(O.a)({},Ie),{},{[e.target.name]:""})),"ancNo"===e.target.name&&""!==e.target.value){async function t(){const t=e.target.value,a={ancNo:t},s=await x.a.post("".concat(v,"pmtct/anc/exist/anc-number?ancNo=").concat(t),a,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});!0===s.data?(o.b.error("ANC number already exist"),me(s.data)):me(!1)}t()}if(!("parity"===e.target.name&&""!==e.target.value&&e.target.value<0)&&!("gravida"===e.target.name&&""!==e.target.value&&e.target.value<=0))if("testedSyphilis"===e.target.name&&""!==e.target.value&&"Yes"===e.target.value&&(ee.testResultSyphilis="",ee.referredSyphilisTreatment="",ee.treatedSyphilis="",ae(Object(O.a)(Object(O.a)({},ee),{},{testResultSyphilis:""})),ae(Object(O.a)(Object(O.a)({},ee),{},{referredSyphilisTreatment:""})),ae(Object(O.a)(Object(O.a)({},ee),{},{treatedSyphilis:""})),ae(Object(O.a)(Object(O.a)({},ee),{},{[e.target.name]:e.target.value}))),"testResultSyphilis"===e.target.name&&""!==e.target.value&&"Positive"===e.target.value&&(ee.treatedSyphilis="",ee.referredSyphilisTreatment="",ae(Object(O.a)(Object(O.a)({},ee),{},{treatedSyphilis:""})),ae(Object(O.a)(Object(O.a)({},ee),{},{referredSyphilisTreatment:""})),ae(Object(O.a)(Object(O.a)({},ee),{},{[e.target.name]:e.target.value}))),"firstAncDate"===e.target.name&&""!==e.target.value&&""!==ee.lmp){let a=jt(e.target.value,ee.lmp);a>0?(ee.gaweeks=a,ae(Object(O.a)(Object(O.a)({},ee),{},{[e.target.name]:e.target.value}))):(o.b.error("Please select a validate date"),ae(Object(O.a)(Object(O.a)({},ee),{},{[e.target.name]:""})))}else if("lmp"===e.target.name&&""!==e.target.value){let s=jt(ee.firstAncDate,e.target.value);s>0?(ee.gaweeks=s,ae(Object(O.a)(Object(O.a)({},ee),{},{[e.target.name]:e.target.value})),L(Object(O.a)(Object(O.a)({},z),{},{gaweeks:""}))):(o.b.error("Please select a validate date"),ae(Object(O.a)(Object(O.a)({},ee),{},{[e.target.name]:""})))}else ae(Object(O.a)(Object(O.a)({},ee),{},{[e.target.name]:e.target.value}))},$e=(e,t)=>{if("phoneNumber"===t){e&&L(Object(O.a)(Object(O.a)({},z),{},{phoneNumber:""}));const t=10;c(Object(O.a)(Object(O.a)({},a),{},{phoneNumber:e.slice(0,t)}))}if("altPhonenumber"===t){const t=10;c(Object(O.a)(Object(O.a)({},a),{},{altPhonenumber:e.slice(0,t)}))}},tt=e=>e.slice(0,11);return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(je.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(je.jsx)("ol",{className:"breadcrumb",children:Object(je.jsx)("li",{className:"breadcrumb-item active",children:Object(je.jsxs)("h4",{children:[" ",Object(je.jsx)(y.b,{to:"/",children:"PMTCT /"})," Patient Registration"]})})})}),Object(je.jsx)(y.b,{to:{pathname:"/",state:"users"},children:Object(je.jsx)($.a,{variant:"contained",color:"primary",className:" float-end mr-10 pr-10",style:{backgroundColor:"#014d88",fontWeight:"bolder",margingRight:"-40px"},startIcon:Object(je.jsx)(ce.a,{}),children:Object(je.jsxs)("span",{style:{textTransform:"capitalize",color:"#fff"},children:["Back"," "]})})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)(ft.a,{className:K.root,children:Object(je.jsx)(ya.a,{children:Object(je.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(je.jsxs)(xa.a,{children:[Object(je.jsxs)("div",{className:"card",children:[Object(je.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(je.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===q?"Basic Information":"Edit User Information"})}),Object(je.jsx)("div",{className:"card-body",children:Object(je.jsxs)("div",{className:"basic-form",children:[Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{for:"dateOfRegistration",children:["Date of Registration"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(je.jsx)(Ke.a,{className:"form-control",type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfRegistration",id:"dateOfRegistration",min:"1983-12-31",max:te(new Date).format("YYYY-MM-DD"),value:a.dateOfRegistration,onChange:ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==z.dateOfRegistration?Object(je.jsx)("span",{className:K.error,children:z.dateOfRegistration}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{for:"patientId",children:["Hospital Number"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:a.hospitalNumber,onChange:ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==z.hospitalNumber?Object(je.jsx)("span",{className:K.error,children:z.hospitalNumber}):"",!0===ue?Object(je.jsx)("span",{className:K.error,children:"Hospital number already exist"}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{for:"ninNumber",children:["National Identity Number (NIN)"," "]}),Object(je.jsx)("input",{className:"form-control",type:"number",name:"ninNumber",value:a.ninNumber,id:"ninNumber",onChange:ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{for:"firstName",children:["First Names ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(Ke.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:a.firstName,onChange:ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==z.firstName?Object(je.jsx)("span",{className:K.error,children:z.firstName}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Middle Name"}),Object(je.jsx)(Ke.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:a.middleName,onChange:ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Last Name ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:a.lastName,onChange:ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==z.lastName?Object(je.jsx)("span",{className:K.error,children:z.lastName}):""]})})]}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Sex ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:ze,value:a.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:!0,children:[Object(je.jsx)("option",{value:"",children:"Select"}),S.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==z.sexId?Object(je.jsx)("span",{className:K.error,children:z.sexId}):""]})}),Object(je.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date Of Birth"}),Object(je.jsx)("div",{className:"radio",children:Object(je.jsxs)("label",{children:[Object(je.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:e=>Fe(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," ","Actual"]})}),Object(je.jsx)("div",{className:"radio",children:Object(je.jsxs)("label",{children:[Object(je.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:e=>Fe(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," ","Estimated"]})})]})}),Object(je.jsxs)("div",{className:"form-group mb-3 col-md-2",children:[Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)("input",{className:"form-control",type:"date",onKeyPress:e=>{e.preventDefault()},name:"dob",min:"1940-01-01",id:"dob",max:te(new Date).format("YYYY-MM-DD"),value:a.dob,onChange:e=>{if(e.target.value){L(Object(O.a)(Object(O.a)({},z),{},{dob:""}));const t=new Date,s=new Date(e.target.value);let r=t.getFullYear()-s.getFullYear();const c=t.getMonth()-s.getMonth();(c<0||0===c&&t.getDate()<s.getDate())&&r--,a.age=r}else c(Object(O.a)(Object(O.a)({},a),{},{age:""}));c(Object(O.a)(Object(O.a)({},a),{},{dob:e.target.value})),""!==a.age&&a.age>=60&&Ce()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}),""!==z.dob?Object(je.jsx)("span",{className:K.error,children:z.dob}):""]}),Object(je.jsxs)("div",{className:"form-group mb-3 col-md-4",children:[Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Age"}),Object(je.jsx)("input",{type:"number",name:"age",className:"form-control",id:"age",min:"5",value:a.age,disabled:p,onChange:e=>{if(!p&&e.target.value){""!==e.target.value&&e.target.value>=60&&Ce(),e.target.value<=1?u(!0):u(!1);const t=new Date;t.setDate(15),t.setMonth(5);const s=te(t.toISOString()).add(-1*e.target.value,"years");a.dob=te(s).format("YYYY-MM-DD")}c(Object(O.a)(Object(O.a)({},a),{},{age:Math.abs(e.target.value)}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}),Object(je.jsx)("p",{children:Object(je.jsxs)("b",{style:{color:"red"},children:[""!==a.age&&a.age<5?"Minimum age for PMTCT enrolment is 5 years":" "," "]})})]})]}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Marital Status"}),Object(je.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:ze,value:a.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:"",children:"Select"}),D.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Employment Status"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:ze,value:a.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:"",children:"Select"}),A.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==z.employmentStatusId?Object(je.jsx)("span",{className:K.error,children:z.employmentStatusId}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Education Level"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:ze,value:a.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(je.jsx)("option",{value:"",children:"Select"}),I.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==z.educationId?Object(je.jsx)("span",{className:K.error,children:z.educationId}):""]})})]})]})})]}),Object(je.jsxs)("div",{className:"card",children:[Object(je.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(je.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(je.jsxs)("div",{className:"card-body",children:[Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Phone Number ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(Tt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:a.phoneNumber,onChange:e=>{$e(e,"phoneNumber")}}),""!==z.phoneNumber?Object(je.jsx)("span",{className:K.error,children:z.phoneNumber}):""]})}),Object(je.jsx)("div",{className:"form-group col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Alt. Phone Number"}),Object(je.jsx)(Tt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:a.altPhonenumber,masks:{ng:"...-...-....",at:"(....) ...-...."},onChange:e=>{$e(e,"altPhonenumber")}})]})}),Object(je.jsx)("div",{className:"form-group col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Email"}),Object(je.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:ze,value:a.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0})]})})]}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Country ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:a.countryId,disabled:!0,children:[Object(je.jsx)("option",{value:"",children:"Select"}),B.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==z.countryId?Object(je.jsx)("span",{className:K.error,children:z.countryId}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["State ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:a.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:e=>{const t=e.target.value;e.target.value&&L(Object(O.a)(Object(O.a)({},z),{},{stateId:""})),c(Object(O.a)(Object(O.a)({},a),{},{stateId:e.target.value})),x.a.get("".concat(v,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{F(e.data)})).catch((e=>{}))},children:[Object(je.jsx)("option",{value:"",children:"Select"}),k.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==z.stateId?Object(je.jsx)("span",{className:K.error,children:z.stateId}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Province/District/LGA"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:a.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ze,children:[Object(je.jsx)("option",{value:"",children:"Select"}),M.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==z.district?Object(je.jsx)("span",{className:K.error,children:z.district}):""]})})]}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Street Address"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:a.address,onChange:ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==z.address?Object(je.jsx)("span",{className:K.error,children:z.address}):""]})}),Object(je.jsx)("div",{className:"form-group  col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Landmark"}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",value:a.landmark,onChange:ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(je.jsxs)("div",{className:"card",children:[Object(je.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(je.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(je.jsxs)("div",{className:"card-body",children:[Object(je.jsxs)("div",{className:"row",children:[d&&d.length>0&&Object(je.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(je.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(je.jsx)("thead",{className:"mb-3",children:Object(je.jsxs)("tr",{children:[Object(je.jsx)("th",{children:"Relationship Type"}),Object(je.jsx)("th",{children:"Name"}),Object(je.jsx)("th",{children:"Phone"}),Object(je.jsx)("th",{children:"Address"}),Object(je.jsx)("th",{children:"Actions"})]})}),Object(je.jsx)("tbody",{className:"mb-3",children:d.map(((e,t)=>Object(je.jsxs)("tr",{className:"mb-3",children:[Object(je.jsx)("td",{children:Le(e.relationshipId)}),Object(je.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(je.jsx)("td",{children:e.phone}),Object(je.jsx)("td",{children:e.address}),Object(je.jsxs)("td",{children:[Object(je.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:()=>((e,t)=>{l(e),T(!0),d.splice(t,1)})(e,t),children:Object(je.jsx)(va.a,{icon:"edit"})}),"\xa0\xa0",Object(je.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:e=>(e=>{d.splice(e,1),j([...d])})(t),children:Object(je.jsx)(va.a,{icon:"trash"})})]})]},e.index)))})]})}),Object(je.jsx)("div",{className:"col-xl-12 col-lg-12",children:N&&Object(je.jsx)("div",{className:"card",children:Object(je.jsxs)("div",{className:"card-body",children:[Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{for:"relationshipType",children:["Relationship Type"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:i.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ve,children:[Object(je.jsx)("option",{value:"",children:"Select"}),E.map(((e,t)=>Object(je.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==z.relationshipId?Object(je.jsx)("span",{className:K.error,children:z.relationshipId}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{for:"cfirstName",children:["First Name"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:i.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ve}),""!==z.firstName?Object(je.jsx)("span",{className:K.error,children:z.firstName}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Middle Name"}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:i.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ve})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Last Name"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:i.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ve}),""!==z.lastName?Object(je.jsx)("span",{className:K.error,children:z.lastName}):""]})})]}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(je.jsx)(Tt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:i.phone,masks:{ng:"...-...-....",at:"(....) ...-...."},id:"phone",onChange:e=>{((e,t)=>{l(Object(O.a)(Object(O.a)({},i),{},{[t]:e.slice(0,10)}))})(e,"phone")}}),""!==z.phone?Object(je.jsx)("span",{className:K.error,children:z.phone}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"contactEmail",children:"Email"}),Object(je.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",value:i.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ve,required:!0})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"contactAddress",children:"Address"}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:i.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ve})]})})]}),Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"col-1",children:Object(je.jsx)($.a,{type:"button",variant:"contained",color:"primary",className:K.button,onClick:e=>{(()=>{let e=Object(O.a)({},z);return e.firstName=i.firstName?"":"First Name is required",e.lastName=i.lastName?"":"Last Name  is required.",e.phone=i.phone?"":"Phone Number  is required.",e.relationshipId=i.relationshipId?"":"Relationship Type is required.",L(Object(O.a)({},e)),Object.values(e).every((e=>""==e))})()&&(j([...d,i]),l({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}))},children:"Add"})}),Object(je.jsx)("div",{className:"col-1",children:Object(je.jsx)($.a,{type:"button",variant:"contained",color:"secondary",className:K.button,onClick:()=>{T(!1)},children:"Cancel"})})]})]})})})]}),Object(je.jsx)("div",{className:"row"}),Object(je.jsx)($.a,{type:"button",variant:"contained",color:"primary",className:K.button,startIcon:Object(je.jsx)(Ta.a,{}),onClick:()=>{T(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),t.showANC&&Object(je.jsxs)("div",{className:"card",children:[Object(je.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(je.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"ANC Enrollment"})}),Object(je.jsx)("div",{className:"card-body",children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"ANC Setting"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"ancSetting",id:"ancSetting",onChange:We,value:ee.ancSetting,children:[Object(je.jsx)("option",{value:"",children:"Select"}),ye.length>0&&ye.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display})))]})})]})}),ee.ancSetting&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"ENROLLMENT_SETTING_COMMUNITY"===ee.ancSetting?"Community Setting":"Facility Setting"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"communitySetting",id:"communitySetting",onChange:Ze,value:ee.communitySetting,children:[Object(je.jsx)("option",{value:"",children:"Select"}),"ENROLLMENT_SETTING_COMMUNITY"===ee.ancSetting?Object(je.jsx)(je.Fragment,{children:Te.length>0&&Te.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display})))}):Object(je.jsx)("option",{value:"PMTCT (ANC1 Only)",children:"PMTCT (ANC1 Only)"})]})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["ANC No ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"ancNo",id:"ancNo",onChange:We,value:ee.ancNo})}),""!==z.ancNo?Object(je.jsx)("span",{className:K.error,children:z.ancNo}):"",!0===Oe?Object(je.jsx)("span",{className:K.error,children:"ANC number already exist"}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date of Enrollment"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"firstAncDate",id:"firstAncDate",onChange:Ze,value:ee.firstAncDate,min:a.dateOfRegistration,max:te(new Date).format("YYYY-MM-DD")})}),""!==z.firstAncDate?Object(je.jsx)("span",{className:K.error,children:z.firstAncDate}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Parity ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"number",name:"parity",id:"parity",onChange:Ze,value:ee.parity,min:"0"})}),""!==z.parity?Object(je.jsx)("span",{className:K.error,children:z.parity}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Gravida ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"number",name:"gravida",id:"gravida",onChange:Ze,value:ee.gravida,min:ee.parity})}),""!==z.gravida?Object(je.jsx)("span",{className:K.error,children:z.gravida}):"",ee.gravida<ee.parity?Object(je.jsx)("span",{className:K.error,children:"Gravida should not be less Parity"}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date Of Last Menstrual Period"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"lmp",id:"lmp",onChange:Ze,value:ee.lmp,max:ee.firstAncDate?ee.firstAncDate:te(new Date).format("YYYY-MM-DD")})}),""!==z.lmp?Object(je.jsx)("span",{className:K.error,children:z.lmp}):"",0===ee.gaweeks?Object(je.jsx)("span",{className:K.error,children:"Invalid date "}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Gestational Age (Weeks)"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"number",name:"gaweeks",id:"gaweeks",onChange:Ze,value:ee.gaweeks,disabled:!0})}),""!==z.gaweeks?Object(je.jsx)("span",{className:K.error,children:z.gaweeks}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Tested for syphilis"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"testedSyphilis",id:"testedSyphilis",onChange:Ze,value:ee.testedSyphilis,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==z.testedSyphilis?Object(je.jsx)("span",{className:K.error,children:z.testedSyphilis}):""]})}),"Yes"===ee.testedSyphilis&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Syphilis test result"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"testResultSyphilis",id:"testResultSyphilis",onChange:Ze,value:ee.testResultSyphilis,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==z.testResultSyphilis?Object(je.jsx)("span",{className:K.error,children:z.testResultSyphilis}):""]})}),"Yes"===ee.testedSyphilis&&"Positive"===ee.testResultSyphilis&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Treated for syphilis (penicillin)"," "]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"treatedSyphilis",id:"treatedSyphilis",onChange:Ze,value:ee.encounterDate,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==z.treatedSyphilis?Object(je.jsx)("span",{className:K.error,children:z.treatedSyphilis}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Referred Syphilis +ve client "}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"referredSyphilisTreatment",id:"referredSyphilisTreatment",onChange:Ze,value:ee.referredSyphilisTreatment,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==z.referredSyphilisTreatment?Object(je.jsx)("span",{className:K.error,children:z.referredSyphilisTreatment}):""]})})]})]}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Tested for Hepatitis B",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"testedHepatitisB",id:"testedHepatitisB",onChange:Ze,value:ee.testedHepatitisB,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})}),"Yes"===ee.testedHepatitisB&&Object(je.jsxs)(je.Fragment,{children:[" ",Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date Test Done"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfHepatitisB",id:"dateOfHepatitisB",onChange:Ze,value:ee.dateOfHepatitisB,min:a.dateOfRegistration,max:te(new Date).format("YYYY-MM-DD")})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Hepatitis B test result"," "]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"hepatitisB",id:"hepatitisB",onChange:Ze,value:ee.hepatitisB,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"})]})})]})}),"Positive"===ee.hepatitisB&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Treated for Hepatitis B"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"treatedHepatitisB",id:"treatedHepatitisB",onChange:Ze,value:ee.treatedHepatitisB,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Referred Hepatitis B +ve client"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"referredHepatitisB",id:"referredHepatitisB",onChange:Ze,value:ee.referredHepatitisB,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})})]})]}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Tested for Hepatitis C"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"testedHepatitisC",id:"testedHepatitisC",onChange:Ze,value:ee.testedHepatitisC,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})}),"Yes"===ee.testedHepatitisC&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date Test Done"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfHepatitisC",id:"dateOfHepatitisC",onChange:Ze,value:ee.dateOfHepatitisC,min:a.dateOfRegistration,max:te(new Date).format("YYYY-MM-DD")})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Hepatitis C test result"," "]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"hepatitisC",id:"hepatitisC",onChange:Ze,value:ee.hepatitisC,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"})]})})]})}),"Positive"===ee.hepatitisC&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Treated for Hepatitis C"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"treatedHepatitisC",id:"treatedHepatitisC",onChange:Ze,value:ee.treatedHepatitisC,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Referred Hepatitis C +ve client"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"referredHepatitisC",id:"referredHepatitisC",onChange:Ze,value:ee.referredHepatitisC,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})})]})]}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Previously Known HIV Status"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"previouslyKnownHivStatus",id:"previouslyKnownHivStatus",onChange:Ze,value:ee.previouslyKnownHivStatus,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==z.previouslyKnownHivStatus?Object(je.jsx)("span",{className:K.error,children:z.previouslyKnownHivStatus}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["HIV Status ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"staticHivStatus",id:"staticHivStatus",onChange:Ze,value:ee.staticHivStatus,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"}),Object(je.jsx)("option",{value:"Unknown",children:"Unknown"})]})}),""!==z.staticHivStatus?Object(je.jsx)("span",{className:K.error,children:z.staticHivStatus}):""]})})]})})]}),!t.showANC&&Object(je.jsx)(ht,{newRegDate:a.dateOfRegistration,getPMTCTInfo:e=>(fe(e),e),patientObj:{},showANC:t.showANC,setActiveContent:G,activeContent:U,hideUpdateButton:!1,ancEntryType:!1}),b?Object(je.jsx)(lt.a,{}):"",Object(je.jsx)("br",{}),Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:m||ue,className:K.button,startIcon:Object(je.jsx)(Qe.a,{}),onClick:async e=>{if(e.preventDefault(),Ie.firstName=a.firstName?"":"First Name is required",Ie.hospitalNumber=a.hospitalNumber?"":"Hospital Number  is required.",Ie.lastName=a.lastName?"":"Last Name  is required.",Ie.sexId=a.sexId?"":"Gender is required.",Ie.dateOfRegistration=a.dateOfRegistration?"":"Date of Registration is required.",Ie.educationId=a.educationId?"":"Education is required.",Ie.address=a.address?"":"Address is required.",Ie.phoneNumber=a.phoneNumber?"":"Phone Number  is required.",Ie.countryId=a.countryId?"":"Country is required.",Ie.stateId=a.stateId?"":"State is required.",Ie.district=a.district?"":"Province/LGA is required.",Ie.dob=a.dateOfRegistration?"":"Date is required",t.showANC&&(Ie.gaweeks=ee.gaweeks?"":"This field is required",Ie.gravida=ee.gravida?"":"This field is required","Positive"===ee.testResultSyphilis&&(Ie.referredSyphilisTreatment=ee.referredSyphilisTreatment?"":"This field is required"),Ie.lmp=ee.lmp?"":"This field is required",Ie.parity=""!==ee.parity?"":"This field is required",Ie.testedSyphilis=ee.testedSyphilis?"":"This field is required","Positive"===ee.testResultSyphilis&&(Ie.treatedSyphilis=ee.treatedSyphilis?"":"This field is required"),"Yes"===ee.testedSyphilis&&(Ie.testResultSyphilis=ee.testResultSyphilis?"":"This field is required"),Ie.staticHivStatus=ee.staticHivStatus?"":"This field is required",Ie.ancNo=ee.ancNo?"":"This field is required",Ie.previouslyKnownHivStatus=ee.previouslyKnownHivStatus?"":"This field is required"),L(Object(O.a)({},Ie)),Object.values(Ie).every((e=>""==e)))if(a.age>4){h(!0);let e=[];d&&d.length>0&&d.map((t=>{const a={address:{line:[t.address]},contactPoint:{type:"phone",value:t.phone},firstName:t.firstName,fullName:t.firstName+" "+t.middleName+" "+t.lastName,relationshipId:t.relationshipId,surname:t.lastName,otherName:t.middleName};e.push(a)}));if(t.showANC)try{const t={active:!0,address:[{city:a.address,countryId:a.countryId,district:a.district,line:[a.landmark],organisationUnitId:0,postalCode:"",stateId:a.stateId}],contact:e,contactPoint:[],dateOfBirth:a.dob,deceased:!1,deceasedDateTime:null,firstName:a.firstName,genderId:a.sexId,sexId:a.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:a.hospitalNumber}],otherName:a.middleName,maritalStatusId:a.maritalStatusId,surname:a.lastName,educationId:a.educationId,employmentStatusId:a.employmentStatusId,dateOfRegistration:a.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=a.dateOfBirth,ninNumber:a.ninNumber},s={type:"phone",value:a.phoneNumber};if(a.email){const e={type:"email",value:a.email};t.contactPoint.push(e)}if(a.altPhonenumber){const e={type:"altphone",value:a.altPhonenumber};t.contactPoint.push(e)}t.contactPoint.push(s),t.id=Re,ee.personDto=t;const r=await x.a.post("".concat(v,"pmtct/anc/anc-new-registration"),ee,{headers:{Authorization:"Bearer ".concat(g)}});o.b.success("Patient Register successful",{position:o.b.POSITION.BOTTOM_CENTER}),X.push({pathname:"/patient-history",state:{patientObj:r.data,postValue:De.postValue,entrypointValue:De.entrypointValue}}),h(!1)}catch(f){if(h(!1),f.response&&f.response.data){let e=f.response.data.apierror&&""!==f.response.data.apierror.message?f.response.data.apierror.message:"Something went wrong, please try again";f.response.data.apierror&&""!==f.response.data.apierror.message&&f.response.data.apierror&&""!==f.response.data.apierror.subErrors[0].message?o.b.error(f.response.data.apierror.message+" : "+f.response.data.apierror.subErrors[0].field+" "+f.response.data.apierror.subErrors[0].message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(e,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}else try{const t={active:!0,address:[{city:a.address,countryId:a.countryId,district:a.district,line:[a.landmark],organisationUnitId:0,postalCode:"",stateId:a.stateId}],contact:e,contactPoint:[],dateOfBirth:a.dob,deceased:!1,deceasedDateTime:null,firstName:a.firstName,genderId:a.sexId,sexId:a.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:a.hospitalNumber}],otherName:a.middleName,maritalStatusId:a.maritalStatusId,surname:a.lastName,educationId:a.educationId,employmentStatusId:a.employmentStatusId,dateOfRegistration:a.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=a.dateOfBirth,ninNumber:a.ninNumber},s={type:"phone",value:a.phoneNumber};if(a.email){const e={type:"email",value:a.email};t.contactPoint.push(e)}if(a.altPhonenumber){const e={type:"altphone",value:a.altPhonenumber};t.contactPoint.push(e)}t.contactPoint.push(s),t.id=Re,se.personDto=t;let r=Object(O.a)(Object(O.a)({},ge),{},{personDto:t,entryPoint:De.entrypointValue});const c=await x.a.post("".concat(v,"pmtct/anc/pmtct-enrollment"),r,{headers:{Authorization:"Bearer ".concat(g)}});o.b.success("Patient Register successful",{position:o.b.POSITION.BOTTOM_CENTER}),X.push({pathname:"/patient-history",state:{patientObj:c.data,postValue:De.postValue,entrypointValue:De.entrypointValue}}),h(!1)}catch(f){if(h(!1),f.response&&f.response.data){var s,r,c,i,n,l,j,b,m,u,p;let e=f.response.data.apierror&&""!==f.response.data.apierror.message?f.response.data.apierror.message:"Something went wrong, please try again";null!==f&&void 0!==f&&null!==(s=f.response)&&void 0!==s&&null!==(r=s.data)&&void 0!==r&&r.apierror&&""!==(null===f||void 0===f||null===(c=f.response)||void 0===c||null===(i=c.data)||void 0===i||null===(n=i.apierror)||void 0===n?void 0:n.message)&&null!==f&&void 0!==f&&null!==(l=f.response)&&void 0!==l&&null!==(j=l.data)&&void 0!==j&&j.apierror&&""!==(null===f||void 0===f||null===(b=f.response)||void 0===b||null===(m=b.data)||void 0===m||null===(u=m.apierror)||void 0===u||null===(p=u.subErrors[0])||void 0===p?void 0:p.message)?o.b.error(f.response.data.apierror.message+" : "+f.response.data.apierror.subErrors[0].field+" "+f.response.data.apierror.subErrors[0].message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(e,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}}else window.scrollTo(0,0)},disabled:b,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:b?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(je.jsx)($.a,{variant:"contained",className:K.button,startIcon:Object(je.jsx)(mt.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>{X.push({pathname:"/"})},children:Object(je.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})}),Object(je.jsxs)(ne.a,{show:xe,toggle:Ce,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(je.jsx)(ne.a.Header,{children:Object(je.jsx)(ne.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(je.jsx)(ne.a.Body,{children:Object(je.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(je.jsx)(ne.a.Footer,{children:Object(je.jsx)($.a,{onClick:Ce,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})};ga.b.add(fa.a,fa.b,fa.c,fa.d);const Da=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var Ra=e=>{var t,a;const[c,i]=Object(s.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",landmark:"",sexId:"",ninNumber:""}),l=Da(),d=Object(n.g)(),j=Object(n.h)().state;let b=null,h={};b=j?j.patientId:null,h=j?j.patientObj:{};const[m,u]=Object(s.useState)(!1),[p,f]=Object(s.useState)(!1),[N,T]=Object(s.useState)(!0),[S,C]=Object(s.useState)([]),[D,R]=Object(s.useState)(!1),[I,w]=Object(s.useState)({}),[A,P]=Object(s.useState)({route:"recent-history",id:"",activeTab:"home",actionType:"",obj:{}}),E=e.location&&e.location.state?e.location.state.user:null,[H,B]=Object(s.useState)([]),[_,k]=Object(s.useState)([]),[Y,M]=Object(s.useState)({ancSetting:"",communitySetting:"",ancNo:"",gaweeks:"",gravida:"",expectedDeliveryDate:"",firstAncDate:"",lmp:"",parity:"",person_uuid:"",hivDiognosicTime:"",referredSyphilisTreatment:"",testResultSyphilis:"",testedSyphilis:"",treatedSyphilis:"",personDto:{},pmtctHtsInfo:{},syphilisInfo:{},partnerNotification:{},staticHivStatus:null!==(t=h)&&void 0!==t&&t.dynamicHivStatus?null===(a=h)||void 0===a?void 0:a.dynamicHivStatus:"",previouslyKnownHivStatus:"",dateOfHepatitisB:"",hepatitisB:"",testedHepatitisB:"",treatedHepatitisB:"",referredHepatitisB:"",dateOfHepatitisC:"",hepatitisC:"",testedHepatitisC:"",treatedHepatitisC:"",referredHepatitisC:""}),[F,z]=Object(s.useState)([]),[L,V]=r.a.useState(!1),[W,U]=r.a.useState(!1),[G,q]=Object(s.useState)([]);Object(s.useEffect)((()=>{var e,t,a,s;if(X(),Q(),ee(),Z(),re(),h){const e=h.hospitalNumber;c.dob=h.dateOfBirth,c.firstName=h.firstName,c.dateOfRegistration=h.dateOfRegistration,c.middleName=h.otherName,c.lastName=h.surname,c.dateOfRegistration=h.dateOfRegistration,c.hospitalNumber=e,M(Object(O.a)(Object(O.a)({},Y),{},{uniqueId:e||""})),c.genderId=h&&h.gender?h.gender.id:null;const t=ae(te(h.dateOfBirth).format("DD-MM-YYYY"));c.age=t,Y.personId=h.id,c.ninNumber=h.ninNumber}(c.dateOfRegistration<c.dob&&alert("Date of registration can not be earlier than date of birth"),null!==(e=h)&&void 0!==e&&e.dynamicHivStatus)&&J(null===(t=h)||void 0===t||null===(a=t.identifier)||void 0===a||null===(s=a.identifier[0])||void 0===s?void 0:s.value,h.uuid);K()}),[h,b,c.dateOfRegistration]);const K=()=>{x.a.get("".concat(v,"application-codesets/v2/SOURCE_REFERRAL_PMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{q(e.data)})).catch((e=>{}))},X=e=>{x.a.get("".concat(v,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{B(e.data)})).catch((e=>{}))},Q=e=>{x.a.get("".concat(v,"application-codesets/v2/TEST_SETTING_CPMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{k(e.data)})).catch((e=>{}))},J=(e,t)=>{x.a.get("".concat(v,"pmtct/anc/hiv-status?hospitalNumber=").concat(e,"&personUuid=").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{e.data?(M(Object(O.a)(Object(O.a)({},Y),{},{staticHivStatus:e.data,previouslyKnownHivStatus:"Yes"})),V(!0)):Y.staticHivStatus=h&&"Positive"===h.dynamicHivStatus?"Positive":""})).catch((e=>{}))},Z=()=>{x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{let t="";"female"!==h.sex&&"Female"!==h.sex&&"FEMALE"!==h.sex||(t="Female"),"Male"!==h.sex&&"male"!==h.sex&&"MALE"!==h.sex||(t="Male");const a=e.data.find((e=>e.display===t));c.sexId=a.display})).catch((e=>{}))},ee=Object(s.useCallback)((async()=>{try{const e=await x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}});C(e.data)}catch(e){}}),[]),ae=e=>{var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),c=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&c--,0===c?i+" month(s)":c},se=e=>{w(Object(O.a)(Object(O.a)({},I),{},{[e.target.name]:""})),i(Object(O.a)(Object(O.a)({},c),{},{[e.target.name]:e.target.value}))},re=()=>{x.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{z(e.data)})).catch((e=>{}))},ie=e=>{if(w(Object(O.a)(Object(O.a)({},I),{},{[e.target.name]:""})),"ancNo"===e.target.name&&""!==e.target.value){async function t(){const t=e.target.value,a={ancNo:t},s=await x.a.post("".concat(v,"pmtct/anc/exist/anc-number?ancNo=").concat(t),a,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});!0===s.data?(o.b.error("ANC number already exist"),R(s.data)):R(!1)}t()}if("firstAncDate"===e.target.name&&""!==e.target.value&&""!==Y.lmp){let a=jt(e.target.value,Y.lmp);a>0?(Y.gaweeks=a,M(Object(O.a)(Object(O.a)({},Y),{},{[e.target.name]:e.target.value}))):(o.b.error("Please select a validate date"),M(Object(O.a)(Object(O.a)({},Y),{},{[e.target.name]:""})))}if("lmp"===e.target.name&&""!==e.target.value){let s=jt(Y.firstAncDate,e.target.value);s>0?(Y.gaweeks=s,M(Object(O.a)(Object(O.a)({},Y),{},{[e.target.name]:e.target.value}))):(o.b.error("Please select a validate date"),M(Object(O.a)(Object(O.a)({},Y),{},{[e.target.name]:e.target.value})))}"parity"===e.target.name&&""!==e.target.value&&e.target.value<0||"gravida"===e.target.name&&""!==e.target.value&&e.target.value<=0||("testedSyphilis"===e.target.name&&""!==e.target.value&&"Yes"===e.target.value&&(Y.testResultSyphilis="",Y.referredSyphilisTreatment="",Y.treatedSyphilis="",M(Object(O.a)(Object(O.a)({},Y),{},{testResultSyphilis:""})),M(Object(O.a)(Object(O.a)({},Y),{},{referredSyphilisTreatment:""})),M(Object(O.a)(Object(O.a)({},Y),{},{treatedSyphilis:""})),M(Object(O.a)(Object(O.a)({},Y),{},{[e.target.name]:e.target.value}))),"testResultSyphilis"===e.target.name&&""!==e.target.value&&"Positive"===e.target.value&&(Y.treatedSyphilis="",Y.referredSyphilisTreatment="",M(Object(O.a)(Object(O.a)({},Y),{},{treatedSyphilis:""})),M(Object(O.a)(Object(O.a)({},Y),{},{referredSyphilisTreatment:""})),M(Object(O.a)(Object(O.a)({},Y),{},{[e.target.name]:e.target.value}))),"ancSetting"===e.target.name?M(Object(O.a)(Object(O.a)({},Y),{},{[e.target.name]:e.target.value,communitySetting:""})):"testedHepatitisB"===e.target.name?M(Object(O.a)(Object(O.a)({},Y),{},{[e.target.name]:e.target.value,dateOfHepatitisB:"",hepatitisB:""})):"hepatitisB"===e.target.name?M(Object(O.a)(Object(O.a)({},Y),{},{[e.target.name]:e.target.value,treatedHepatitisB:"",referredHepatitisB:""})):"testedHepatitisC"===e.target.name?M(Object(O.a)(Object(O.a)({},Y),{},{[e.target.name]:e.target.value,dateOfHepatitisC:"",hepatitisC:""})):"hepatitisC"===e.target.name?M(Object(O.a)(Object(O.a)({},Y),{},{[e.target.name]:e.target.value,treatedHepatitisC:"",referredHepatitisC:""})):M(Object(O.a)(Object(O.a)({},Y),{},{[e.target.name]:e.target.value})))};return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(je.jsx)("ol",{className:"breadcrumb",children:Object(je.jsx)("li",{className:"breadcrumb-item active",children:Object(je.jsxs)("h4",{children:[" ",Object(je.jsx)(y.b,{to:"/",children:"PMTCT /"})," Patient Enrollment"]})})})}),Object(je.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(je.jsx)(ft.a,{className:l.root,children:Object(je.jsxs)(ya.a,{children:[Object(je.jsx)(y.b,{to:{pathname:"/",state:"users"},children:Object(je.jsx)($.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(je.jsx)(ce.a,{}),children:Object(je.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back"})})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(je.jsxs)(xa.a,{children:[Object(je.jsxs)("div",{className:"card",children:[Object(je.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(je.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===E?"Basic Information":"Edit User Information"})}),Object(je.jsx)("div",{className:"card-body",children:Object(je.jsx)("div",{className:"basic-form",children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"firstName",children:"Name"}),Object(je.jsx)(Ke.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:null!==c&&void 0!==c&&c.fullname?null===c||void 0===c?void 0:c.fullname:"".concat(c.firstName," ").concat(c.lastName),onChange:se,style:{border:"none",backgroundColor:"transparent",outline:"none"}}),""!==I.firstName?Object(je.jsx)("span",{className:l.error,children:I.firstName}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"patientId",children:"Hospital Number "}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:c.hospitalNumber,onChange:se,style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})}),Object(je.jsx)("div",{className:"form-group  col-md-2",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Sex "}),Object(je.jsx)(Ke.a,{className:"form-control",name:"sexId",id:"sexId",onChange:se,value:c.sexId,style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-2",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Age"}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"age",id:"age",value:c.age,disabled:N,onChange:e=>{const t=e.target.value.replace(/\D/g,"");if(!N&&t){""!==t&&t>=60&&U(!W),f(t<=1);const e=new Date;e.setDate(15),e.setMonth(5);const a=te(e.toISOString()).add(-1*t,"years");c.dob=te(a).format("YYYY-MM-DD")}i(Object(O.a)(Object(O.a)({},c),{},{age:t}))},style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})})]})})})]}),j.showANC?Object(je.jsxs)("div",{className:"card",children:[Object(je.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(je.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"ANC Enrollment"})}),Object(je.jsx)("div",{className:"card-body",children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"ANC Setting"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"ancSetting",id:"encounterDate",onChange:ie,value:Y.ancSetting,children:[Object(je.jsx)("option",{value:"",children:"Select"}),H.length>0&&H.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display})))]})})]})}),Y.ancSetting&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"ENROLLMENT_SETTING_COMMUNITY"===Y.ancSetting?"Community Setting":"Facility Setting"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"communitySetting",id:"communitySetting",onChange:ie,value:Y.communitySetting,children:[Object(je.jsx)("option",{value:"",children:"Select"}),"ENROLLMENT_SETTING_COMMUNITY"===Y.ancSetting?Object(je.jsx)(je.Fragment,{children:_.length>0&&_.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display})))}):Object(je.jsx)("option",{value:"PMTCT (ANC1 Only)",children:"PMTCT (ANC1 Only)"})]})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["ANC No ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"ancNo",id:"ancNo",onChange:ie,value:Y.ancNo})}),""!==I.ancNo?Object(je.jsx)("span",{className:l.error,children:I.ancNo}):"",!0===D?Object(je.jsx)("span",{className:l.error,children:"ANC number already exist"}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date of Enrollment"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"firstAncDate",id:"firstAncDate",onChange:ie,value:Y.firstAncDate,min:h.dateOfRegistration,max:te(new Date).format("YYYY-MM-DD")})}),""!==I.firstAncDate?Object(je.jsx)("span",{className:l.error,children:I.firstAncDate}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Parity ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"number",name:"parity",id:"parity",onChange:ie,value:Y.parity,min:0})}),""!==I.parity?Object(je.jsx)("span",{className:l.error,children:I.parity}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Gravida ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"number",name:"gravida",id:"gragravidavida",onChange:ie,value:Y.gravida,min:"1"})}),""!==I.gravida?Object(je.jsx)("span",{className:l.error,children:I.gravida}):"",Y.gravida<Y.parity?Object(je.jsx)("span",{className:l.error,children:"Gravida should not be less Parity"}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date Of Last Menstrual Period"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"lmp",id:"lmp",onChange:ie,value:Y.lmp,max:Y.firstAncDate?Y.firstAncDate:te(new Date).format("YYYY-MM-DD")})}),""!==I.lmp?Object(je.jsx)("span",{className:l.error,children:I.lmp}):"",0===Y.gaweeks?Object(je.jsx)("span",{className:l.error,children:"Invalid date "}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Gestational Age (Weeks)"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"gaweeks",id:"gaweeks",onChange:ie,value:Y.gaweeks,disabled:!0})}),""!==I.gaweeks?Object(je.jsx)("span",{className:l.error,children:I.gaweeks}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Tested for syphilis"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"testedSyphilis",id:"testedSyphilis",onChange:ie,value:Y.testedSyphilis,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==I.testedSyphilis?Object(je.jsx)("span",{className:l.error,children:I.testedSyphilis}):""]})}),"Yes"===Y.testedSyphilis&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Syphilis test result"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"testResultSyphilis",id:"testResultSyphilis",onChange:ie,value:Y.testResultSyphilis,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==I.testResultSyphilis?Object(je.jsx)("span",{className:l.error,children:I.testResultSyphilis}):""]})}),"Yes"===Y.testedSyphilis&&"Positive"===Y.testResultSyphilis&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Treated for syphilis (penicillin)"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"treatedSyphilis",id:"treatedSyphilis",onChange:ie,value:Y.treatedSyphilis,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==I.treatedSyphilis?Object(je.jsx)("span",{className:l.error,children:I.treatedSyphilis}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Referred Syphilis +ve client"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"referredSyphilisTreatment",id:"referredSyphilisTreatment",onChange:ie,value:Y.referredSyphilisTreatment,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==I.referredSyphilisTreatment?Object(je.jsx)("span",{className:l.error,children:I.referredSyphilisTreatment}):""]})})]})]}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Tested for Hepatitis B",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"testedHepatitisB",id:"testedHepatitisB",onChange:ie,value:Y.testedHepatitisB,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})}),"Yes"===Y.testedHepatitisB&&Object(je.jsxs)(je.Fragment,{children:[" ",Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date Test Done"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfHepatitisB",id:"dateOfHepatitisB",onChange:ie,value:Y.dateOfHepatitisB,min:h.dateOfRegistration,max:te(new Date).format("YYYY-MM-DD")})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Hepatitis B test result"," "]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"hepatitisB",id:"hepatitisB",onChange:ie,value:Y.hepatitisB,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"})]})})]})}),"Positive"===Y.hepatitisB&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Treated for Hepatitis B"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"treatedHepatitisB",id:"treatedHepatitisB",onChange:ie,value:Y.treatedHepatitisB,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Referred Hepatitis B +ve client"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"referredHepatitisB",id:"referredHepatitisB",onChange:ie,value:Y.referredHepatitisB,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})})]})]}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Tested for Hepatitis C"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"testedHepatitisC",id:"testedHepatitisC",onChange:ie,value:Y.testedHepatitisC,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})}),"Yes"===Y.testedHepatitisC&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date Test Done"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfHepatitisC",id:"dateOfHepatitisC",onChange:ie,value:Y.dateOfHepatitisC,min:h.dateOfRegistration,max:te(new Date).format("YYYY-MM-DD")})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Hepatitis C test result"," "]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"hepatitisC",id:"hepatitisC",onChange:ie,value:Y.hepatitisC,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"})]})})]})}),"Positive"===Y.hepatitisC&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Treated for Hepatitis C"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"treatedHepatitisC",id:"treatedHepatitisC",onChange:ie,value:Y.treatedHepatitisC,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Referred Hepatitis C +ve client"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"referredHepatitisC",id:"referredHepatitisC",onChange:ie,value:Y.referredHepatitisC,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})})]})]}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Previously Known HIV Status"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"previouslyKnownHivStatus",id:"previouslyKnownHivStatus",onChange:ie,disabled:!!L,value:Y.previouslyKnownHivStatus,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==I.previouslyKnownHivStatus?Object(je.jsx)("span",{className:l.error,children:I.previouslyKnownHivStatus}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["HIV Status ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"staticHivStatus",id:"staticHivStatus",onChange:ie,value:Y.staticHivStatus,disabled:!!L||"Positive"===h.dynamicHivStatus,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"}),Object(je.jsx)("option",{value:"Unknown",children:"Unknown"})]})}),""!==I.staticHivStatus?Object(je.jsx)("span",{className:l.error,children:I.staticHivStatus}):""]})})]})})]}):Object(je.jsx)(ht,{newRegDate:"",patientObj:h,setActiveContent:P,activeContent:A,hideUpdateButton:!0,entrypointValue:j.entrypointValue,ancEntryType:!!h.ancNo,handleRoute:e=>{d.push({pathname:"/patient-history",state:{patientObj:e,postValue:"L&D"}})}}),m?Object(je.jsx)(lt.a,{}):"",Object(je.jsx)("br",{}),j.showANC&&Object(je.jsxs)(je.Fragment,{children:[Y.gaweeks>0&&!0!==D&&Y.gravida>=Y.parity&&Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",className:l.button,startIcon:Object(je.jsx)(Qe.a,{}),hidden:D,disabled:p,onClick:async e=>{if(e.preventDefault(),(()=>{let e=Object(O.a)({},I);return e.gaweeks=Y.gaweeks?"":"This field is required",e.gravida=Y.gravida?"":"This field is required","Positive"===Y.testResultSyphilis&&(e.referredSyphilisTreatment=Y.referredSyphilisTreatment?"":"This field is required"),e.lmp=Y.lmp?"":"This field is required",e.parity=""!==Y.parity?"":"This field is required",e.testedSyphilis=Y.testedSyphilis?"":"This field is required","Positive"===Y.testResultSyphilis&&(e.treatedSyphilis=Y.treatedSyphilis?"":"This field is required"),"Yes"===Y.testedSyphilis&&(e.testResultSyphilis=Y.testResultSyphilis?"":"This field is required"),e.previouslyKnownHivStatus=Y.previouslyKnownHivStatus?"":"This field is required",e.staticHivStatus=Y.staticHivStatus?"":"This field is required",e.ancNo=Y.ancNo?"":"This field is required",w(Object(O.a)({},e)),Object.values(e).every((e=>""===e))})())if(j.showANC)try{Y.entryPoint=j.entrypointValue,Y.person_uuid=h.personUuid;const e=await x.a.post("".concat(v,"pmtct/anc/anc-enrollement"),Y,{headers:{Authorization:"Bearer ".concat(g)}});o.b.success("Patient Register successful",{position:o.b.POSITION.BOTTOM_CENTER}),d.push({pathname:"/patient-history",state:{patientObj:e.data,postValue:j.postValue,entrypointValue:j.entrypointValue}})}catch(t){if(t.response&&t.response.data){let e=t.response.data.apierror&&""!==t.response.data.apierror.message?t.response.data.apierror.message:"Something went wrong, please try again";t.response.data.apierror&&""!==t.response.data.apierror.message&&t.response.data.apierror&&""!==t.response.data.apierror.subErrors[0].message?o.b.error(t.response.data.apierror.message+" : "+t.response.data.apierror.subErrors[0].field+" "+t.response.data.apierror.subErrors[0].message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(e,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}else try{Y.person_uuid=h.personUuid;const e=await x.a.post("".concat(v,"pmtct/anc/pmtct-enrollment"),Y,{headers:{Authorization:"Bearer ".concat(g)}});d.push({pathname:"/patient-history",state:{patientObj:e.data,postValue:j.postValue,entrypointValue:j.entrypointValue}}),o.b.success("Patient Register successful",{position:o.b.POSITION.BOTTOM_CENTER})}catch(t){if(t.response&&t.response.data){let e=t.response.data.apierror&&""!==t.response.data.apierror.message?t.response.data.apierror.message:"Something went wrong, please try again";t.response.data.apierror&&""!==t.response.data.apierror.message&&t.response.data.apierror&&""!==t.response.data.apierror.subErrors[0].message?o.b.error(t.response.data.apierror.message+" : "+t.response.data.apierror.subErrors[0].field+" "+t.response.data.apierror.subErrors[0].message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(e,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}},children:m?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(je.jsx)($.a,{variant:"contained",className:l.button,startIcon:Object(je.jsx)(mt.a,{}),onClick:()=>{d.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(je.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})]})})]})})]})};ga.b.add(fa.a,fa.b,fa.c,fa.d);const Ia=Object(Ne.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var wa=e=>{var t,a,c,i,l;const[d,j]=Object(s.useState)({fullname:"",sex:"",age:"",hospitalNumber:""}),[b,h]=Object(s.useState)(!1),[m,u]=Object(s.useState)(!1),[p,f]=Object(s.useState)(!0),[N,T]=Object(s.useState)([]),[S,C]=Object(s.useState)(!1),[D,R]=Object(s.useState)({}),I=e.location&&e.location.state?e.location.state.user:null,w=Ia(),A=Object(n.g)(),P=Object(n.h)(),[E,H]=Object(s.useState)([]),[B,_]=Object(s.useState)([]),[k,Y]=Object(s.useState)({ancSetting:"",communitySetting:"",ancNo:"",gaweeks:"",gravida:"",expectedDeliveryDate:"",firstAncDate:"",lmp:"",parity:"",person_uuid:"",hivDiognosicTime:"",referredSyphilisTreatment:"",testResultSyphilis:"",testedSyphilis:"",treatedSyphilis:"",personDto:{},pmtctHtsInfo:{},syphilisInfo:{},partnerNotification:{},previouslyKnownHivStatus:"",staticHivStatus:"",testedHepatitisB:"",treatedHepatitisB:"",referredHepatitisB:"",testedHepatitisC:"",treatedHepatitisC:"",referredHepatitisC:"",dateOfHepatitisB:"",hepatitisB:"",dateOfHepatitisC:"",hepatitisC:""}),[M,F]=Object(s.useState)([]),[z,L]=r.a.useState(!1),V=()=>L(!z),W=P.state;let U=null,G=null,q=null,K={};U=W?W.patientId:null,q=W?W.id:null,G=W?W.actionType:null,K=W?W.patientObj:{};const[X,Q]=Object(s.useState)([]),[J,Z]=Object(s.useState)(!1),[ee,ae]=Object(s.useState)([]),[se,re]=Object(s.useState)({});Object(s.useEffect)((()=>{le(),oe(),be(),de(),Oe(),K&&(Z("view"===G),Y(Object(O.a)({},K)),d.fullname=K.fullname,d.age=K.age,d.hospitalNumber=K.hospitalNumber,d.sex=K.sex)}),[K,U,G]),Object(s.useEffect)((()=>{ie(),W.entrypointValue&&ee.map(((e,t)=>{e.code===W.entrypointValue&&re(e)}))}),[]);const ie=()=>{x.a.get("".concat(v,"pmtct/anc/").concat(P.state.id),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{Y(Object(O.a)({},e.data))})).catch((e=>{}))},oe=e=>{x.a.get("".concat(v,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{H(e.data)})).catch((e=>{}))},le=e=>{x.a.get("".concat(v,"application-codesets/v2/TEST_SETTING_CPMTCT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{_(e.data)})).catch((e=>{}))},de=()=>{x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{let t="";"female"!==K.sex&&"Female"!==K.sex&&"FEMALE"!==K.sex||(t="Female"),"Male"!==K.sex&&"male"!==K.sex&&"MALE"!==K.sex||(t="Male");const a=e.data.find((e=>e.display===t));d.sexId=a.display})).catch((e=>{}))},be=Object(s.useCallback)((async()=>{try{const e=await x.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}});T(e.data)}catch(e){}}),[]),he=e=>{R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:""})),j(Object(O.a)(Object(O.a)({},d),{},{[e.target.name]:e.target.value}))},Oe=()=>{x.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((e=>{F(e.data)})).catch((e=>{}))},me=e=>{if(R(Object(O.a)(Object(O.a)({},D),{},{[e.target.name]:""})),"ancNo"===e.target.name&&""!==e.target.value){async function t(){const t=e.target.value,a={ancNo:t},s=await x.a.post("".concat(v,"pmtct/anc/exist/anc-number?ancNo=").concat(t),a,{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});!0===s.data?(o.b.error("ANC number already exist"),C(s.data)):C(!1)}t()}if(!("parity"===e.target.name&&""!==e.target.value&&e.target.value<0)&&!("gravida"===e.target.name&&""!==e.target.value&&e.target.value<=0))if("testedSyphilis"===e.target.name&&""!==e.target.value&&"Yes"===e.target.value&&(k.testResultSyphilis="",k.referredSyphilisTreatment="",k.treatedSyphilis="",Y(Object(O.a)(Object(O.a)({},k),{},{testResultSyphilis:""})),Y(Object(O.a)(Object(O.a)({},k),{},{referredSyphilisTreatment:""})),Y(Object(O.a)(Object(O.a)({},k),{},{treatedSyphilis:""})),Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value}))),"testResultSyphilis"===e.target.name&&""!==e.target.value&&"Positive"===e.target.value&&(k.treatedSyphilis="",k.referredSyphilisTreatment="",Y(Object(O.a)(Object(O.a)({},k),{},{treatedSyphilis:""})),Y(Object(O.a)(Object(O.a)({},k),{},{referredSyphilisTreatment:""})),Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value}))),"ancSetting"===e.target.name)Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value,communitySetting:""}));else if("testedHepatitisB"===e.target.name)Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value,dateOfHepatitisB:"",hepatitisB:""}));else if("hepatitisB"===e.target.name)Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value,treatedHepatitisB:"",referredHepatitisB:""}));else if("testedHepatitisC"===e.target.name)Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value,dateOfHepatitisC:"",hepatitisC:""}));else if("hepatitisC"===e.target.name)Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value,treatedHepatitisC:"",referredHepatitisC:""}));else if("firstAncDate"===e.target.name&&""!==e.target.value&&""!==k.lmp){let a=jt(e.target.value,k.lmp);a>0?(k.gaweeks=a,Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value}))):(o.b.error("Please select a validate date "),Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:""})))}else if("lmp"===e.target.name&&""!==e.target.value){let s=jt(k.firstAncDate,e.target.value);s>0?(k.gaweeks=s,Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value}))):(o.b.error("Please select a validate date"),Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:""})))}else Y(Object(O.a)(Object(O.a)({},k),{},{[e.target.name]:e.target.value}))};return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(je.jsx)("ol",{className:"breadcrumb",children:Object(je.jsx)("li",{className:"breadcrumb-item active",children:Object(je.jsxs)("h4",{children:[" ",Object(je.jsx)(y.b,{to:"/",children:"PMTCT /"})," Patient Enrollment"]})})})}),Object(je.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(je.jsx)(ft.a,{className:w.root,children:Object(je.jsxs)(ya.a,{children:[Object(je.jsx)(y.b,{to:{pathname:"/patient-history",state:{patientObj:K}},children:Object(je.jsx)($.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(je.jsx)(ce.a,{}),children:Object(je.jsxs)("span",{style:{textTransform:"capitalize",color:"#fff"},children:["Back"," "]})})}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(je.jsxs)(xa.a,{children:[Object(je.jsxs)("div",{className:"card",children:[Object(je.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(je.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===I?"Basic Information":"Edit User Information"})}),Object(je.jsx)("div",{className:"card-body",children:Object(je.jsx)("div",{className:"basic-form",children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"firstName",children:"Name"}),Object(je.jsx)(Ke.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:null!==(t=P.state)&&void 0!==t&&null!==(a=t.patientObj)&&void 0!==a&&a.fullName?null===P||void 0===P||null===(c=P.state.patientObj)||void 0===c?void 0:c.fullName:null===P||void 0===P||null===(i=P.state)||void 0===i||null===(l=i.patientObj)||void 0===l?void 0:l.fullname,onChange:he,style:{border:"none",backgroundColor:"transparent",outline:"none"}}),""!==D.firstName?Object(je.jsx)("span",{className:w.error,children:D.firstName}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{for:"patientId",children:"Hospital Number "}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:d.hospitalNumber,onChange:he,style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})}),Object(je.jsx)("div",{className:"form-group  col-md-2",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Sex "}),Object(je.jsx)(Ke.a,{className:"form-control",name:"sexId",id:"sexId",onChange:he,value:d.sex,style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-2",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Age"}),Object(je.jsx)("input",{className:"form-control",type:"text",name:"age",id:"age",value:d.age,disabled:p,onChange:e=>{const t=e.target.value.replace(/\D/g,"");if(!p&&t){""!==t&&t>=60&&V(),u(t<=1);const e=new Date;e.setDate(15),e.setMonth(5);const a=te(e.toISOString()).add(-1*t,"years");d.dob=te(a).format("YYYY-MM-DD")}j(Object(O.a)(Object(O.a)({},d),{},{age:t}))},style:{border:"none",backgroundColor:"transparent",outline:"none"}})]})})]})})})]}),Object(je.jsxs)("div",{className:"card",children:[Object(je.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(je.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"ANC Enrollment"})}),Object(je.jsx)("div",{className:"card-body",children:Object(je.jsxs)("div",{className:"row",children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"ANC Setting"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"ancSetting",id:"encounterDate",onChange:me,value:k.ancSetting,disabled:J,children:[Object(je.jsx)("option",{value:"",children:"Select"}),E.length>0&&E.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display})))]})})]})}),k.ancSetting&&Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"ENROLLMENT_SETTING_COMMUNITY"===k.ancSetting?"Community Setting":"Facility Setting"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"communitySetting",id:"communitySetting",onChange:me,value:k.communitySetting,children:[Object(je.jsx)("option",{value:"",children:"Select"}),"ENROLLMENT_SETTING_COMMUNITY"===k.ancSetting?Object(je.jsx)(je.Fragment,{children:B.length>0&&B.map((e=>Object(je.jsx)("option",{value:e.code,children:e.display})))}):Object(je.jsx)("option",{value:"PMTCT (ANC1 Only)",children:"PMTCT (ANC1 Only)"})]})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["ANC No ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"text",name:"ancNo",id:"ancNo",onChange:me,value:k.ancNo,disabled:!0})}),""!==D.ancNo?Object(je.jsx)("span",{className:w.error,children:D.ancNo}):"",!0===S?Object(je.jsx)("span",{className:w.error,children:"ANC number already exist"}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date of Enrollment"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"firstAncDate",id:"firstAncDate",onChange:me,value:k.firstAncDate,max:te(new Date).format("YYYY-MM-DD"),disabled:J})}),""!==D.firstAncDate?Object(je.jsx)("span",{className:w.error,children:D.firstAncDate}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Parity ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"number",name:"parity",id:"parity",onChange:me,value:k.parity,disabled:J})}),""!==D.parity?Object(je.jsx)("span",{className:w.error,children:D.parity}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Gravida ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"number",name:"gravida",id:"gravida",onChange:me,value:k.gravida,disabled:J})}),""!==D.gravida?Object(je.jsx)("span",{className:w.error,children:D.gravida}):"",k.gravida<k.parity?Object(je.jsx)("span",{className:w.error,children:"Gravida should not be less Parity"}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Date Of Last Menstrual Period"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"lmp",id:"lmp",onChange:me,value:k.lmp,max:k.firstAncDate?k.firstAncDate:te(new Date).format("YYYY-MM-DD"),disabled:!0})}),""!==D.lmp?Object(je.jsx)("span",{className:w.error,children:D.lmp}):"",0===k.gaweeks?Object(je.jsx)("span",{className:w.error,children:"Invalid date "}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Gestational Age (Weeks)"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"number",name:"gaweeks",id:"gaweeks",onChange:me,value:k.gaweeks,disabled:!0})}),""!==D.gaweeks?Object(je.jsx)("span",{className:w.error,children:D.gaweeks}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Tested for syphilis"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"testedSyphilis",id:"testedSyphilis",onChange:me,value:k.testedSyphilis,disabled:J,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==D.testedSyphilis?Object(je.jsx)("span",{className:w.error,children:D.testedSyphilis}):""]})}),"Yes"===k.testedSyphilis&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Syphilis test result"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"testResultSyphilis",id:"testResultSyphilis",onChange:me,value:k.testResultSyphilis,disabled:J,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"})]})}),""!==D.testResultSyphilis?Object(je.jsx)("span",{className:w.error,children:D.testResultSyphilis}):""]})}),"Yes"===k.testedSyphilis&&"Positive"===k.testResultSyphilis&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Treated for syphilis (penicillin)"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"treatedSyphilis",id:"treatedSyphilis",onChange:me,value:k.encounterDate,disabled:J,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==D.treatedSyphilis?Object(je.jsx)("span",{className:w.error,children:D.treatedSyphilis}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Referred Syphilis +ve client"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"referredSyphilisTreatment",id:"referredSyphilisTreatment",onChange:me,value:k.referredSyphilisTreatment,disabled:J,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==D.referredSyphilisTreatment?Object(je.jsx)("span",{className:w.error,children:D.referredSyphilisTreatment}):""]})})]})]}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Tested for Hepatitis B",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"testedHepatitisB",id:"testedHepatitisB",onChange:me,value:k.testedHepatitisB,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})}),"Yes"===k.testedHepatitisB&&Object(je.jsxs)(je.Fragment,{children:[" ",Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date Test Done"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfHepatitisB",id:"dateOfHepatitisB",onChange:me,value:k.dateOfHepatitisB,min:K.dateOfRegistration,max:te(new Date).format("YYYY-MM-DD")})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Hepatitis B test result"," "]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"hepatitisB",id:"hepatitisB",onChange:me,value:k.hepatitisB,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"})]})})]})}),"Positive"===k.hepatitisB&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Treated for Hepatitis B"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"treatedHepatitisB",id:"treatedHepatitisB",onChange:me,value:k.treatedHepatitisB,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Referred Hepatitis B +ve client"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"referredHepatitisB",id:"referredHepatitisB",onChange:me,value:k.referredHepatitisB,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})})]})]}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Tested for Hepatitis C"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"testedHepatitisC",id:"testedHepatitisC",onChange:me,value:k.testedHepatitisC,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})}),"Yes"===k.testedHepatitisC&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Date Test Done"}),Object(je.jsx)(et.a,{children:Object(je.jsx)(Ke.a,{type:"date",onKeyPress:e=>{e.preventDefault()},name:"dateOfHepatitisC",id:"dateOfHepatitisC",onChange:me,value:k.dateOfHepatitisC,min:K.dateOfRegistration,max:te(new Date).format("YYYY-MM-DD")})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Hepatitis C test result"," "]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"hepatitisC",id:"hepatitisC",onChange:me,value:k.hepatitisC,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"})]})})]})}),"Positive"===k.hepatitisC&&Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Treated for Hepatitis C"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"treatedHepatitisC",id:"treatedHepatitisC",onChange:me,value:k.treatedHepatitisC,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsx)(qe.a,{children:"Referred Hepatitis C +ve client"}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"referredHepatitisC",id:"referredHepatitisC",onChange:me,value:k.referredHepatitisC,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})})]})})]})]}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["Previously Known HIV Status"," ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"previouslyKnownHivStatus",id:"previouslyKnownHivStatus",onChange:me,value:k.previouslyKnownHivStatus,disabled:J,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Yes",children:"Yes"}),Object(je.jsx)("option",{value:"No",children:"No"})]})}),""!==D.previouslyKnownHivStatus?Object(je.jsx)("span",{className:w.error,children:D.previouslyKnownHivStatus}):""]})}),Object(je.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(je.jsxs)(Ge.a,{children:[Object(je.jsxs)(qe.a,{children:["HIV Status ",Object(je.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(je.jsx)(et.a,{children:Object(je.jsxs)(Ke.a,{type:"select",name:"staticHivStatus",id:"staticHivStatus",onChange:me,value:k.staticHivStatus,disabled:J,children:[Object(je.jsx)("option",{value:"",children:"Select"}),Object(je.jsx)("option",{value:"Positive",children:"Positive"}),Object(je.jsx)("option",{value:"Negative",children:"Negative"}),Object(je.jsx)("option",{value:"Unknown",children:"Unknown"})]})}),""!==D.staticHivStatus?Object(je.jsx)("span",{className:w.error,children:D.staticHivStatus}):""]})})]})})]}),b?Object(je.jsx)(lt.a,{}):"",Object(je.jsx)("br",{}),k.gaweeks>0&&!0!==S&&k.gravida>=k.parity&&Object(je.jsx)($.a,{type:"submit",variant:"contained",color:"primary",hidden:J,className:w.button,startIcon:Object(je.jsx)(Qe.a,{}),disabled:m,onClick:async e=>{if(e.preventDefault(),(()=>{let e=Object(O.a)({},D);return e.gaweeks=k.gaweeks?"":"This field is required",e.gravida=k.gravida?"":"This field is required","Yes"===k.testResultSyphilis&&(e.referredSyphilisTreatment=k.referredSyphilisTreatment?"":"This field is required"),e.lmp=k.lmp?"":"This field is required",e.parity=""!==k.parity?"":"This field is required",e.testedSyphilis=k.testedSyphilis?"":"This field is required","Yes"===k.testResultSyphilis&&(e.treatedSyphilis=k.treatedSyphilis?"":"This field is required"),"Yes"===k.testedSyphilis&&(e.testResultSyphilis=k.testResultSyphilis?"":"This field is required"),R(Object(O.a)({},e)),Object.values(e).every((e=>""==e))})())try{k.person_uuid=K.uuid;await x.a.put("".concat(v,"pmtct/anc/update-anc/").concat(q),k,{headers:{Authorization:"Bearer ".concat(g)}});o.b.success("Record updated  successful",{position:o.b.POSITION.BOTTOM_CENTER}),A.push({pathname:"/patient-history",state:{patientObj:K,postValue:se.display,entrypointValue:se.code}})}catch(t){if(t.response&&t.response.data){let e=t.response.data.apierror&&""!==t.response.data.apierror.message?t.response.data.apierror.message:"Something went wrong, please try again";t.response.data.apierror&&""!==t.response.data.apierror.message&&t.response.data.apierror&&""!==t.response.data.apierror.subErrors[0].message?o.b.error(t.response.data.apierror.message+" : "+t.response.data.apierror.subErrors[0].field+" "+t.response.data.apierror.subErrors[0].message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(e,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}},children:b?Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(je.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})}),Object(je.jsx)($.a,{variant:"contained",className:w.button,startIcon:Object(je.jsx)(mt.a,{}),onClick:()=>{A.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(je.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})]})}),Object(je.jsxs)(ne.a,{show:z,toggle:V,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(je.jsx)(ne.a.Header,{children:Object(je.jsx)(ne.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(je.jsx)(ne.a.Body,{children:Object(je.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(je.jsx)(ne.a.Footer,{children:Object(je.jsx)($.a,{onClick:V,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})},Aa=(a(972),a(692)),Pa=a.n(Aa),Ea=a(693),Ha=a.n(Ea),Ba=a(1070);var _a=()=>{const e=Object(s.useRef)(null),t=Object(s.useRef)(null),[a,r]=Object(s.useState)(!0),c=Object(s.useRef)({connected:new Audio("".concat(".","/incoming.wav")),messageReceived:new Audio("".concat(".","/incoming.wav")),disconnected:new Audio("".concat(".","/incoming.wav"))});Object(s.useEffect)((()=>{t.current&&t.current.click(),a&&Object.values(c.current).forEach((e=>{e.load()}))}),[a]);const i=e=>{if(a){const t=c.current[e];t&&t.play().catch((e=>{console.warn("Audio playback failed:",e)}))}};return Object(je.jsxs)("div",{children:[Object(je.jsx)(Ba.a,{color:"primary","aria-label":"toggle-sound",style:{position:"fixed",bottom:"16px",right:"16px",zIndex:1e3,background:"white",color:"#014d88",height:"35px",width:"35px"},onClick:()=>r((e=>!e)),children:a?Object(je.jsx)(Pa.a,{}):Object(je.jsx)(Ha.a,{})}),Object(je.jsx)(Ce.a,{url:f,topics:["/topic/checking-in-out-process"],onConnect:()=>{},onDisconnect:()=>{},onMessage:t=>{var a,s,r,c;t&&null!==t&&void 0!==t&&null!==(a=t.toLowerCase())&&void 0!==a&&a.includes("check")&&null!==t&&void 0!==t&&null!==(s=t.toLowerCase())&&void 0!==s&&s.includes("pmtct")&&(r=t,c="messageReceived",e.current!==r&&(e.current=r,Object(o.b)(Object(je.jsx)("div",{className:"toast-content",children:Object(je.jsx)("p",{className:"toast-message",children:r})}),{autoClose:5e3,className:"light-toast"})),i(c))},debug:!0}),Object(je.jsx)("button",{ref:t,style:{display:"none"},onClick:()=>i("connected"),children:"Hidden Play Button"})]})};function ka(){return Object(je.jsx)(n.a,{children:Object(je.jsxs)("div",{children:[Object(je.jsx)(o.a,{}),Object(je.jsx)(_a,{}),Object(je.jsxs)(n.d,{children:[Object(je.jsx)(n.b,{path:"/patient-history",children:Object(je.jsx)(pa,{})}),Object(je.jsx)(n.b,{path:"/register-patient",children:Object(je.jsx)(Ca,{})}),Object(je.jsx)(n.b,{path:"/enroll-patient",children:Object(je.jsx)(Ra,{})}),Object(je.jsx)(n.b,{path:"/update-patient",children:Object(je.jsx)(wa,{})}),Object(je.jsx)(n.b,{path:"/",children:Object(je.jsx)(Ae,{})})]})]})})}var Ya=e=>{e&&e instanceof Function&&a.e(6).then(a.bind(null,1228)).then((t=>{let{getCLS:a,getFID:s,getFCP:r,getLCP:c,getTTFB:i}=t;a(e),s(e),r(e),c(e),i(e)}))},Ma=a(694);let Fa="ltr";const za=[{typography:"poppins",version:"light",layout:"vertical",headerBg:"color_1",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"full",direction:Fa},{typography:"poppins",version:"light",layout:"vertical",primary:"color_5",headerBg:"color_5",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",direction:Fa},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_11",headerBg:"color_1",sidebarBg:"color_11",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_11",direction:Fa},{typography:"poppins",version:"dark",layout:"vertical",headerBg:"color_3",navheaderBg:"color_3",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_1",direction:Fa},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_15",headerBg:"color_1",sidebarStyle:"full",sidebarBg:"color_1",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_15",direction:Fa},{typography:"poppins",version:"light",layout:"horizontal",navheaderBg:"color_1",headerBg:"color_1",sidebarBg:"color_9",sidebarStyle:"modern",sidebarPosition:"static",headerPosition:"fixed",containerLayout:"wide",primary:"color_9",direction:Fa}],La=Object(s.createContext)();var Va=e=>{const[t,a]=Object(s.useState)({value:"full",label:"Full"}),[r,c]=Object(s.useState)({value:"fixed",label:"Fixed"}),[i,n]=Object(s.useState)({value:"fixed",label:"Fixed"}),[o,l]=Object(s.useState)({value:"vertical",label:"Vertical"}),[d,j]=Object(s.useState)({value:"ltr",label:"LTR"}),[b,h]=Object(s.useState)("color_1"),[O,m]=Object(s.useState)("color_1"),[u,p]=Object(s.useState)("color_1"),[x,v]=Object(s.useState)("color_1"),[g,f]=Object(s.useState)(!1),[y,N]=Object(s.useState)(!1),[T,S]=Object(s.useState)({value:"light",label:"Light"}),[C,D]=Object(s.useState)({value:"wide-boxed",label:"Wide Boxed"}),R=document.querySelector("body"),[I,w]=Object(s.useState)(0),[A,P]=Object(s.useState)(0),E=e=>{h(e),R.setAttribute("data-primary",e)},H=e=>{m(e),R.setAttribute("data-nav-headerbg",e)},B=e=>{p(e),R.setAttribute("data-headerbg",e)},_=e=>{v(e),R.setAttribute("data-sibebarbg",e)},k=e=>{c(e),R.setAttribute("data-sidebar-position",e.value)},Y=e=>{j(e),R.setAttribute("direction",e.value);let t=document.querySelector("html");t.setAttribute("dir",e.value),t.className=e.value},M=e=>{"horizontal"===e.value&&"overlay"===t.value?(l(e),R.setAttribute("data-layout",e.value),a({value:"full",label:"Full"}),R.setAttribute("data-sidebar-style","full")):(l(e),R.setAttribute("data-layout",e.value))},F=e=>{"horizontal"===o.value&&"overlay"===e.value?alert("Sorry! Overlay is not possible in Horizontal layout."):(a(e),f("icon-hover"===e.value?"_i-hover":""),R.setAttribute("data-sidebar-style",e.value))},z=e=>{n(e),R.setAttribute("data-header-position",e.value)},L=e=>{R.setAttribute("data-theme-version",e.value),S(e)},V=e=>{D(e),R.setAttribute("data-container",e.value),"boxed"===e.value&&F({value:"overlay",label:"Overlay"})};return Object(s.useEffect)((()=>{const e=document.querySelector("body");e.setAttribute("data-typography","poppins"),e.setAttribute("data-theme-version","light"),e.setAttribute("data-layout","vertical"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-nav-headerbg","color_1"),e.setAttribute("data-headerbg","color_1"),e.setAttribute("data-sidebar-style","overlay"),e.setAttribute("data-sibebarbg","color_1"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-sidebar-position","fixed"),e.setAttribute("data-header-position","fixed"),e.setAttribute("data-container","wide"),e.setAttribute("direction","ltr");let t=()=>{w(window.innerWidth),P(window.innerHeight),window.innerWidth>=768&&window.innerWidth<1024?e.setAttribute("data-sidebar-style","mini"):window.innerWidth<=768?e.setAttribute("data-sidebar-style","overlay"):e.setAttribute("data-sidebar-style","full")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),Object(je.jsx)(La.Provider,{value:{body:R,sideBarOption:[{value:"compact",label:"Compact"},{value:"full",label:"Full"},{value:"mini",label:"Mini"},{value:"modern",label:"Modern"},{value:"overlay",label:"Overlay"},{value:"icon-hover",label:"Icon-hover"}],layoutOption:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],backgroundOption:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],sidebarposition:r,headerPositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],containerPosition:[{value:"wide-boxed",label:"Wide Boxed"},{value:"boxed",label:"Boxed"},{value:"wide",label:"Wide"}],directionPosition:[{value:"ltr",label:"LTR"},{value:"rtl",label:"RTL"}],fontFamily:[{value:"poppins",label:"Poppins"},{value:"roboto",label:"Roboto"},{value:"cairo",label:"Cairo"},{value:"opensans",label:"Open Sans"},{value:"HelveticaNeue",label:"HelveticaNeue"}],primaryColor:b,navigationHader:O,windowWidth:I,windowHeight:A,changePrimaryColor:E,changeNavigationHader:H,changeSideBarStyle:F,sideBarStyle:t,changeSideBarPostion:k,sidebarpositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],changeHeaderPostion:z,headerposition:i,changeSideBarLayout:M,sidebarLayout:o,changeDirectionLayout:Y,changeContainerPosition:V,direction:d,colors:["color_1","color_2","color_3","color_4","color_5","color_6","color_7","color_8","color_9","color_10","color_11","color_12","color_13","color_14","color_15"],haderColor:u,chnageHaderColor:B,chnageSidebarColor:_,sidebarColor:x,iconHover:g,menuToggle:y,openMenuToggle:()=>{"overly"===t.value?N(!0):N(!1)},changeBackground:L,background:T,containerPosition_:C,setDemoTheme:(e,t)=>{var a={},s=za[e];R.setAttribute("data-typography",s.typography),a.value=s.version,L(a),a.value=s.layout,M(a),E(s.primary),H(s.navheaderBg),B(s.headerBg),a.value=s.sidebarStyle,F(a),_(s.sidebarBg),a.value=s.sidebarPosition,k(a),a.value=s.headerPosition,z(a),a.value=s.containerLayout,V(a),a.value=t,Y(a)}},children:e.children})};i.a.render(Object(je.jsx)(r.a.StrictMode,{children:Object(je.jsx)(Ma.a,{children:Object(je.jsx)(y.a,{basename:"/",children:Object(je.jsx)(Va,{children:Object(je.jsx)(ka,{})})})})}),document.getElementById("root")),Ya()}},[[973,1,2]]]);
//# sourceMappingURL=main.d94a2f22.chunk.js.map